{"componentChunkName":"component---src-templates-post-jsx","path":"/basic/","result":{"data":{"site":{"siteMetadata":{"title":"hyungkishin.blog"}},"markdownRemark":{"id":"5bd820f1-3f72-5b9c-a4ec-61e4b07649ac","excerpt":"팀 이동을 하면서 알게된 Redis 의 존재  Redis 로고는 무슨 의미일까 .. \n별 모양으로, 데이터를 신속하게 저장하고 검색하는 그의 주요 기능을 상징한다. \n별은 네트워크 노드와 데이터 속도를 연상시키며, Redis의 효율성과 성능에 초점을 맞춘다. \n이 로고는 주로 빨간색과 흰색으로 구성되어 있으며, 이는 Redis의 신속함과 역량을 대표한다.…","html":"<h2>팀 이동을 하면서 알게된 Redis 의 존재</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 424px; '>\n      <a class='gatsby-resp-image-link' href='/static/09058dda9e2c0597aa6bc7a45acf30c9/4910e/img_4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 84.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAADCElEQVR42oWU7U+TVxiH+93ELcYPtkVLafs853mj0JjwYVnG1LgQQiLLlmjiH6DGyIaJrx82hyE4QikvYygxqEMBFQMWgqgtNaISYlTcMjEjijA2g6IxUVRse5m2UBARnuR8ec65r/t33+fcPxOLfNFIhGg4nFiRCESjC543zU+JJiGf3IvBFwNOq5mt4u3YGKPH6xksOsCza1eJTE4ueN40kzj2M7ERfvWS8e4A9woLuPnNWgZ/+YkHh4rp+/pL7nybx+NjRwmP/ru4wtcjIwzXHebv7Vu5u3kTtzbkcnP9Gh7VVPO89zq38vMIuOw0p6bQudrDvZ0/8Kw7QPT1RLIdpuleDDc3cSPT4IbiYjwUTCYZLPqZwOdL6JEddOmCBkNnj9PJgVQb3ZKd0MoV/FlSnGyBKTLV+Mv791NjXkGnx03fumz+2vg9/d/lM1BYwH+NJ/m/5Qx9X33BVUMhmKFzJdOgzePGa7VwYe++GeC0wiG/nzqXkzJZptqRRnOajaDsoD8/j7GW0wyVFHNdOAlmGDRpgkpZwifLNDjSGD7TPAs4pfD2ryV0OW0EMg1OagqVQuATgmN2G+0rLbQ7U6lXBWWSi2pJokVXCHnSabNZuVL448cl9/h8HLJaOK6rdBoq3W6NVl3hdyHwxpYsUydkOgyVUIZOm6FQq4p4TG9VVQIYDs8ofNR4Cr9wcVRV8EoSv8kS53QlDu4yVC6mqwTdGqc1QUWsXEnilKHT6bIzUF42z6Xs3kXd8mVc8ri5lGHQqClUSInABlXwhyIoj5UbS2RoBD3pdLh1Kj5bSkfBjlkKp59Nby/1ubmUrrJRm2LlvCbiQa2GRq0scVjItLsToLPCRaXFHG9F65YtPLl/PzkcHzzs8OQkD0Mh2rZtw6dplJvNNEmO+EVdzjRocNops5ipycoiePAgT6dA84/eHCd5/vABPV4vR7KzKbVaKU1JoT4nh9snTjAx/nTGKGLzPMsoPnKbuTb15sULBvx+/rnQxbuJiU+CFravqX7MdZKkdS3gie8BPd4l3WjONpAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_4.png' title='' src='/static/09058dda9e2c0597aa6bc7a45acf30c9/4910e/img_4.png' srcset='/static/09058dda9e2c0597aa6bc7a45acf30c9/e7570/img_4.png 170w,\n/static/09058dda9e2c0597aa6bc7a45acf30c9/f46e7/img_4.png 340w,\n/static/09058dda9e2c0597aa6bc7a45acf30c9/4910e/img_4.png 424w' sizes='(max-width: 424px) 100vw, 424px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_4.png</figcaption>\n  </figure></p>\n<blockquote>\n<p>Redis 로고는 무슨 의미일까 .. <br/>\n별 모양으로, 데이터를 신속하게 저장하고 검색하는 그의 주요 기능을 상징한다. <br/>\n별은 네트워크 노드와 데이터 속도를 연상시키며, Redis의 효율성과 성능에 초점을 맞춘다. <br/>\n이 로고는 주로 빨간색과 흰색으로 구성되어 있으며, 이는 Redis의 신속함과 역량을 대표한다. <br/>\nRedis는 주로 데이터베이스, 캐시, 메시지 브로커 등 다양한 방식으로 사용되며, <br/>\n이러한 용도를 반영하듯 로고는 단순하면서도 인식하기 쉽게 디자인 되었다. - feat G 선생 <br/></p>\n</blockquote>\n<h2>본격, 본인 이 알고있던 Redis 란</h2>\n<p>Key Value 형식으로 응답속도가 무척 빠른 NoSql DB</p>\n<p>흠 … 본격 Redis 라는 친구를 파헤치기 앞서, 캐시 라는 본질적인 키워드 부터 살펴보자.</p>\n<h2>캐시 란</h2>\n<p><code class=\"language-text\">요청 결과를 어딘가에 미리 저장해 두었다가 재 요청이 왔을때 빨리 주는것</code></p>\n<h2>DB 엔 캐시가 없나 ..?</h2>\n<ul>\n<li>\n<p>ㄴㄴㄴ RDB 도 사실 내부적으로 캐시가 있다.</p>\n<ul>\n<li>그런데 여러 query 로 계속 접근 하다보면, 기존의 캐시를 날리고 Disk 에서 새로 읽어야 한다.</li>\n</ul>\n</li>\n</ul>\n<h2>효율적인 방법이 없을까.</h2>\n<p><code class=\"language-text\">뭔가 데이터를 질의 하는 패턴?</code> 이라던지 ...</p>\n<h2>파레토의 법칙에 대해서 들어 봤나 ?</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 317px; '>\n      <a class='gatsby-resp-image-link' href='/static/eb83b2bb8e3fc675e6449304be22c0c6/66d24/img_5.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 94.11764705882352%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADC0lEQVR42oWUTW8TVxSGZ1dWqELd0IoNS5ZISP0BWWRdNX+hi6KsEFVximigVdVFoRWLZBOJlaOEjxVJFEUFpa0iBLQKaYvHduJvx1/x2LGdsT1z732qe8fjBCehVzqaueee+857zrznWI1Gg2azecy0v9VqUSgUWFhYYHZ2llgsRrvd5n13LP5nRaNR5ufnWV1dNba/v2/8SqkT4y19cJrVajWWlpbY2Nhga2uL9fV1tre3EUKceudEhuHXi8UiiUSCtbU15ubmmJmZIZPJ4Pv+MC6MHQKe5Az3ui6bm5tEIhHGxsaYmJgwHxmNPXrfGmUmTcDgXUp2SyXu3r3H+Pg4t+/cod/3RmJPSTmsccNVuJ6i5yuEDJwaxO32hkB9X+H2oeme8lOkQQuAbq5IWr0AKFFR/Lsr2a5KnANI7wn+Lio8AftdmFpW9MUJgAETxdau4tyU4FUuAFz+RxB9DYt/QbIiWbMV0T+h68GLDHz0jeRtOYgdJBMA+iIAvP+74vJPih9+DU7r9TrV8i7VSpl6vUalUjFS0rE3VxTWpOCX34JYIQeApi6DIj57U+HhH3mWX5fxfGn05rou3W6XvufR6/XwvT6dHly5J/ngumBsRg7Z6Yel/6Re+mJ2J04hHSefitNoHeDJd+sTsliJKc7ekJy/JU3aL7OHaVuhhqrVKrYdJ5HcIWYnqFUrpuBdLyjH0dJ8+Uhy5ivJhWnJmeuSWyuHaVuh3nQH6K7QrZVMJkmn00ghjHy0qYESqh3FpR8l56YChh9GJJ/+LHG9IzXsdDoGRIOFpsHb7ZYJ0iwPBkwfvZGcvSG4MC345NvAtDKeJ9UhYLlcJh6PHwMslUpD0bv9APCzB2BNwsXv4fMH8PF0sP9iccBQN7pOb5Sh3qdSqeEg0Mvp+ESeOEzOO1xbdPj6scO1hw5Xow7fPW0YZVh6vtm2bRiNmvbroRmuZsMhv/OWUtammLYppGyKGZtSxia3EzOz0trb2yOXy5nJPGrar8/DpUWdyebJ5gvGcvqZK5LNF41fN8J/iMxwmcNI1UwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_5.png' title='' src='/static/eb83b2bb8e3fc675e6449304be22c0c6/66d24/img_5.png' srcset='/static/eb83b2bb8e3fc675e6449304be22c0c6/e7570/img_5.png 170w,\n/static/eb83b2bb8e3fc675e6449304be22c0c6/66d24/img_5.png 317w' sizes='(max-width: 317px) 100vw, 317px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_5.png</figcaption>\n  </figure></p>\n<p><strike> 세상은 역시 20% 의 진실과  80% 의 구라 가 진리 </strike> <br/>\n-> 전체 요청의 80% 는 20% 의 사용자 라는 이야기</p>\n<h2>가장 보통의 캐시 사용법 은 어떻게 될까 ?</h2>\n<p>널리 알려진 방법으로는 <code class=\"language-text\">Look aside cache</code> 가 존재한다. <br/>\n웹 서버 측에서 <code class=\"language-text\">특정 데이터</code> 를 요청 → 캐시 있니 ? (캐시에 먼저 물어봄) → 있으면 반환 → 없으면 DB 조회 <br/></p>\n<blockquote>\n<p>그밖에, write back 사용 <br/>\n가장 널리 알려진 모델은 ELK ← 로그 수집했다가 한번에 write ! ( 좀 야매가 섞여있다 ) <br/></p>\n</blockquote>\n<h2>아니, 그래서 Redis 는 왜 씀</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; '>\n      <a class='gatsby-resp-image-link' href='/static/e3f013ce84fdcb9ece0cff06efabc2ed/0f09e/img_6.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 57.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/ElEQVR42k2P20+bBRiH+++YeOWFXi/hwmiyZciGtA66zY1sOlEj3amlBzaYA2vLaRQmbcdcR1kHRkoHPSB+X1so0AI9jJ6gjsqWULQ0AUtYeAy9MD7Jkzf5/ZI37yvZ2SmQyaTJ5XLk83lKpRKHh4cc54XtbYrFIkdHRxwcHFAul9nf36/0xxzPt4dv+T+S9T/yiKLAE5uN3MY6mdwWa9k8fr+Az+cjFosST28SDofxeDwEAyKpjT8rRqOrpNMp0rk3ZN/8Q/b1HhJxMclCaI5ZQWB1ZRlx5RXTwSTOiXFeTE7gD63gDW8Sia4Rmp8nnkggRDYQl9bweKaJhJcQw2lm40VmYwUkiptaLjdIabmp4MvGizjFJG2dRqTVVcjrPuaWSksoW6brwRCq5qvoNCrci5t4FnKYzRbs4y6EWAF/4q+KkvP1ck588B7VH1XhHLPiW8zS9PU1zp48waenq7CYTUwFU8ilp5CdruJz2UnG3SG6+36i6VID7a1qhNU84ssiYmIHiVKp4f1332HkUR+l3VfMRLYw9A2g+KoBr9PK+kaKhzYXsk8+RKW4iuAdwxdao61dz7XLciYcFmZCccSXu4jxHSTnztTQeU9FdOEFOrWKMSGLzeFidztGMjbLlLjMvfs/8Gy4m/LeFtF4FM9yAZfnN5IrPnLZVQKJbcTE34jHLztvN5NyO5gbMGBr+oIewwA64zAjo88YND+itespPb0PWJ4e5HU6gPiLiS5jJ0rtddxTdhS3b/BwdJpgsoRwfGGoXcvvqhv4W1VEvtfh1rVgMNnp6Lej73+K6fEkRusUTwY7mLfdIvJch8d8Ham8lmpZDXXyWmrra7BNBgll9pEE7qqZa9NUFO+04FU2M9QzRPewC73JTq/1V/SDz+kfGiEwomXR0Yrws5pvv7mA7OJnnL8ip7ruFOr7euYze0iCd9X8Z5uGGeV3PO4wYrA6+dE0Sq91orK4y+Jk3NLJkkOD39bCHWUjZ+VS5I311J47w4Url/CG8/wLKDKZd0niUlUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_6.png' title='' src='/static/e3f013ce84fdcb9ece0cff06efabc2ed/0f09e/img_6.png' srcset='/static/e3f013ce84fdcb9ece0cff06efabc2ed/e7570/img_6.png 170w,\n/static/e3f013ce84fdcb9ece0cff06efabc2ed/f46e7/img_6.png 340w,\n/static/e3f013ce84fdcb9ece0cff06efabc2ed/0f09e/img_6.png 640w' sizes='(max-width: 640px) 100vw, 640px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_6.png</figcaption>\n  </figure></p>\n<ul>\n<li>\n<p>너무 간단하다, 아래 와 같은 비용을 줄이기 위해서다</p>\n<ul>\n<li>개발의 편의성</li>\n<li>개발의 난이도</li>\n<li><code class=\"language-text\">+@ 짜치는 일 줄여줄라고</code></li>\n</ul>\n</li>\n</ul>\n<h2>짜치는 일 뭐가 있을까 ?</h2>\n<ul>\n<li>랭킹 서버 직접 구현</li>\n<li>\n<p>기타 = Redis 를 쓰면 좋은데 직접 구현할려면 좀 힘든 것 들</p>\n<ul>\n<li>사실상 뭔가 편의로 만들어진 대부분의 Tool 과 FrameWork 은 외부 편의로 인해 개발자가\n<code class=\"language-text\">비즈니스 로직에만 집중하기 위해서</code> 만듦</li>\n</ul>\n</li>\n</ul>\n<h2>내가 속한 팀의 어느 비즈니스 에서 Redis 를 사용할까</h2>\n<ul>\n<li>환율 ( 매일 오전 9시 )</li>\n<li>oAuth 인증토큰</li>\n<li>위클리 베스트 상품</li>\n<li>도시별 상품리스트</li>\n</ul>\n<h2>단점은 ?</h2>\n<p>사실 내가 회사 CEO 라면 툴좋고, 기술좋고, 세상좋고 뭐든 해도 됨.\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/81b189dd1a25c3a6546ed6a0dd751588/3be76/img_7.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 63.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADX0lEQVR42p2TbUzUBQDG/219YC2rrT5VzopVGy5asmZHTKjABaEQiUwOOBGB0wQM4TreRgrxKuicIohDWREi8dKBdB3wRwSOPxwHDLjzkh0iwcXbUeBST7v7Nf1eH/ptz8fnt+fLI/AfOJ1O5ubmWF5exm63P8nq6ioul+tfO8LGeB8bw79w19CJTdLx6w0tK2MiG6afmZ+eZMJkRvNTK7Ozt7HbV7EtLqHXalifuMaqSWTdfIMNUw9/TopsmHsR7lel8qg4Ek5GYyyOpaVEia1IgeNHBZZ6FaNjE/QOSAxIw3Rf7+N6dzfFSjmjRYE8bEvjr+8ScDZ9iavlCA+vJiM4arPgfCIrhTHk7QsiLXE/5bs+YLJMyc5Xn+eYPJJbHRXcEwuwNOeju1KBob2GS2kKmlPDKI34mKJQHwz5EaDNRnhwKQOqlEgpwYT6fEjpiXzkHpuxlytpyoxCU5mDofxzaA/HXBJAc1kGDaU5FIUH0FGZxdqtFqSWcvIjA5mtSkR4cDkLqg4hJQWiToin+Yd6ojzd4fxhVurz6NdUMt1Vwx/6alrLcjgSGEJ1XAidBQdZu9MOd3sBI2OdFfTnRj1e+FioZv1sBqqQQOJCQyj41AdnZTb3TyciNV2kf9hIu7YLg3GMud/mmb1yHOlsKuO9F7CN1zFjqGWo7RTWCyqER/V5OCu+gcx4sjzdCXr5RTRhO+BcLn9XJHGvo4op801EUaSrW8RmncTVUISYG8v8VAOzhlqWTA3oNSexnPoa4WZpEmsnkiE2hGrZVlTe76LbsxNOf8tCwTE0MTvQnctnRVfIfGsedYf3kveJFxFengy2nWF9uhHHwjVKjsbwxdvuCAkfycjweA1bsD+V3l4c3/YOYpA/C3EK5G9sxnPTJna/tQXzxQSyg99HEeBPp9iDtkOLcUiPdbSVmSmRSD9f/La8gpDo/R67X3JjwE9G07at1Hi4M+gro93XG4+nn2L7s254PePGAT8Z2194DuWuzxgZkpAG9dh+X2RQGmLm9h10Gg0Bb76OcCY9hcL4aHrURzGqUjFmqpBUX9GYcojkvXtIDQ8jY3802QkHUcfISZfvQ31AQWvd9xhGRmhsvEp/Xx+LS0sUq9MR+J84HA5MJhNmsxmLxYLVan3y/X8AOHb5IAyVQ+IAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_7.png' title='' src='/static/81b189dd1a25c3a6546ed6a0dd751588/ca1dc/img_7.png' srcset='/static/81b189dd1a25c3a6546ed6a0dd751588/e7570/img_7.png 170w,\n/static/81b189dd1a25c3a6546ed6a0dd751588/f46e7/img_7.png 340w,\n/static/81b189dd1a25c3a6546ed6a0dd751588/ca1dc/img_7.png 680w,\n/static/81b189dd1a25c3a6546ed6a0dd751588/3be76/img_7.png 704w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_7.png</figcaption>\n  </figure></p>\n<blockquote>\n<p>나만의 회사가 아닌경우는 아주 인생을 하드코어하게 사는 수가 있다.</p>\n</blockquote>\n<h2>어떨때 인생이 하드코어하게 될까? (<del>무식할때)</del></h2>\n<ul>\n<li>\n<p>메모리 관리를 못했을때</p>\n<ul>\n<li>Physical Memory 이상을 사용할때</li>\n</ul>\n</li>\n<li>\n<p>Replication 시</p>\n<ul>\n<li>네트웍 이슈나, 사람의 작업으로 동시에 replication 재시도 되도록 하면 문제가 발생할 수 있음</li>\n</ul>\n</li>\n</ul>\n<h2>그럼 어떤 것들을 알아야 할까 ..?</h2>\n<ul>\n<li>Redis 서버 구조</li>\n<li>\n<p>Collection</p>\n<ul>\n<li>redis 의 자료구조</li>\n</ul>\n</li>\n<li>효율적인 메모리 관리 방법</li>\n<li>장애 대응시</li>\n<li>그밖에 주의사항</li>\n</ul>\n<h2>갈길 머네 .. 그래도 좋았어, 배워보자</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 358px; '>\n      <a class='gatsby-resp-image-link' href='/static/170d928e523255a89ca9c62e1687639b/270bd/img_8.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 110.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHklEQVR42iWU2Y/b1hWH9U+ks0gjiRRH3EktXERSpCiJGkoabbNoPDP2ZCaJ4xTTulmcuIthtwnaBi6M9CFFDfQhaB+ahwIF+px/7iskPxzc+/ThO/d3zi1omoCh1zCNGoYhvbtbdeJIIx/7xHlMJw1od1ysho3tODihz2IVc3cdM0oMBqFOnhgc900KqiaiGyKGUcM0a+i6iKGLdAKLIA3oRi6Dlk6/qTNomQy8JsNOm16nzXrd5/2riH5HZdIzWPVtCpomoukb6MZS2oKDnovTdYnzjKPEY9KUmbZtFr7DWRhwEQU8iNvkocXD65T5yGaaGJxn1jugvgGZ0tas5ejM3z8nmeccna3J3CYzz2DmtVgFEee9IZeDAVf9iJtjj8cfTlgvPOaxwXW+BUrv3s6S0LUqXrfF2f0HrB7f0h9PyR2LuW8y9ZusopiL4RGXR2Me5hl3k4DPnp5zsQxZ9QwejTctq8LWbBuKViEIGkxWOfFkQNexyV2TvNMgbLQJ3JTjbMbVeMqDfMyjPOTz+xMuFyFnqcHDiUXhsFakXisib899Ir3GwpSYzAYcZxEjR8UPEqoXN7i9jNRPWQynjOKMo9jn2S+XrMctTlPzXcuCWEIU9zgU9hCFXTxZ5MQxuLmZc5pFTByDkWsThAkdJyBpdxgmGW43JXU9bi8zllmD09TgKjMplIUi5eoeQnWPUnWX5mGZi26Tq9MBy4HPtOMx76YsujlZOGLYbnOe9giDAcOWxd1ZxKxvcdIzWW/m8EAocVAtUt0AK7scSkXmjsx6ErJMHcYbYNxnlRyTuwEnrs3toMfFIOVqGHG59Dmb2Cxig7PUpFAS6hxUq1Sqe1voQXkXc2N55LNMWhz7FvOox8Abklg2o2aD826Pm3zIXR7juwZhoLBKDVZdnUKx5lEUVA4qZaqV3S1YE/ZZuHVmnsrUsTjyQkInoNsKSN2YeRjyaNjjNHGoazq2rXAc6yxClUJRbFIUFEoby8oOpdIOlrBHJhfJLYlx2yLzQ6Jmm57Z4qgRMu74XA98Yr+BoJhopsYoUplvgdU6xXKZUrlI8eBnaEqFuLbDQNol1URGDZXcd8g7HmMn4rjVYea2WcVtFNOmplnImk7kKswihcJ+uUyxtMNBZR9BLDI7HTAej0jlMonwHokhMWgaDF2PiRdxHvqchA1sw6Ra38As6qqBs9n3QKWwTVgSqcoqdV1nfn3K4lfPGd5/Q9if4ssSvnJIx9DpahrThkbXVijXdGqqjaQ1qKs6TkthEsgURFlDkE0E2eBAUunM1szuv2T06+9Jvv4P4Qd/oOP1sGWZIBoyW5xhtDuUDy1qWmNbkmLQbCqM/C1QR9iWQUVSqLtDsvuXjD79I6NX/2L6l//hnz9BsQNWL95y9+YH7ChFVO2toWJY6Ka5/ZQnXYWCqOiIirG1LEsKOxUZc/lzuk9fk/zuB9yPXlOWNGTboTG5ZfH8DYetgKpiU6wolMQ6UewQJw5nJ9HGUEVUTCqShtEOmZ+sydaPuXj1lsd//S/5oxdk+RyvP2Xx8Uvu//QPlg8/xIsHxNkxWT5FUnVks8n8o19QEOQ6omqyXz0kX17w3fd/54vnL/jsz295/e+fePX6O7799mumqwf8/m//5M2PP/Hbl99w9+SeJ0+f8eyrrzCbLYS6jp1fbgwlNpaCrHGo21hOSKuT0ApH9G9/Q3j5OaNpjudqxNNThtefEMQxRstFsRrozRam41HTG6huwv8BdGXoTD/zUFEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_8.png' title='' src='/static/170d928e523255a89ca9c62e1687639b/270bd/img_8.png' srcset='/static/170d928e523255a89ca9c62e1687639b/e7570/img_8.png 170w,\n/static/170d928e523255a89ca9c62e1687639b/f46e7/img_8.png 340w,\n/static/170d928e523255a89ca9c62e1687639b/270bd/img_8.png 358w' sizes='(max-width: 358px) 100vw, 358px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_8.png</figcaption>\n  </figure></p>\n<h2>나 빼고, 세상이 알고 있던 Redis 란</h2>\n<ul>\n<li>\n<p>정의:</p>\n<ul>\n<li>Remote Dictionary Storage의 약자로, 이름 그대로 원격 위치에 데이터를 저장하는 메모리 기반의 데이터 저장소다.</li>\n<li>실시간으로 데이터를 처리해야 하는 다양한 애플리케이션에서 주로 사용됨.</li>\n</ul>\n</li>\n<li>\n<p>특징:</p>\n<ul>\n<li>메모리 기반:</li>\n<li>데이터를 메모리에 저장하여 높은 속도로 데이터 처리 및 접근이 가능하다.</li>\n<li>이는 데이터베이스, 캐시, 메시지 브로커 등 다양한 형태로의 활용을 가능하게 한다.</li>\n<li>하지만, 메모리는 휘발성이기 때문에 전원이 꺼지면 저장된 데이터는 없어진다.</li>\n<li>싱글 스레드:</li>\n<li>마술처럼 느껴질 수 있는 Redis의 빠른 처리 속도는 싱글 스레드 아키텍처에서 비롯된다.</li>\n<li>이는 복잡한 동시성 처리나 락(lock) 없이 단순하고 신속한 데이터 처리를 가능하게 한다.</li>\n<li>하지만, 멀티 코어 서버의 경우 하나의 CPU 코어만 사용한다는 의미이기도 하다.</li>\n<li>처리량:</li>\n<li>초당 5만에서 25만 요청을 처리할 수 있다는 점은 Redis의 처리 능력이 얼마나 뛰어난지를 잘 보여준다.</li>\n<li>데이터 저장 형태:</li>\n<li>Key-Value 형식으로 간단하면서도 직관적인 데이터 관리를 가능하게 한다.</li>\n<li>이는 개발자들이 효과적으로 데이터를 저장하고 관리할 수 있는 구조를 제공한다.</li>\n</ul>\n</li>\n<li>\n<p>장점</p>\n<ul>\n<li>빠른 Read / Write 속도:</li>\n<li>메모리 기반의 특성으로 인해 전통적인 디스크 기반 데이터베이스보다 읽기와 쓰기 속도가 월등히 빠르다.</li>\n<li>다양한 아키텍처 지원:</li>\n<li>Stand Alone부터 시작해 Master-Slave, Sentinel, Cluster 등 다양한 구성으로 확장성과 높은 가용성을 제공한다.</li>\n<li>파티셔닝:</li>\n<li>더 큰 데이터 세트를 여러 서버에 분산하여 저장함으로써, 단일 서버의 메모리 한계를 극복하고, 처리량을 증가시킬 수 있다.</li>\n<li>인기있는 이유:</li>\n<li>대규모 배포가 용이하고, 다양한 프로그래밍 언어로 작성된 클라이언트 라이브러리 지원으로 인해 널리 사용된다.</li>\n</ul>\n</li>\n<li>\n<p>단점</p>\n<ul>\n<li>휘발성 문제:</li>\n<li>다만, 휘발성을 보완하기 위해 AOF와 RDB 스냅샷 같은 지속성 옵션을 제공하기도 한다. 이를 통해 데이터의 영속성을 확보할 수 있다.</li>\n<li>단일 스레드 구조:</li>\n<li>멀티 코어 서버의 모든 코어를 활용하지 못하는 한계가 있다.</li>\n<li>메모리 단편화:</li>\n<li>시간이 지나면서 메모리가 조각화되어 관리가 필요하다. 메모리를 효율적으로 관리하지 않으면, 시스템의 성능에 영향을 미칠 수 있다.</li>\n<li>대용량 데이터 처리 부적합:</li>\n<li>데이터의 양이 많아질수록 메모리와 디스크 간의 동기화에 시간이 오래 걸리고, 이로 인해 지연 시간이 발생하면서 전체 성능에 영향을 미칠 수 있다.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Redis는 고성능, 고확장성, 고가용성을 제공하는 다목적 데이터 저장소이다. <br/>\n하지만, 그 사용법과 환경에 따른 한계는 명확히 인지하고, 용도에 맞게 적절히 활용해야 한다.</p>\n</blockquote>\n<h2>목적 : Cashing</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/dcc451b14686f8505937677ae7d0fcd2/9d8cf/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 41.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVR42k1Ry07EMAzs//8UIKQ9cQAhYNWFLn2lbRLnne7CZZCzrcTB0tgev8aVTyviei2mjMfbxwl7LF1+CmYL+VJsx3HDOzfkG66sj2i7Aco42BBxbvtCOHcD6tMnXEylwXvdoOlEaaStxyQ1XMwwLqIbRpALhVcxeD/WkNrg63vA/eMTJFnMSuP55RWLIviU8fpR49S0CGlFO044Nj1sSJDkcHeoMS4Wab2g4jV5Yr7+ou0FHh4PMNu0WZtStHOMjyXOS/DQ/eRZ83V5OznmQuJCNi606Za8abjrdoX/pxv7btOTT+c+peGiNBQR2q7HKCaEmCCVhnEOmgxmqUDWwYUAz3qmDOs8nA+IeYX1Hv0wYl4kfMyoNBGmaYIQE+Z5hrEWRAQyBqMQEEKAOXtcKQWtdcEppZKTUsI6HhpRsV5kPRTZ7aNr8SUZjNNSvs8P4+fsPPZ5m7ReS5x91pQ1/gPlclzExP5toQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img.png' title='' src='/static/dcc451b14686f8505937677ae7d0fcd2/ca1dc/img.png' srcset='/static/dcc451b14686f8505937677ae7d0fcd2/e7570/img.png 170w,\n/static/dcc451b14686f8505937677ae7d0fcd2/f46e7/img.png 340w,\n/static/dcc451b14686f8505937677ae7d0fcd2/ca1dc/img.png 680w,\n/static/dcc451b14686f8505937677ae7d0fcd2/02d09/img.png 1020w,\n/static/dcc451b14686f8505937677ae7d0fcd2/9d8cf/img.png 1216w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img.png</figcaption>\n  </figure></p>\n<blockquote>\n<p>자주 (사용되고, 반복되고) 빠르게 응답해야 되는것들 을 미리 준비해 두는것.</p>\n</blockquote>\n<h2>일반적 사용 : Session Store, List Data Caching</h2>\n<ul>\n<li>List 형태의 데이터의 경우 일반 SQL 서버보다 약 10 배 이상의 성능을 낸다고 알려져있다.</li>\n</ul>\n<h2>Redis 구조</h2>\n<p>Redis 는 크게 4가지의 구조로 볼 수 있다.</p>\n<ul>\n<li>\n<p>Stand Alone 모드</p>\n<ul>\n<li>정의: Redis 서버 단 하나만 사용하는 기본적인 설정.</li>\n<li>특징: 간단하게 설정 가능하며, 개인 프로젝트나 작은 규모의 서비스에 아주 적합.</li>\n</ul>\n</li>\n<li>\n<p>Master-Replica 구성</p>\n<ul>\n<li>정의: 하나의 마스터와 하나 이상의 복제(레플리카) 노드로 구성.</li>\n<li>동작 방식: 마스터에서 데이터 변경 시, 레플리카는 마스터와 데이터 차이를 확인 후 동일하게 복사함.</li>\n<li>고급 설정:</li>\n<li>앞단에 로드 밸런서 배치 및 하트비트 감시를 통해 마스터 장애 발생 시, 스크립트를 실행하여 레플리카를 임의로 마스터로 승격시킬 수 있음. 이 과정이 자동화된 것이 Sentinel.</li>\n</ul>\n</li>\n<li>\n<p>Sentinel 시스템</p>\n<ul>\n<li>정의: Redis의 모니터링 및 자동 장애 복구 시스템.</li>\n<li>기능:</li>\n<li>마스터가 실패할 경우, 자동으로 레플리카 중 하나를 새 마스터로 승격시킴.</li>\n<li>원래의 마스터가 복구되면, 이전 마스터 역할을 하던 노드는 레플리카로 전환됨.</li>\n<li>배치 권장 사항: 마스터와 레플리카를 서로 다른 존(예: 데이터센터)에 배치하는 것이 좋음.</li>\n</ul>\n</li>\n<li>\n<p>Cluster 모드</p>\n<ul>\n<li>정의: 복수의 마스터와 복수의 레플리카가 있는 복잡한 구성.</li>\n<li>필요 조건: 최소 3대의 노드가 필요하고, 각각의 레플리카가 붙는 형태.</li>\n<li>특징:</li>\n<li>Sentinel을 따로 두지 않아도, 장애 상황 시 자동으로 상호 보완하는 메커니즘을 갖춤.</li>\n<li>데이터 샤딩을 통해 성능면에서 개선됨. 임의로 데이터를 나눔으로써, 데이터를 여러 마스터에 분산 저장하여 처리 속도 및 확장성을 높임.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>각 구성 및 모드는 프로젝트의 요구사항과 시스템의 규모에 따라 선택할 수 있으며, Redis의 다양한 사용 방법을 통해 서비스의 안정성, 가용성 및 성능을 향상시킬 수 있다.</p>\n</blockquote>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 673px; '>\n      <a class='gatsby-resp-image-link' href='/static/45a3310a1a2983ae7207cfe8ff4f4f98/60e44/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 65.88235294117646%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACt0lEQVR42j2TWa/jRBCF83P5MUiIl3kAwRXMwBUS2/AAYpHQSPA0mtwbcpcsjpe4bbeX9hYn8ZoPdWfgoSW76lSp6pw6s0idEVlPWIwEskGIkn3SIrKOqBgQaiAuJ7K6xxUVQXzCTzsCNRBmPSJqEGlnekTFyCxIO9Kyp5pg+9uvvPv0BfdbH8uVVGdIq9EUFhPMv75lefuSpRXgJjXOX38zf/ERSyvE3sfI8sIsykeSciSrR1Q14EcVtsjJDhPqoHMDUT6gmgt+dMT2Yna+MlvYfslmK9h6GZaX4icdM10UqR5ZTqy9nLtnwd3jnicrJiwGs0ZajxTHyWDi8sJyI5k/+jxYCW+XLmtXoQeLy5GZBlbnC3ULRdOT1S3q0JM3A/X5QnWeKE8TxfH6XbcXg1N1S37oyOqO8jiYeHWamAVJg5BHgvQ/ISairCNMz/+TnVQTSdHiy6PhUwticPlosPpfpANSTxiokXcff8jyzzfcrTzCauThi89Z/vSaf3YBTlAgNc9nuL/5jMWPP7DYBgRFx/aXn1m8vGFpSxw/vYoS5iNSFtiexBE5sWpx7ICNJbC82DTUosQ1SD/BWjtsvQQvPrLb+Dwvnlk7EtuPzYazUI3kp4shPi4H5uKEKAeKZiRUHUnVE6qetIOH21csvv+O+80eUbRs//id+c0nLO0Iy42MYKahVjqvR2x55oPXHm+sA6rUnAzkzfR+wguRJ7FWNmsnwpUHdlvBykwYs9snhvNZqK5FWjE7Knn1NmTuFkTZwSioc2bCFh6/+pL7b7/hbuVeOXxvhIWmxxHmrGZSW06Nxl660PEydvvCJPXTCspiMIe+j46s7YS1o1i5FU+bhKd1wMpRJraP2+sdGldoJ8QHHq2QlS2Jyw51uOby42QOW2P0S6uBjZvwZIXIvDMu07G8GfkXmenCsecTATYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img.png' title='' src='/static/45a3310a1a2983ae7207cfe8ff4f4f98/60e44/img_1.png' srcset='/static/45a3310a1a2983ae7207cfe8ff4f4f98/e7570/img_1.png 170w,\n/static/45a3310a1a2983ae7207cfe8ff4f4f98/f46e7/img_1.png 340w,\n/static/45a3310a1a2983ae7207cfe8ff4f4f98/60e44/img_1.png 673w' sizes='(max-width: 673px) 100vw, 673px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img.png</figcaption>\n  </figure></p>\n<h2>어떤 Redis 구조가 적절한가</h2>\n<ul>\n<li>사전에 정의한 품질 요건에 따라 다르다.</li>\n</ul>\n<p>Availability: 99.95% <br/>\nMaster 가 내려간다면 약 4시간 안에 복구되어야 함 <br/>\n-> 주말? 휴가? 정전?</p>\n<p>Performance: Read 300Kb/s <br/>\n-> 실제 benchmark test 수행 <br/></p>\n<p>Efficiency\n-> 확보한 자원 VM 2대로 구성 가능한가 ?</p>","frontmatter":{"title":"Redis","date":"April 02, 2024","update":"April 02, 2024","tags":["Redis"],"series":null},"fields":{"slug":"/basic/","readingTime":{"minutes":5.5}}},"seriesList":{"edges":[{"node":{"id":"af3fecac-0e35-5a3b-9c60-a1611cbdd99b","fields":{"slug":"/deploy-strategy/"},"frontmatter":{"title":"배포전략"}}},{"node":{"id":"f9e34e11-b76c-54e3-b560-d958018384a2","fields":{"slug":"/cpu-bound-vs-io-bound/"},"frontmatter":{"title":"CPU Bound 와 IO Bound"}}},{"node":{"id":"1684f838-f072-51c6-8c81-e65cfb96f022","fields":{"slug":"/kotlin/"},"frontmatter":{"title":"코틀린의 현재와 미래"}}},{"node":{"id":"5bd820f1-3f72-5b9c-a4ec-61e4b07649ac","fields":{"slug":"/basic/"},"frontmatter":{"title":"Redis"}}}]},"previous":{"fields":{"slug":"/kotlin/"},"frontmatter":{"title":"코틀린의 현재와 미래"}},"next":null},"pageContext":{"id":"5bd820f1-3f72-5b9c-a4ec-61e4b07649ac","series":null,"previousPostId":"1684f838-f072-51c6-8c81-e65cfb96f022","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}