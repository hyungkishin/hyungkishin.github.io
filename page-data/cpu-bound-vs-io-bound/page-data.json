{"componentChunkName":"component---src-templates-post-jsx","path":"/cpu-bound-vs-io-bound/","result":{"data":{"site":{"siteMetadata":{"title":"hyungkishin.blog"}},"markdownRemark":{"id":"9ffe9bc1-affb-594e-835e-411f3a793a5a","excerpt":"문득 java 21 이 등장하면서 virtual Thread 가 hot 한 지금..  한물 간다는 webFlux 를 공부하는게 맞을까 ...? 아니다... 왜 사라지는지 확실하게 짚고 넘어가는 게 맞다... cpu Bound 와 IO Bound 에 대해서 알아보자 단순 cpu 를 쓴다 라고 끝나는게 아니라, 다수의 데이터에 대한 집계 혹은 암호화 등 cp…","html":"<h1>문득 java 21 이 등장하면서 virtual Thread 가 hot 한 지금..</h1>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/ef44c1322d4232b1a1538b78df1955f2/4a1c5/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrElEQVR42p2Sz28SQRzF97/14Mkfl56NBrU99FLKyQvVmhCIBLho1IoLgmAMPzRUgrW0wBZY7O4sW3Z29uOw9GAvHvxOXuY7yeS9N983BkREkSLerxcx/q8MpUJNGBFGIUojUopQyQ11tMG6fvtzRs4vpmLExD3lwj3D0pg4p1jOGcPZgECuMOa+Piy7TJZ9+k4j7odXbfxQxERrkXUVuwc8eHOL3Y9bPHx7m8fv77B9dI9Hut85us/Td3eZiQmG6zr0Tjpcugscb0Gv/436lxrT6QWu6yKEYDwaI3yHmWth2edM7CHWQhuxfnIy7jMXU2xvpl8WYrTbbbaf7JBOH3B4+JLyhzL7yX2KhQJ7yT0SiQTZbDZ2GQZXrBovkJ/TyMZzZPUZ8vtr1N8zbLVaJJNJarUa9XqdTqdDJpNhMBggpcTzPMJQxpeDYEXPLPLDLNCvlDguv+K8W7sRoWHbNqVSiXw+Ty6X007TpFIpms3m9Qw3+jIKWPpLzGqdilnBNKuUzU98bXW0YBhjHaDxry9wM+UZwnP1nCKUN2d5aWvHAUJnIISH7/sopfgDM/BJmOfXNp0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img.png' title='' src='/static/ef44c1322d4232b1a1538b78df1955f2/ca1dc/img.png' srcset='/static/ef44c1322d4232b1a1538b78df1955f2/e7570/img.png 170w,\n/static/ef44c1322d4232b1a1538b78df1955f2/f46e7/img.png 340w,\n/static/ef44c1322d4232b1a1538b78df1955f2/ca1dc/img.png 680w,\n/static/ef44c1322d4232b1a1538b78df1955f2/4a1c5/img.png 808w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img.png</figcaption>\n  </figure></p>\n<h3>한물 간다는 webFlux 를 공부하는게 맞을까 ...?</h3>\n<blockquote>\n<p>아니다... 왜 사라지는지 확실하게 짚고 넘어가는 게 맞다...</p>\n</blockquote>\n<h3>cpu Bound 와 IO Bound 에 대해서 알아보자</h3>\n<ul>\n<li>단순 cpu 를 쓴다 라고 끝나는게 아니라, 다수의 데이터에 대한 집계 혹은 암호화 등 cpu 계산 능력에 따라 성능이 좌지우지 되는 능력을 말한다.</li>\n</ul>\n<h3>아래 그림을 보자</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; '>\n      <a class='gatsby-resp-image-link' href='/static/6e275cab280b992148a92b7002ec6959/a9205/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmElEQVR42o2TyYoCUQxF/f/PceHCnSvBWdByFlQQnMp5Hm73iaSorpamA9c8M1XeTV7q+Xzqcrnoer1G+nw+a7PZaLvdKgxDOx+PR8PtdrO4ZA4aX0rf8nq9IiA4RqORptOpVquVBoOB/UdoIB6fhBVMyul0ss4o2Ov1NJvNVK/Xo4J/yceCXDkIAkO1WlWpVDL9r4Ik73Y76+pwOBjgqtPpqNFoqNVqqVarWZfOIzH7/d5yXHuudQipBOJw3O93PR4P03Djw6CBeJwDu3HIT7/f13w+12KxMHCmIwcDGY/H0aA8Fg3W67XdBn+KLobDoXzaSfEPUrDb7arZbP7yI2xCpVJ5XxmOisWiyuXyRxQKBRsMyOfzP3zY2IBsNqvJZPIuCE9xDp38OEdu+8QhdviN9tCn5pPyIGzAi6CB2+PgVdlLYa/gBiMcpNNpZTIZuwZPDrDccMQKcWbNKADw8xGGQh0bCsEIwZDOANrttpwOzsSw6CRxNRoB5CPYmYVdmUCIp0NeBODsgyAQm2u3O4jN5XJaLpf6AqdBHuTFaFBeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_1.png' title='' src='/static/6e275cab280b992148a92b7002ec6959/a9205/img_1.png' srcset='/static/6e275cab280b992148a92b7002ec6959/a9205/img_1.png 150w' sizes='(max-width: 150px) 100vw, 150px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_1.png</figcaption>\n  </figure></p>\n<p>위 그림을 보면 <code class=\"language-text\">application 영역</code>, <code class=\"language-text\">커널 영역</code>, <code class=\"language-text\">하드웨어 영역</code> 을 계층화 하여 추상화로 나타낸 그림이다. <br/>\n여기서 동시간에 하나의 명령어를 처리할 수 있는 CPU core 가 한개 있다고 가정해보자 <br/></p>\n<p>application 은 실행되는 프로세스라고 보면 된다. <br/>\n이때 물리적인 cpu core 에 명령을 내린다고 가정해보자 <br/></p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; '>\n      <a class='gatsby-resp-image-link' href='/static/b089bdc2e345bcf57199cf4921387633/a9205/img_2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACI0lEQVR42o1T227aQBD19/cL2reqL1VURYUmOOUJpVIJJkAEEhDu96ttrsYYbHM6M2Dj8lB1pMMsu+PZs+fsKr7vw3EcHA6HMO/3eyyXS2w2G6xWK6zXa+x2O8HxeJS6228485oCitPpFIKDF9vtNobDIcbjMWq1GprNpqwxgWj9LaThbdi2jcVigfFohHq9jtlshmKxGDb8VygBq2gww3w+j1eCpmlIpVIoFAr/15D1Yq2YlWVZAh6P6LiDRl2O3e12RUteC7QM6oIczCnBEbfbbQiL/tsLE7uUir3rwb0YwZvf1obfUDNmr/AP68SamaYJ0zBgkqt6k7RLxmEQ+w4Z1Ov1xJjBYHCuu8Cgem5YKpVQrVaheJ6HTqeDwG1cNPUXOtzsLxm3qFG/35eGlUrlWhvJrVZLmsqR2cF0Oo1MJnNGNgvtOYW3r5+RKbxBe3lBluYYf9UJNLzmckgmk5hMJtd7yEwFrguPnc6nYX36gONmDdfz5dIywjqGf4K7swR+9B6yFvP5XPQwDB3LrYWh9hvvXz5iShd7vb6+GM66rp9B9TNiNZ9OhR2bprjEqNFo0O4uckQ9FovhSVVRID1s2mzvHOSlcA3rx9lx+Hk6ApuacFQq1aspfM84+GXwmJkOyITzRT6RIT1MpxMxj12ORtSUcrkMZTSa0Et4xv39dyQST1DVn3h4VGUci/0Q8PiRkFDPOZgPEI8/4O7uGzV8xx8HRhSWubRNpAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_2.png' title='' src='/static/b089bdc2e345bcf57199cf4921387633/a9205/img_2.png' srcset='/static/b089bdc2e345bcf57199cf4921387633/a9205/img_2.png 150w' sizes='(max-width: 150px) 100vw, 150px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_2.png</figcaption>\n  </figure></p>\n<p>그리고 어플리케이션이 N 개가 더 추가되어 단일 CPU 코어 1 에 각각의 작업을 동작시켰다고 가정해보자. <br/></p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 152px; '>\n      <a class='gatsby-resp-image-link' href='/static/b0cbc64ed9ade5e77d212f4214a0642f/6ccad/img_3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 68.42105263157895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACsklEQVR42nVTyW4aQRDlg3PKKZdcEinXHHLIyUpOsRRLUWzJjmPHBidmRyyGgYEZZmGA2RAYsFkHXqoK24ospaVSV1dX1/LqdWy9XuP+/l5kOp1iMplgsVjI+e7uTmwsbOPzoy/r8/lc7lh/PMf40rIsOI6DIAjgui4ajQY6nQ56vZ7Y+E7TNERR9CSr1Ure9cknJB/bttFutxHjqLquYzabQVEUjIZDZDIZCTIej1GtVqXqfD4vQUaj0VPVnMzzfKiajluyZ7PZXUBVVeH7PupqEz2qMB6PSzbP8yQJV51KpbDZbCQxt8+7SRV2qbJW4hy200UqmUSML7VWC9fpNPLnp0ieniBfLKFRV/CHKi0eH+L64AtuCIbVcik48ZsF7aWagvT3A1Q/f0Qik5U3se12izW1EgGY3eSxrGSxJn1B2IpNKWNWLYhtSq0/DmFKcIhfOo6JWsOG9IgGHKNd8Or7AXpqHf3DffijW/j9PrzhCG76Cv2rM3hkc3kAYSjYsfgESe/rJ7hdB063i2azuQvIeG0irgdYJY6plDGelqHC/nkEnTCyLRPlclna5bV1HaxSv0Rn28XFxS4gR2YcbdeDen6C7sk3WIMhTKKOfZ2AdnqERtuATtQplUrQydeijpzLH9DiZ7Bp0o2GiiQPhQMyLswzrrRND433b9Da+4CWYUJ99wrG6xfQlBoM04Jl0r1pyrn99iX0Qg4GJW7dlIVSEpDpwBNcMy0GlHl/D2HmtwwlqJXhPeibB1KvSeY0IK+YxXw6kfOCdo4jAU3KyFxjwP2QfsvtWAYTEOgD0rtBCIOqNwxDfJmfQThAOCZy05sBCQ+lWCzuArJj9DCUfxdTileHyMu/if0qlQqW1M3zxdxMJBK7gC0CmafHv6JWq/1X+J6/4nN7vV5HoVBALpfDXyYHAyB5CMSwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_3.png' title='' src='/static/b0cbc64ed9ade5e77d212f4214a0642f/6ccad/img_3.png' srcset='/static/b0cbc64ed9ade5e77d212f4214a0642f/6ccad/img_3.png 152w' sizes='(max-width: 152px) 100vw, 152px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_3.png</figcaption>\n  </figure></p>\n<p>이떄 CPU 코어에서는 동시에 실행한 것처럼 보일수 있다 <br/></p>\n<blockquote>\n<p>그럼 동시에 <code class=\"language-text\">병렬</code> 로 처리한걸까 ?</p>\n</blockquote>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 236px; '>\n      <a class='gatsby-resp-image-link' href='/static/612d41b26b474498aeae0c636d5de8cd/f6a20/img_4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 66.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADqUlEQVR42g2S60+TBxTG33nhUl4YpRQK9AqUtlBaSmmBEiilKCCXgjgwAgKzRHECm+IQITIEcZmTsAgDiwtMR+ZiNLBsiQ6ifnAhI85lycBkExYnybJl/8Nv74cnJzl58iTn/B4hytCATFdPpLaGcG09MmlGKt1EJhQQpQsgc3zAHvcIe239REreCMkbZupC6ehFlxtEaztGirUZlfkIov4wgizWiahwodS40Vv8KAx+xCQfMmWhJA+iuoKS2rMU1ryPmNpIhKYOjTOIr+I4efZ8TKkWstIsuLKcWO2VUqDtJLGpfup85fw49zGnm44Rp3YTHZvF/og0fEVlfBua5OurQ5gzfYSld5DjCmA2ZqGQazCrM0hWqolXqLEa7QgxJcMY0uzMnenkvzvXeDjaj81iJ9pQRayulGBVKddPtzDcVEWjtwR5ihdrZjHxcYl01lTz+NplZvu6sKYZUSXoESIs7VjNedzvO8FUUz2r509R6/GyL/NdkgpPMdJay+iJVjoOltLiLSTZWE6qLpf42CRWxi7y68w4f0jqPuhDjFFJgWXjpDtq6HA5mWwMcM7rJTujgH2mIHZfD5VOB1VuB75CNzkZGRjyu4nXeLHojPTWHebuYA+3zgQ5YHWgkc4WYsa2kJ1dIzXTQ43JQL7JRmTgOnuPrqCoXcCWLsFSKNAmKDFqzERkBgkzdqDSeXCYHbh0JnL0FhJVWnQ6F4IQfI6h7wnlHh+FWh3teTbaB2dJurDJZz0TNJotJMuVpMjjKErQMOWuxlR6gRRjJ73+Zpq9lRwta6Azrxp5dhdC0/lJvn+vmNnSJJqNej4v1bPa6WKtuZJ/i7QsqRQ4VckolSouvx3HTlIczyoOsJRlY+nkR/QNzTE+scCar4EbUWkI/ZNFPA6o+KrKyow9kfs5KewUqNk2yHgWEc4vooxboshFmciGPIqNSJHNqLf4WS3yJPAOU9N3mV58xHcFfn7aIyDoetO5V5nIjNPAp7kGXi2EeJ5jZ7utlW1PAX+HbvJ6ZJitsmLejI/xZniQ3zs62Lp6hfUPzzE/Nsfk7RdM2zzcC9+PEB9IZtGvYlwbTbc1k931dV7euc1foXl2QyFetjSzM3qJ3fkQ/6ws8/rLRV5J+z9/WOXppSGmS6po773JgD6LyXARIaoskWxXAjHZ0bSW5PJoYIAvmo6w+eAB3xyq5DcpYOMTqfBtx3l6ZZwbEvEFRx4vlpd5ODEmvSmHauch2hIkoDI5/wNxWPjIEGTMCwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_4.png' title='' src='/static/612d41b26b474498aeae0c636d5de8cd/f6a20/img_4.png' srcset='/static/612d41b26b474498aeae0c636d5de8cd/e7570/img_4.png 170w,\n/static/612d41b26b474498aeae0c636d5de8cd/f6a20/img_4.png 236w' sizes='(max-width: 236px) 100vw, 236px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_4.png</figcaption>\n  </figure></p>\n<p>그렇지 않다. 동시간대 하나의 명령만 처리 할 수 있기 때문에, 타임 슬라이스를 아주 잘게 나눠서 잘라보면 <br/>\n실제로 어플리케이션 1 번과 2 ... N 번이 번갈아 가면서 실행하게 된다. <br/></p>\n<p>이렇게 번갈아 가면서 실행하는 과정을 OS 에서는 Context Switching 이라고 한다.</p>\n<blockquote>\n<p>실행관점에서 문맥을 바꾸었다. 라는 의미다.</p>\n</blockquote>\n<p>이러한 컨텍스트 스위칭 (ContextSwitching) 작업들은 CPU Bound 어플리케이션 에서 성능 저하를 가져오게 되는데 <br/></p>\n<p>그림으로 보면 아래와 같다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 444px; '>\n      <a class='gatsby-resp-image-link' href='/static/57544796c1d07c17bb2a7706bb80b229/39d25/img_5.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 59.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACQElEQVR42jWTZ3LiQBCFdf87bG0qXAZshHIaRZQIAkSw8Xr3LM+vR7U/ukSJ4ZsXGsPJOzh5D6fcIWpPnDPibkTUneFVe/h87xY9rKyFlTZw+bT5XCcbLP0cT1aE3ysXPxc2vj0tYZjxBmvV8gAPxQ3i/oLs8IaEz7Ae9Li80ExqLNwUZlTpS5y0xSoq8ewoQgNCPfyYr2HY2aRQwKuworoz8uMDandF2BzhbwgkwCZAztl0JECPv7NEpZcSGhMa4terA0PbJCTd35APbyjHP6g4+fA+qSQ01FGcqH5EwosCvgsqQgkXlS9BjoWnMFsHMBIeUluxeUdxfNewDac8fyDhe7lMQJJtUB/1BfIMGomiw4ufadikksCIX/rFDgGtyRRU2dz+IfuvUDsYWUqv4TIOzyfbUcc0MwNmS6A92TbcYovXoGJ7PRKqUISIQmlaPnvlAX510KWZcc0yOv05O9xot8KcsKWXaeCzHcHweJsEn+1uKCVD2m6uf1FfPlGLdRYkcYjllPllnEQyZxyWks2o2HxJUTnmTiKlnPXhpLvwByyGK1OPn2gIFKWSa85R2ytyFlfy+3K40w1z1OszQWVew5wKubyWklUY4BUHDS+Gh1ZZsRhpuxCVVKZYjkBVf+b5LWPqYKtaL7m0PXep0C33DF7s3BG3F86oAfWFwNNjUsgolLTNgsR23E5rM0HbaR/9dFqbsD5pq/LvyPa0cxKbH7T10Eqz/V1DFGF6vQQuayT/IroTlWJ1tvbxfW7iC4ogDrFGRYEUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_5.png' title='' src='/static/57544796c1d07c17bb2a7706bb80b229/39d25/img_5.png' srcset='/static/57544796c1d07c17bb2a7706bb80b229/e7570/img_5.png 170w,\n/static/57544796c1d07c17bb2a7706bb80b229/f46e7/img_5.png 340w,\n/static/57544796c1d07c17bb2a7706bb80b229/39d25/img_5.png 444w' sizes='(max-width: 444px) 100vw, 444px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_5.png</figcaption>\n  </figure></p>\n<p>어플리케이션이 실행되어 메모리에 로드되고 프로세스로 동작하게 될텐데. <br/>\nCPU 로 스케줄링 되어 실행될때, 기계어 실행을 위해 필요한 데이터들을 cpu Register 로 미리 가져오게 된다. <br/></p>\n<p>그리고 ALU 를 통해 실제 계산을 진행하게 되는데 Register 에는 기존에 어떤 명령까지 진행했는지를 함께 저장 해 놓고 <br/>\n필요에 의해 캐시를 해놓기 때문에, 동일한 프로세스의 일을 꾸준히 하면 할 수록 성능적으로 더 효과 적이다.</p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 421px; '>\n      <a class='gatsby-resp-image-link' href='/static/7e52dfe9254b25ffb32a0ed696f69531/edfbf/img_6.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 61.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACcklEQVR42kWTSW/aUBSF/fe76apqVZWkCYTBGM/zbMBgBpNAkzSp1PavnJ77WHRxhZD9vneGay0o1pBJ6i3q7hGVzO4J1f6MYntCuX1E0faI+DyoWvjFCk5aw0oKzIMID6aL+7mJm4mOr/dDaFM7wiLIYYUV7KhSkOXxGcvDD9SEyiTLHcywxNgMoLsJwmoDl9BFmGLqBAr6fWbg2+gBmu7EMLwMEzPEg+EjXe6xOb2qafYXNIcL8vURfr6Cly3hpQ2Ccg03a2DHBXQvJNTH0LCocgYtKltkVFBteqo6K1B3fuO8o+1fsO6fFbTunlQkNSOQeEKec3mBqNS9CGPLUyq1uNpSwQENcxNQ//JbzZHTnv4DC16YNDvEhMmZpO7gxBXVhYQxRyq8001oZlRiaseYuynCosX+8o7Hn3+xfXpT+TW7MzJaFrsZ44jKjcpaXE2sADdjg3Yd3E4XuJ3MoX0ajPDh4xd8HoxxMzKQrfboCAvyNcJ0iYhq3KjG3EmZdQ7dSdTlKYHDuYN73aJVkzADg7EO7W5mQ0aKsalWVJxod8cMZSQzl8+SesfLjkhpW5zEbHpqh8qytCx2b6fM0CLESdgcX1pxVQ4/fqF//YOO1kuqLWhX2q42JwWvOPnqAD9bcZUyzNxAFTI07Gspsi5D3SOQu5WsCOivBwkrCat3F5Vj0R5RUGHJX9kMM8y52DFmXJsJ12a0kBx1AUYENcyqY4OdanPJxsXuFdQrlbImYjNt2G5SwYyy68r4kQLK1zIYT6EZXqpAYrdVC/3Cht/5/xk51aRUGjdbFYlYFbgo9PIGVsyS/BgT22eGC34pY/wDCMD8D7FjdVoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_6.png' title='' src='/static/7e52dfe9254b25ffb32a0ed696f69531/edfbf/img_6.png' srcset='/static/7e52dfe9254b25ffb32a0ed696f69531/e7570/img_6.png 170w,\n/static/7e52dfe9254b25ffb32a0ed696f69531/f46e7/img_6.png 340w,\n/static/7e52dfe9254b25ffb32a0ed696f69531/edfbf/img_6.png 421w' sizes='(max-width: 421px) 100vw, 421px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_6.png</figcaption>\n  </figure></p>\n<p>컨텍스트 스위칭은 위 그림과 같이 어플리케이션 2번을 실행시키기 위해 Register 정보를 초기화 하는 과정부터 시작한다. <br/>\n정확히는 어플리케이션 1 번이 실행했던 기존 실행 정보들을 메모리에 별도 저장 해 놓고, 2 번 어플리케이션 데이터 정보를 가져와서 다시 Register 적재를 한 뒤 명령어들을 실행하게 된다. <br/>\n하나의 CPU 에서 다수의 프로세스들이 번갈아 가면서 cpu 작업들을 진행해야 하기 때문에 성능상 오버헤드가 발생한다고 할 수 있다. <br/></p>\n<h3>그럼 여기서 문제...</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 149px; '>\n      <a class='gatsby-resp-image-link' href='/static/b45da70385f86e272b7739008009064f/4d6d4/img_7.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 67.78523489932886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACsUlEQVR42l2T2W7aUBCGecq+Q6W+QR6hV72pKuUmUVVViZRctOmiVElRadnCvngBAsYkNgZvYDBLQv7OTAKpeiTrLD4z85//Oyfh+z6GwyFs29710+l0N9+uRVEk65PJBLPZTHr+5zgOLMuSMa8lbm5u0O12MR6P4XkeDMNAoVDYJfNprdfrodPpgNtms5E+DEMMBgNJyKJ4j6ZpSPDiaDSSRBzE42QyieVyCVVVYZimBJXLZVnjwkEQyD5W3Oleo9Vuy5z3JDhRPp9Hs9lEQ1GRy+VweXkp81qtBr1aRjabRb1eF2Xr9Vp6z3NRrNXRSv2Efn6GNJ2qVCwi4bouNKqgFq6gnZ1C0XS4pEIn+U1SqL/fR4OSsT+LxQLz+VyURtMJVMNE6+gA6o+vUK+7GNFJEuzJcrXCjORHnz9KEAPgfsGB308QUxIGsYXC/vHHcZMvx5iS2hUp51wJNvSaFIbxEtanI7htFT4FeqTco3/OySHMfl9Im+Qne8Wg/GgGT63DpphgsYRBYNkWOfKQNnO76+rYXP2S8cPmXvro7Biq0iTiDhRFga7r2LZN6Q/uOsojdSrOMEVhJpOBRn6VqYKy/watWgX1poJmtYL2wVvUSkWBxApKpZJ42qBTtQ7foZrPQaUimWwOlUrl0UO+FrZ1C9v1YF18Q3/vJW5bGozUBcxXL2AcH8Iau7THgkOnsf0Ag+Q5Bq/3YDsjscPqtLAiTyUhk4vjmL4FbErSPf0gYKJ5jH72N4KRg/X9vQQ8wlrBJwGWpjzFxYjC4BlKm+QzPfbTnUYYUyJ+Nb7nYxxOYfRN9Mh0vvj8EARYEBK8SGKYeI/uc7VafYJCT0xAPDzsDMfTeEHV+UkxYb7ofSL+b9vG8OtJpVLPUBqNhlTgoP8/hsFQtmD+/8/r6XRars1f2OX9VZEOB2AAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_7.png' title='' src='/static/b45da70385f86e272b7739008009064f/4d6d4/img_7.png' srcset='/static/b45da70385f86e272b7739008009064f/4d6d4/img_7.png 149w' sizes='(max-width: 149px) 100vw, 149px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_7.png</figcaption>\n  </figure></p>\n<p>위 어플리케이션 들을 어떻게 실행시키는게 가장 빠를까</p>\n<blockquote>\n<p>하나씩 순차적으로 실행하는게 가장 빠르다 ( 너무 당연한가 ? ) <br/>\n컨텍스트 스위칭 이라는 오버헤드가 있기 때문 <br/></p>\n</blockquote>\n<h3>어떻게 하면 CPU Bound 상황을 효과적으로 만질 수 있을까 ?</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 459px; '>\n      <a class='gatsby-resp-image-link' href='/static/acedc744de8087b941c062aa1cf2222a/e38a7/img_8.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWklEQVR42jWT2XLaQBBF+f68xHkwceIFYmPAYMwiAUII7bsQkhA7xE6+5KankzxMzVSp5sxdWhUv2yHZXngtaeXHDzqf6XxGkO8RrY9INmeYcQ7NW0KxAkxNHxPDRkee4qk3wEP7BbdPDXx9qKHiplsIaFye+WK6+wk7KWFGGXR/BYtAy90FY8ODpFkYqSbkhUNQF69jBa2hjMZbH7V2Gze1OirS3EFXmmNmhTCCDKv9O7zVBk5SwIpy+NkGQbGD6kRQ3QhzL8bMDugBG10CdsdTgo5QaxFQKLSXJVvLDu9Yn3+jOH2QygvS/QVReSR1J9q3BN3AXubQgwR6mGBi2uhNVXTlCdnuseXq3T0qQXHg/PLjL2SUn8gwO3zQIweElF9cin0LP9/ASnIsgpiyDDnD3lRBczBE/aWD28cnXN/eobLwU7IbUVYFqXrnLMUj7mrLWXpZCTct4KQ5jHBJliOy7EHWTbb7TPn9EMD/Cq04owJWnFtUnhjkpBtempeQzQJGlLIymUrpKwsqxcJgpnHLrcHoL/CRWhbAcL0jRXuGhesDq9LDDDMnpiYDOqdkdUVjk2JquAyTNJMbbg8lNHpvqN7XcU2wz9dVYTmBsC1pLuZuzLMmLzxuXSXoRPdI9ZoeyjCc6RgoGn030XwbkToJzf6QoQ/NFr6JsTGotfHC5flSLJ8hYnBVNySVAS0aJ4rEIKXS3CTLGkNfZZrBvrD7inq7wzN4Vf2nUChT+XJA2VjUoE8zKXJbUgEhFP4zXLY8UnWG9SYzdKQxKR3grvGMLzff8enqCn8AVBDGQhGeWXsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_8.png' title='' src='/static/acedc744de8087b941c062aa1cf2222a/e38a7/img_8.png' srcset='/static/acedc744de8087b941c062aa1cf2222a/e7570/img_8.png 170w,\n/static/acedc744de8087b941c062aa1cf2222a/f46e7/img_8.png 340w,\n/static/acedc744de8087b941c062aa1cf2222a/e38a7/img_8.png 459w' sizes='(max-width: 459px) 100vw, 459px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_8.png</figcaption>\n  </figure></p>\n<p>흔히 말할 수 있는 정략은 위와 같이 병렬 처리 되어야 효과적이다. <br/>\n동 시간대 각각의 명령어를 동 시간대에 처리할 수 있기 때문이다. <br/></p>\n<h2>I/O Bound 란</h2>\n<p>입출력 장치의 중점적인 작업들을 말한다. <br/>\n대표적인 작업들은 키보드와 같은 사용자 입력, 디스크 파일 복사, 네트워크를 통한 데이터를 주고받는 행위들을 모두 I/O 작업이라고 한다.\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; '>\n      <a class='gatsby-resp-image-link' href='/static/7497709726e6ffd838d7bac55b9c7970/c42ee/img_9.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42i2R65KaQBBGef8nSKUqJnHNakRQYBEZriL3i6CsJiR5ly8fk/zomqma6dOnu5WX5Qdo+hKOo0KIPYLARBi+Ics8lGWAuo7QdQmqKsL9XuB2yzGOBZ7PCo9HiXfemzpEGByg7RZQVquP2G4/w3V1BL5BmIUkcSRsBl2vFxllGWIkcJpagv7D3gu0TYQy93BJjhCuCmW9/oQ5TGODiGZCHBDHR5rF0ia9CIYHT5jIUg/9NUOe+qjmArQbxxxtGyPPTrTcQ9msF9C1F1jWhu1aSFOBc0zDIkRdxTwjpIlAFNhM8jF0Oe63guAUQ5/y3ee7Q5gB90RDTf0KTV0yVlh/W9DSZgshGsJ6JjwftYSXeSDvf34P+DV1GGk/ENpwtkXmsqAJl3tQdAKN/StOxx0sc8PlaLK1a/dvdl2TwGe7gWfKGc52M/g+ZPyT0PSMro2Y43AsGoG7LzjoKzj2Frb5HYb+Sv03CRyZPPSZtDhHNvo2wfSjlYbTz4YFZmiMlluWQE/FX3sjxwuTlblAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_9.png' title='' src='/static/7497709726e6ffd838d7bac55b9c7970/c42ee/img_9.png' srcset='/static/7497709726e6ffd838d7bac55b9c7970/e7570/img_9.png 170w,\n/static/7497709726e6ffd838d7bac55b9c7970/f46e7/img_9.png 340w,\n/static/7497709726e6ffd838d7bac55b9c7970/c42ee/img_9.png 486w' sizes='(max-width: 486px) 100vw, 486px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_9.png</figcaption>\n  </figure></p>\n<p>위 그림과 같이 client 와 server 는 연결이 되어있는 상태이고, Hello 라는 문자열을 네트워크를 통해 전송한다고 가정해보자. <br/></p>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 490px; '>\n      <a class='gatsby-resp-image-link' href='/static/8af848b5bb126f9f142974ff9db36627/ce5c5/img_10.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 72.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC6UlEQVR42j2T53LaQBSF9ch5gExeIpPMxE4c2zFgwCCJoo66kADRRE3AJeU9Ts5uyo8dtKvRx3fvPat0OrcYDFpwXV2uIBgiSW1kYxdhZCBOLIxzF2Pu82KEPB+h4K/YF/LcxmIeYr0KEYVdKKp6B9PswPP6/2Hj3MN0GiBNHX7gYcLn6SwkzJOwovCQZbbcC+CkcLGpYuy2MRTDaNNMQxAaiCITk4lPWIjlMkWaCAsBdjGfJ9jtS6zWYywWsTQUK0kMZKlJywCHfQpFUxuo1z6jpzVhWxpmNFmtMqzXOWbTGPMyRTmLJXC7neLr1wUOx5L7SNomiYkkGmA68fg+gWIaHRjGAzy3Lw2FXVUVfDnBnkZVNeUfFNjtZjgeFzifKzw/73A6rbHdFLSzEBM4zixU6wjKcNjCaNRHGJrsiyt7tlxm0uZ8qvD0uJPPh8Mcj4S9vBzw6+c3/OT68ePISjIk8RCT3MF+R8NeryENfX9AfVuCxSTLMpKW3wl4PG9oSGNaCrPTacm1wvmx4tlE2uVcO1Gyqtag6w3YtkrYn8EIYBCYcOwewbE0FaCKAxFlCqtNNcb+MONZhjGHIqDrdQil1bxG7ctH9PtNGRs56SJA6DODscUeMTpsxfFQ4vlpS/iK5n+hm5ztieWU02TIXvsEtq6h0VL00qGl6KcoXfSyKHwZDXE+Yxb/lXw8zgnNGeaUEYqQM4tRqHGgFpT7+kd02jdQu18k1La68sYIsICKwPf0e/iemKTH4ZSydFFqOfXZHhF+C2Gg0lSnIYH12w+441I7hA6asHhzLIJts8t9G7p2zzNV3ozlMuFUOTxxq2JTRiYMdDhOGyO3BaVRu8TN1XtcXb5F+/4T+nqdHz/A4uT7elOuTvuW5ip769PClcAkFvkzYDPHjvVAmWt+fwGl2bjkB1do1i7QvLuA+nCDAaOk847rWp2GLWjdO5ZdZ+N5KxirkBHzHA0G7R27S/iAFb7Dm9ev8BtkxY0M/KTaSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_10.png' title='' src='/static/8af848b5bb126f9f142974ff9db36627/ce5c5/img_10.png' srcset='/static/8af848b5bb126f9f142974ff9db36627/e7570/img_10.png 170w,\n/static/8af848b5bb126f9f142974ff9db36627/f46e7/img_10.png 340w,\n/static/8af848b5bb126f9f142974ff9db36627/ce5c5/img_10.png 490w' sizes='(max-width: 490px) 100vw, 490px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_10.png</figcaption>\n  </figure></p>\n<p>NIC ( Network Interface Card ) 장치 는 네트워크 패킷을 주고 받는 역할을 맡고 있다. <br/>\nClient 가 전달한 Hello 패킷을 Nic 장치를 통해 전달받고, 커널에서 네트워크 프로토콜을 진행하게 되는데 <br/>\n서버 application 입장에선, Kerner 에서 패킷을 전달받기 전까지 <code class=\"language-text\">대기</code> 를 하게 된다. <br/>\nNic 장치 로 부터 패킷을 받고 커널 까지의 과정 또한 CPU 사용이 필요한 영역이긴 한데, <br/>\napplication 관점에서는 패킷을 수신 완료까지 를 대기하기 때문에, CPU 를 중점적으로 사용하지 않는 상태라고 볼 수 있다. <br/>\n만약 패킷이 오지 않았다 라고 가정한다면, 해당 서버의 프로세스는 계속해서 대기를 하게 되는것이다. <br/></p>\n<h2>Web Application 서버 관점에서 어떠한 I/O 들이 있을까</h2>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/d0904df234446f503d521c51cd16e459/58299/img_11.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 23.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVR42h2QR3OCYBRF+f+TTbJxxiwUy1iwgUYR6ShNiqgxY/kvJ5+s3ubOuec+Se40GY5kxkoXbang+wZ+sBN3xyG0iGKHNAvIsj15fuD2V3C/V+z3JsfMJ9hv0fUp6qKPtughdbrfKJMeqjZG05Qa5jpbVssZYeQQJy6RuEUZkSYBVZXyfF4JfJOyDIlEqb6ZMRq06HcaSF+fH7TbTRaqAC6nWNYac7fG2K6wbZ0gMIWNRZJ4XC5HHo+K1+vK7ZZxuSZUZ1GUuqx/JmhqH0mWmwwGbeaLIZvNvJ7i2Jsa6rkGcezVsDe4yEPKIq5NXZE5pr4o1rCtlXjRW0JBarUaNXA2G7D6meK6OukxIBHh0yni95ZzvqQ19CwM35ZlEREebDE/EoU2nrcWazQMQ+Ef/1xBmDluvo4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_11.png' title='' src='/static/d0904df234446f503d521c51cd16e459/ca1dc/img_11.png' srcset='/static/d0904df234446f503d521c51cd16e459/e7570/img_11.png 170w,\n/static/d0904df234446f503d521c51cd16e459/f46e7/img_11.png 340w,\n/static/d0904df234446f503d521c51cd16e459/ca1dc/img_11.png 680w,\n/static/d0904df234446f503d521c51cd16e459/02d09/img_11.png 1020w,\n/static/d0904df234446f503d521c51cd16e459/9d567/img_11.png 1360w,\n/static/d0904df234446f503d521c51cd16e459/58299/img_11.png 2902w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_11.png</figcaption>\n  </figure></p>\n<p>그림으로 보면 클라이언트로 부터 전달 받는 http 프로토콜을 처리하는것도 web Application 에서는 network I/O 이고, <br/>\nWeb Application 에서 비즈니스 로직 이후 DB 에 쿼리하는 영역도 I/O 이다. <br/>\n또한 DB 시스템에서 데이터를 조회하고, 삭제하고, 저장하는것도 I/O 라고 볼 수 있고, <br/>\nWeb Application 에서 외부 API 서버 요청 에 대한 것도 네트워크 I/O 가 발생하게 된다 <br/></p>\n<blockquote>\n<p>하나의 웹 서비스 에서도 I/O 작업이 여기저기 산재되어 있는데, 반드시 인지하고 있어야 할 개념이다.</p>\n</blockquote>\n<h2>만약 클라이언트로 부터 많은 요청이 들어오게 된다면, 어떻게 해야할까</h2>\n<p>전통적인 해결 방법은 webApplication Thread 갯수를 늘리는 것이다.\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 469px; '>\n      <a class='gatsby-resp-image-link' href='/static/5c85b754c54944360bd1d70a07725bdf/44038/img_13.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACj0lEQVR42i2S2XLaQBBF9a158VfkJXlJUkkwDjaLESAkAVrQLpCEFna84HhJqlL5mpurqTxMtTQzffr2nZY0vY/JbADPnyJJXaRZgLyMcDgVXCXu7jc43pXi/8j/7W6Fx/MOf/4+49fvB7y8HfHMdTjl2OyWkKaETY0hgshEEFqYTBT4gYVVHjE5w/5A8JHAIyO/15sE622K89NeAF/fTnh+PeLny0FAJdNWYHFFsYVl4mE8lnF7ewNdH1JtSECKjDFbhUL9/pgLtRXBNaRcx/jw8T0uLt6h3W5Akgc3aF03MFJ6hM5hGBpMU+O3g7yI8fi0YyEfjjsT57W6A6HVekE7KtyfNyiqCNPZkOd2DWyT3IQy7iFd+aK1DZPyIhKqTndr7A652EtXAZMX2O1zFGXMuKK/BR4IPT9tsd0mkPr9a3Q6V+jLN4iXDuKFK5TEC0cAq3WC6VTBRB8xjgiKCMroMeEsujtk9DrFZrNk+xGkgdxG3baidIXkar0UxpfVEmnqU2GFh0dWJ6SoYqr0mJyKsyRxUVJpXoScjIBnLqTrVgPfv32iyibsuY4wsBGGc7ieIRTWcM8zMRx2IbO4HxjcWxLmCQFJyrgw6bONxcKCpKo9zGYjWNYYtq2ysoeK6kp6VV8OI1u8vuvN+DAsGBkCFgQmLbI5agbPdM4xVzBly2xX0/qEDmGYikha0MuMHi3Zku+bYiZrNY43gTVXYTsaQSbVzuirTLvaULUup2MEqdNpoIbqusyhHhA6+q/EEuAk80Ssk13u1/c63Sbvyri8/IIuv1s/vqJLyzStB+mq+Vlsjjk2qnoroCaVus6EXhpUWb+8BcfRYVqKsEbl3brwnGpNa8TuZOZ36HML/wCI9OBv38V4wgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_13.png' title='' src='/static/5c85b754c54944360bd1d70a07725bdf/44038/img_13.png' srcset='/static/5c85b754c54944360bd1d70a07725bdf/e7570/img_13.png 170w,\n/static/5c85b754c54944360bd1d70a07725bdf/f46e7/img_13.png 340w,\n/static/5c85b754c54944360bd1d70a07725bdf/44038/img_13.png 469w' sizes='(max-width: 469px) 100vw, 469px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_13.png</figcaption>\n  </figure></p>\n<p>Thread Per Request 혹은 Thread for Connection 이러고도 하는데, 이는 <br/>\n하나의 요청에 하나의 Thread 가 필요하다는 의미이다. <br/></p>\n<p>예를들어 굉장히 많은 Thread 가 실행된다고 가정한다면, <br/>\n성능 관점에서 CPU 컨텍스트 스위칭을 고려해야 하는데, 이런 컨텍스트 스위칭 오버헤드를 감수하더라도 I/O 요청을 최대한 처리할 수 있도록 하는 전략이라고 볼 수 있다. <br/></p>\n<p>만약에 하나에 Thread 가 하나의 연결을 처리하고 있는 순간 다른 추가 요청이 있게 되면, <br/>\n대기를 하는게 아니라 또다른 Thread 를 처리하게 된다. <br/></p>\n<p>만약 대량의 요청을 처리하기 위해 요청 수 만큼 Thread 갯수를 늘리게 되면 결국 OOM 이 나버리게 된다.<br/>\n만약 10만의 요청을 동시처리하고 싶다고 가정한다면, <code class=\"language-text\">(10 만 * 스레드 크기 )</code> == <code class=\"language-text\">메모리 용량</code> 이 되버린다.<br/>\n거기에 하드웨어 최대 메모리까지 사용하게 되면 시스템이 아예 동작하지 못할수도 있다.<br/></p>\n<p>커널에는 OOM 이라는 안전장치가 존재한다. ( 주요 프로세스를 Kill 해서 시스템 다운을 예방하는 역할 )<br/></p>\n<p>반면 사용이 완료된 Thread 를 삭제하는것도 문제다. <br/>\n새로 들어오는 요청에 의해 다시 만들어야 되니까 ..<br/>\n결국 쓰레드를 관리해야 하는것이 성능 관점에서 손해이다. <br/></p>\n<p>이떄문에 Thread Pool 이 해결 방안으로 볼 수 있겠다. <br/></p>\n<blockquote>\n<p>가용 가능한 다수의 쓰레드를 미리 만들어 놓고, <br/>\n요청이 들어오면 미리 만들어 놓은 쓰레드를 활용하고 사용이 다 했으면 해당 쓰레드를 다시 쓰레드 풀 에 반납하는 전략을 말한다. <br/></p>\n</blockquote>","frontmatter":{"title":"CPU Bound 와 IO Bound","date":"January 12, 2024","update":"January 12, 2024","tags":["webFlux"],"series":null},"fields":{"slug":"/cpu-bound-vs-io-bound/"}},"seriesList":{"edges":[{"node":{"id":"157bc344-b416-5386-96b5-c8abcaaa04b1","fields":{"slug":"/deploy-strategy/"},"frontmatter":{"title":"배포전략"}}},{"node":{"id":"9ffe9bc1-affb-594e-835e-411f3a793a5a","fields":{"slug":"/cpu-bound-vs-io-bound/"},"frontmatter":{"title":"CPU Bound 와 IO Bound"}}},{"node":{"id":"57b20240-e6eb-5935-8501-3e6c67e74117","fields":{"slug":"/basic/"},"frontmatter":{"title":"코틀린의 현재와 미래"}}},{"node":{"id":"bb741bf1-7c1e-5b80-bb1a-14792a626e7f","fields":{"slug":"/coroutine/"},"frontmatter":{"title":"코 루틴"}}},{"node":{"id":"27dbdca2-3881-5505-8ab7-9ec45927fa02","fields":{"slug":"/basic/"},"frontmatter":{"title":"Redis"}}},{"node":{"id":"438d9589-dd16-5ed8-b45b-9f4a98acf02a","fields":{"slug":"/rag/"},"frontmatter":{"title":"Rag"}}},{"node":{"id":"949c21ae-8526-56ae-9f82-e1e9f517b13e","fields":{"slug":"/spring-ai/"},"frontmatter":{"title":"Ai. Spring AI 로 때워도 되나유? 1편"}}},{"node":{"id":"b9a90cce-fcd6-53ba-aa91-ef1e39152b15","fields":{"slug":"/phase1/"},"frontmatter":{"title":"🗞️ 한 달간의 뉴스 사이트 프론트 성능 최적화✨"}}},{"node":{"id":"1e90878c-3b63-5ee1-82dd-7c84ca638419","fields":{"slug":"/phase2/"},"frontmatter":{"title":"🏗️ AMP 페이지 개발"}}},{"node":{"id":"03510f8b-e65c-56a0-a96c-bc3935cc4600","fields":{"slug":"/phase3/"},"frontmatter":{"title":"퍼포먼스 최적화 를 향해 - 1부"}}},{"node":{"id":"720fdeea-fb60-5df7-a27a-47eba40a7300","fields":{"slug":"/phase4/"},"frontmatter":{"title":"퍼포먼스 최적화 를 향해 - 2부"}}},{"node":{"id":"50b5fb3c-da1f-5275-9401-02e0413fdf4e","fields":{"slug":"/resume/"},"frontmatter":{"title":"이력서"}}}]},"previous":{"fields":{"slug":"/deploy-strategy/"},"frontmatter":{"title":"배포전략"}},"next":{"fields":{"slug":"/basic/"},"frontmatter":{"title":"코틀린의 현재와 미래"}}},"pageContext":{"id":"9ffe9bc1-affb-594e-835e-411f3a793a5a","series":null,"previousPostId":"157bc344-b416-5386-96b5-c8abcaaa04b1","nextPostId":"57b20240-e6eb-5935-8501-3e6c67e74117"}},"staticQueryHashes":[],"slicesMap":{}}