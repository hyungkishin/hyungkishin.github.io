<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[RSS Feed of hyungkishin.blog]]></title><description><![CDATA[생각하는 삶]]></description><link>https://hyungkishin.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Tue, 06 May 2025 09:09:40 GMT</lastBuildDate><item><title><![CDATA[퍼포먼스 최적화 를 향해 - 2부]]></title><description><![CDATA[들어가며.. 진짜 많이 온것 같으면서도 미미한것 같기도하다.
PC / MO 의 성능 최적화가 얼마 남지 않았다. CLS 와 TBT , 그리고 FCP…]]></description><link>https://hyungkishin.github.io/phase4/</link><guid isPermaLink="false">https://hyungkishin.github.io/phase4/</guid><pubDate>Sat, 03 May 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;들어가며..&lt;/h2&gt;
&lt;p&gt;진짜 많이 온것 같으면서도 미미한것 같기도하다.
PC / MO 의 성능 최적화가 얼마 남지 않았다.&lt;/p&gt;
&lt;p&gt;CLS 와 TBT , 그리고 FCP 를 만점 채운 이 기분은 정말 이루 말할 수 없구먼 ㅠ&lt;br&gt;
( 고수들이 보기엔 작은거라고 생각 할 수도 ㅎㅎ )&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/cdc73851f8f85694a1b1691b484b0a2b/acc8c/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoklEQVR42pWT3Y7aMBCFef+H6GVfoM/QSr3pXdtlt8tCCiKQgBMn8V9sf5UTNkspoO1YJ4rkmeMzf7MYI+l4eUDlK9R2hdpldHmGyjOsFNjmDUYe0VVJsIoYYYg/w4yTRdOwfXkke/rBcv59wurpJ9nzA9mvh+F/vXik2q8JpuOaTYScXvDeD2B6NYwII4ghOZ9wjxA46oriuKYQ+eB/PeS+zV6DaquYVwuoFgSxwXVqckqKVacwztH3DqUUzrn7Cj2w1Ds29TO7ZgMhTgpTsGxbPn/5yoePn1gtX+j7/jZhqtWQsqz4ls3Jiu1Y1gvn6njk9zrH+3A75fRpO8t631CWB+rywH4vmOeRjbge9DoiNwm9j4hKY61GNYLWaAqp6fTfaaUihHi/VQOhNWYo9nstNckYc1XlQNhYRVmVyEZO3ZvSCgElJY2UdF03zGIiTH43CV3wiE6gjSakAb5YJ1tVmLYdSU735838h1AHx0ZsqZuacNFBFz1lK2ibdlR4h+xtbPqeQ5ljrJnKf25J9bs3ZQhPRS4KvHXjlp6l+7+r9wccVJgeXeTWNgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;그래 이거지&apos; title=&apos;&apos; src=&apos;/static/cdc73851f8f85694a1b1691b484b0a2b/ca1dc/img.png&apos; srcset=&apos;/static/cdc73851f8f85694a1b1691b484b0a2b/e7570/img.png 170w,
/static/cdc73851f8f85694a1b1691b484b0a2b/f46e7/img.png 340w,
/static/cdc73851f8f85694a1b1691b484b0a2b/ca1dc/img.png 680w,
/static/cdc73851f8f85694a1b1691b484b0a2b/acc8c/img.png 989w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;그래 이거지&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;작성중&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[퍼포먼스 최적화 를 향해 - 1부]]></title><description><![CDATA[박살난 퍼포먼스로 다시 살리자 ✅ 개선 목표 PC / MO 페이지의 Core Web Vitals 점수 충족 이미지 / 폰트 최적화 광고 로딩 구조 재설계 불필요한 JS 다이어트 🖇️ 주요 적용 항목 항목 적용 방법 코드 스플리팅 ,  SSR/ISR…]]></description><link>https://hyungkishin.github.io/phase3/</link><guid isPermaLink="false">https://hyungkishin.github.io/phase3/</guid><pubDate>Sat, 03 May 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;박살난 퍼포먼스로 다시 살리자&lt;/h2&gt;
&lt;p&gt;✅ 개선 목표&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PC / MO 페이지의 Core Web Vitals 점수 충족&lt;/li&gt;
&lt;li&gt;이미지 / 폰트 최적화&lt;/li&gt;
&lt;li&gt;광고 로딩 구조 재설계&lt;/li&gt;
&lt;li&gt;
&lt;h2&gt;불필요한 JS 다이어트&lt;/h2&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;🖇️ 주요 적용 항목&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;항목&lt;/th&gt;
&lt;th&gt;적용 방법&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;코드 스플리팅&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;next/dynamic&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;React.lazy&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SSR/ISR 최적화&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;dynamic()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;revalidate&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;cache&lt;/code&gt; 옵션 조정&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;이미지 최적화&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;next/image&lt;/code&gt;, Skeleton UI, CDN w= 자동화&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;폰트 최적화&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;next/font&lt;/code&gt;, preload&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Web Vitals 분석&lt;/td&gt;
&lt;td&gt;Lighthouse, Vercel Speed Insights&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2&gt;⚡ Core Web Vitals 별 개선 요약&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;지표명 (약어)&lt;/th&gt;
&lt;th&gt;설명&lt;/th&gt;
&lt;th&gt;일상 비유&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CLS&lt;/strong&gt; (Cumulative Layout Shift)&lt;/td&gt;
&lt;td&gt;화면이 로딩 중 갑자기 밀리거나 이동한 정도&lt;/td&gt;
&lt;td&gt;버튼을 누르려는데 갑자기 밑으로 밀려서 광고 클릭한 상황 😡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SI&lt;/strong&gt; (Speed Index)&lt;/td&gt;
&lt;td&gt;화면이 시각적으로 완성되는 속도&lt;/td&gt;
&lt;td&gt;영화 시작할 때 화면이 빠르게 차오르는 느낌&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;FCP&lt;/strong&gt; (First Contentful Paint)&lt;/td&gt;
&lt;td&gt;첫 텍스트나 이미지가 뜨는 시점&lt;/td&gt;
&lt;td&gt;영화 타이틀이 처음 뜨는 순간&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LCP&lt;/strong&gt; (Largest Contentful Paint)&lt;/td&gt;
&lt;td&gt;메인 이미지나 큰 텍스트가 완전히 보일 때&lt;/td&gt;
&lt;td&gt;표지부터 다 읽고 본문 읽을 준비 완료&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;TBT&lt;/strong&gt; (Total Blocking Time)&lt;/td&gt;
&lt;td&gt;JS가 렌더링을 막은 총 시간&lt;/td&gt;
&lt;td&gt;문 열고 들어가려는데 안에서 JS 처리 중이라 안 열리는 상황&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2&gt;먼저 JS 번들 부터 정검 해보자&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-D&lt;/span&gt; @next/bundle-analyzer&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런다음 next.config.js 에서 analyzer 를 활성화.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; createBundleAnalyzer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@next/bundle-analyzer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; withBundleAnalyzer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBundleAnalyzer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ANALYZE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;openAnalyzer&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ... &lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;withBundleAnalyzer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;package.json script 부분역시, 명령어 활성화 필요. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token string-property property&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; 
  &lt;span class=&quot;token string-property property&quot;&gt;&quot;analyze&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ANALYZE=true next build&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;token string-property property&quot;&gt;&quot;analyze-explorer&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;source-map-explorer &apos;.next/static/chunks/*.js&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 어떤 라이브러리들이 번들에 포함되어 있는지 확인하기 위해 bundle-analyzer 를 설치해 주고 분석해 보니, lodash-es 와 moment-timezone 이 포함되어 있었다.
700KB 와 500KB 먹음직 스럽게 제거할 수 있는 크기였다. ( 그외 다수 도 +_+ )&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9eb11c1e04ccd688251085fb67cbecc9/07938/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABdElEQVR42n2T6W6DQAyEef+HTFESknATjpADmOpzNGnVH0Wy1vba47G9JMM4qm57df2kfpyVl43KutHtdtPj8QiZpknjOGqeZ9V1rev1qvv9HoK/qioNwxCxCYnSpnVdtG2r6qpSmn5F4LquWpZFz+fzA7jf75Vlmfq+DxDO3W4XhcBKfhJXbdumtm2V50VcYnP3er3UdZ3KslSe58HocrmoaRqdz+ewj8dj3Afg3w+g3x8sKQQoyTAlhtYRWAJMgYT5/AdmQMBIpk1IAEIRQChCy9gJQbRHADoFsDlJNgjBnhmA+L0MwNDxxVIIOBwOMWwHA8icWAIJ+GFDnFv3HTr+aBlABzIbdBJgxKBJwOauKIoA4cQPAQOmafpuGcpumSR0xO3CjC2b8el0ipMi+Hw6JgBZN1syiJ8ANsk8FZgD9n5W+Wer6MTAmjMxCAZsSADMW6MthLb8dADydr1h/0GJZ0AFBB1AP2IE3Uw5XcQ6bG1/Ay+Aktt9reT7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_1.png&apos; title=&apos;&apos; src=&apos;/static/9eb11c1e04ccd688251085fb67cbecc9/ca1dc/img_1.png&apos; srcset=&apos;/static/9eb11c1e04ccd688251085fb67cbecc9/e7570/img_1.png 170w,
/static/9eb11c1e04ccd688251085fb67cbecc9/f46e7/img_1.png 340w,
/static/9eb11c1e04ccd688251085fb67cbecc9/ca1dc/img_1.png 680w,
/static/9eb11c1e04ccd688251085fb67cbecc9/02d09/img_1.png 1020w,
/static/9eb11c1e04ccd688251085fb67cbecc9/9d567/img_1.png 1360w,
/static/9eb11c1e04ccd688251085fb67cbecc9/07938/img_1.png 3404w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_1.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;📦 lodash 최적화&lt;/p&gt;
&lt;p&gt;프로젝트 내에서 lodash-es가 설치되어 있었고, 실제 사용하는 함수는 debounce 하나뿐이었다.&lt;br&gt;
아마도 Tree Shaking을 노리고 lodash-es를 선택했던 것 같다.   &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tree shaking 이란 ?
실상 쓰는 코드만 번들에 포함시키고, 안 쓰는 코드를 제거하는 기능인 Tree Shaking&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;하지만 애석하게도, lodash-es는 ESM 구조이다.&lt;br&gt;
Tree Shaking이 가능하다고 알려져 있지만, 내부적으로 많은 공통 유틸 함수들이 함께 import되기 때문에,&lt;br&gt;
debounce 하나만 불러와도 수많은 내부 의존성 코드가 함께 번들된다.  &lt;/p&gt;
&lt;p&gt;즉, 다음과 같은 코드 는 실제 번들 사이즈를 눈에 띄게 줄이지 못한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; debounce &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lodash-es&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;함수 단위 패키지로 대체 가 가능한 lodash 로 변경하기로 결정하였다.&lt;br&gt;
개별 모듈(함수)로 쪼개서 npm 패키지를 배포하고, 무었보다 monorepo로 관리하기 때문에 효과적으로 다이어트가 가능하다고 판단했다.  &lt;/p&gt;
&lt;p&gt;lodash.debounce를 import하려면 lodash.debounce 패키지를 따로 설치해야 하고,&lt;br&gt;
타입스크립트 환경에서는 타입 정의 패키지(@types/lodash.debounce)도 필요하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; lodash.debounce

$ &lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-D&lt;/span&gt; @types/lodash.debounce&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;최소한의 코드만 번들에 포함되고, 사용방법은 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; debounce &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lodash.debounce&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;⏰ moment-timezone 최적화&lt;/h2&gt;
&lt;p&gt;앞서 말한 것 처럼 lodash는 함수별로 npm 패키지가 분리되어 있거나, ES 모듈 구조라서 개별 함수만 import할 수 있지만,&lt;br&gt;
moment/moment-timezone 는 하나의 큰 번들(모듈)로 배포되고 내부적으로 모든 기능이 단일 객체(moment)에 결합되어 있다.&lt;/p&gt;
&lt;p&gt;죽, moment-timezone은 하나의 큰 번들이고, 부분 import 안 된다.. 구조 상 ESM도 아니고, 트리셰이킹도 불가능.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; tz &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;moment-timezone&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; ❌
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; moment &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;moment/timezone&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; ❌&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;구버전 브라우저(특히  Edge, 구형 크롬/파이어폭스 등)까지 완벽히 커버하면서, 타임존 목록 및 오프셋, 타임존 변환 등 기능을 제공하려면&lt;br&gt;
moment-timezone을 계속 사용하는 것이 가장 안전한 선택이라.. 이대로 두기로 하였다. ( 언론 뉴스 페이지다 보니, 해외 구형 디바이스 까지 커버 해야 한다. )  &lt;/p&gt;
&lt;p&gt;moment-timezone은 오래된 브라우저까지 호환성을 고려해 설계되어 있다 (IE9 이상, 구형 모바일 브라우저 등 포함)
최신 방식인 Intl.supportedValuesOf(&apos;timeZone&apos;)는 최신 브라우저(크롬 104+, 사파리 16.4+ 등)에서만 지원되고&lt;br&gt;
구버전 브라우저에서는 동작하지 않는다.&lt;/p&gt;
&lt;p&gt;굳이 하려면, 데이터 범위를 줄여서 번들 사이즈를 최적화 하는게 유일한 방법이다.   &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# slim 빌드 사용&lt;/span&gt;
$ npx moment-timezone-data-builder &lt;span class=&quot;token parameter variable&quot;&gt;--zones&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Asia/Seoul&quot;&lt;/span&gt; --start-year&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1990&lt;/span&gt; --end-year&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2026&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; data/packed/latest.json&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;추가적으로 next.config.js 내부 설정중 optimizePackageImports 를 사용하여 조금 더 영끌 다이어트를 할 수 있는데,&lt;br&gt;
date-fns, moment, swiper 같은 덩치 큰 라이브러리에서 &quot;쓰는 것만 가져오도록&quot; 자동 변환해줘서 번들 크기를 줄여준다.&lt;br&gt;
( 아 물론 lodash-es 는 효과가 미미...)  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token literal-property property&quot;&gt;experimental&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;optimizePackageImports&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;moment-timezone&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;date-fns&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-share&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;swiper&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;✨ 결과 ✨&lt;/h2&gt;
&lt;p&gt;3.11 MB -&gt; 2.38 MB 로 줄어들었다. ( 약 23.5% 감소인데, 실제 웹 성능에선 체감 가능한 수준일것 같다. )  &lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 423px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/497f8f6fceadf466cfe050c238eac3ce/6fe3b/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 8.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAX0lEQVR42o3DSw6CMBRAUfa/MxMQzENSDIZv7Y+OgEGZXJYgJzmZ9w4TNp6iyauB4jVSyUwpC4+io582fu5E23RrFuOKjweiLG+lqZWm+Rjab0CahdnsuPXEhvS3C4kLepmUJmgK5RoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;before&apos; title=&apos;&apos; src=&apos;/static/497f8f6fceadf466cfe050c238eac3ce/6fe3b/img_2.png&apos; srcset=&apos;/static/497f8f6fceadf466cfe050c238eac3ce/e7570/img_2.png 170w,
/static/497f8f6fceadf466cfe050c238eac3ce/f46e7/img_2.png 340w,
/static/497f8f6fceadf466cfe050c238eac3ce/6fe3b/img_2.png 423w&apos; sizes=&apos;(max-width: 423px) 100vw, 423px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;before&lt;/figcaption&gt;
  &lt;/figure&gt;  ➡️
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 452px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1e7f402d0bb91d3aac9bf9a370ee8a03/80d88/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 7.0588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOUlEQVR42n3FMQrAQAgAwfz/hweKWNp4gqDlhnwgxTBPZhIRfKsqIoK7Y2acc6gqdpeZ+dXd3Ht5AdOKS51I8lATAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;after&apos; title=&apos;&apos; src=&apos;/static/1e7f402d0bb91d3aac9bf9a370ee8a03/80d88/img_3.png&apos; srcset=&apos;/static/1e7f402d0bb91d3aac9bf9a370ee8a03/e7570/img_3.png 170w,
/static/1e7f402d0bb91d3aac9bf9a370ee8a03/f46e7/img_3.png 340w,
/static/1e7f402d0bb91d3aac9bf9a370ee8a03/80d88/img_3.png 452w&apos; sizes=&apos;(max-width: 452px) 100vw, 452px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;after&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;( 이미지가 똑바로 안맞네; )&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;느린 네트워크, CPU 환경에서 0.7MB 감소는 LCP, TTI에 직격 영향을 줄 수 있다.&lt;/li&gt;
&lt;li&gt;JS는 CPU cost가 높아서 압축되어도 실행 비용이 큼 (압축 전 기준 0.7MB 감소는 👍 )  &lt;/li&gt;
&lt;li&gt;JS 줄이기만 해도 LCP, FID, CLS 등 모든 항목에 긍정적 영향.&lt;/li&gt;
&lt;li&gt;3G 환경에선 700KB는 수 초 차이로 이어짐 ( 해외 사용자가 꽤 있다 게다가 구형 디바이스 유저도 많다. )&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;어 고생했고 .. 다음은 PC 와 MO 페이지의 성능 최적화&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 356px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8b1bf4a5a5e64377e5c7c3bea673c358/323b2/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAADwklEQVR42j3S2U8bZxTGYatSa3vGHs+MtxkbmxjvC2CzGCfsAWNwjDGrTQo4bIYEEmhKkygkUYIiki6K0ipqm6uqUtX2qpsqVfnrfpVN2otP5+p79Oq8x9DdHSPVGSM7kCYU8aLpCt42O16fikuz4dYVHE4bbk2mP+mhP+YiEXSia1acLiuK3UImpNGZ9OHu0DEoqoSiSGi6owX6/A5cbhmXy9b64PEquJwSvVGNjakktbEI0wOXCPpsyKqI3S4xnwuQ6fTjatcxCKIJQTChKFY8moruUZFVCVEwosgCHqeVnqjO1nQnx5U+DmYzbBQS5Hu9KKqI36OyPpEgEHbj9DkwWCQBk9mIyWTEYZfQXDJhn4OraR99ITu5qJOdQpKTxT4erOQ4nOthYyrO4vAl3A4L2ZjO9nQXTr+Ko03FIMkCXR06y4NxaiNRjhf6Od8c4dVenserOTbGw2wVE9SLKVYnY9QLSdbyMarjQTrabCwNhSkOBBBkC3ZNwWAUjRxWBvnxqMyjapbTWj9P1wZ5Xh/lbH2I66NBhrt1JrLtzF4JsD6VYHM6Rj0fpifiZGkkQrtXxWg0I8kWDB+YP+Tu4ig/nazwpHaZx6uXOd8c5/V+gdf7M9wuZ9ieTLI+HqYxk+BmKcHBbJKtQpRkUEWSREyigGAREawCBlmx8MXONf56tsW3ByXuLffz6Xwvu/kuTipZDksZ9qcS3FtIc38xw72lbu7MpVifDJEKqRgFAdF6gZmtZgztup0fPqvxz4s9fn+yxtn1HEdzXdwqp/hkIc3aWJjdQoy7lS5OV3q5v5yhUYyzMOyjN+5EkIQW9j843B3kj7Mb/P1il1/uL/N6N8+rzQker1zhtDbEcSXD3fk0O4UoW/kIe6U4G4UQS6N+0lEnH1lNCJIZwWq+APfLV3j3ssGfzzZ5e3SNNzeLPK+NsDee4KCYZruQoF6It8pYGguwU4ywNRNlcbSdNo+E0WJGbKZ8/wxv7lR4d77Nr6dV3h6X+f5wjpNylrWxOPXxBNXhMBv5JPNjEWYH22nMRNmZjjCU1hBtTUREaE7be7BeyvHb04/5+eEy3x3N8c1+mUa+k5WrKb5+UOVRY5KHt/I05vu4MRFlr9S8wcBFOqu5hTRhURERZAGD6nVRnujmy90pPt+Z4VF1hNvX0jxcHOWrvQpn9QJ3Sjmq2RD15mFPRsglnFjki52Z/0Pli6QGm9uGqFoJ+BwMpgKkQzo9YY3hVICeSx5SHhcdbgW/ZiPYpuLXbciy0CqihTXR1v4uyvkXjjroKRDVzvoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;개 많이 남았어&apos; title=&apos;&apos; src=&apos;/static/8b1bf4a5a5e64377e5c7c3bea673c358/323b2/img.png&apos; srcset=&apos;/static/8b1bf4a5a5e64377e5c7c3bea673c358/e7570/img.png 170w,
/static/8b1bf4a5a5e64377e5c7c3bea673c358/f46e7/img.png 340w,
/static/8b1bf4a5a5e64377e5c7c3bea673c358/323b2/img.png 356w&apos; sizes=&apos;(max-width: 356px) 100vw, 356px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;개 많이 남았어&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[🏗️ AMP 페이지 개발]]></title><description><![CDATA[들어가며 AMP 페이지가 동작하지 않았던 이유는 NextJs 에서 지원하지 않은 Router 방식임을 확인.
Pages 디렉토리를 생성후, 하위에 amp…]]></description><link>https://hyungkishin.github.io/phase2/</link><guid isPermaLink="false">https://hyungkishin.github.io/phase2/</guid><pubDate>Thu, 01 May 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;들어가며&lt;/h2&gt;
&lt;p&gt;AMP 페이지가 동작하지 않았던 이유는 NextJs 에서 지원하지 않은 Router 방식임을 확인.
Pages 디렉토리를 생성후, 하위에 amp 전용 페이지를 두는것으로 진행하기로 했다.&lt;/p&gt;
&lt;p&gt;기사 본문의 내용은 기자님들이 별도 도메인에서 Editor로 작성한 본문이 string 형태로 DB 에 적재되니 응답 string 을 dom 으로 뿌려주면 되는 문제. &lt;/p&gt;
&lt;p&gt;AMP(Accelerated Mobile Pages)는 빠른 모바일 페이지 로딩을 위해 구글이 주도한 프레임워크로, &lt;strong&gt;강력한 성능을 얻는 대신 엄격한 제약&lt;/strong&gt;을 동반한다.&lt;/p&gt;
&lt;p&gt;Next.js에서도 AMP를 적용하려면 이 제약을 그대로 수용해야 하며, &lt;strong&gt;페이지 구조, 스타일링, JS 사용 방식 등에서 별도의 대응이 필요하다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Next.js에서 AMP를 적용할 때도 이러한 제한이 그대로 적용된다.&lt;/p&gt;
&lt;p&gt;시작 하기전에 기합 넣고 ! &lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 543px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/48433615ed04eda934c72cb00342564f/10880/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 64.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADOElEQVR42lWTa2yTVRiAG+MfEzUqBLwRUYegqIjGeUNNxEVDYoLRhP1hJkvUqPwRUWKMjITMuFB1zG2WdaOXfW3XrzfqNhq3Dpi167q29L4Vu445hYSNDGWYrevX7zH92gG+yTnvOW9Onvd6VFI+T1y0cD4ZpyTFYhFZlhVdkhMuJ9u2PkHV/XdTdc8a9O1trMjvp7341AfJeT3KXS4WUckyXAyHuJzLlo2ShCRJynlmKsfm9etYdedtPLzuXtbecSu1b+24BpzNZki5rUS6WpifzCg2VWmbS6eY8g6Qv7qgGAvLy4oeG/FTveEhdlY/zX2r7+KWm2+i5pVtitNSFnIliwuJM6RFHfmFK2XgpewEZ4/b+CsYZHFhQXlckj9yOerfeJ2hhi9o+vA99r27g6ZPP0GSymWRCgUFWpSKZNxWct7+MnDpn79JWbSkRRPjvb8wdzaLtJxXoBO+04y2NxLXqZmwaJn0eJif/rOccynKivPZ8SQJQYNqpfjnhgcJtP9I0t5Houc4GY+XyZM+ZvwBUg6RMX0nIYuDgM5MUBC5kJ3kysVZZf07f5nssI+4xXodODc9zYjWSMLqJiLYCButRIwiUYuTtLOPsGAjZnWRcvVzxmQn1uMiYrYR7XESF10E9WbCJvt14PlkmpC+h6jRxm9HdfgNViLddkbadIyZHAQFB6PdDqJdRgI6gZitl5Szl7AgEhJEftUaGO7QlcamXAdZaU6O8b5B/C1HCO7/iNjBL4nVvUOo9SfG9n9GpKmBaP0uEoe+JqwzEjfbGekS8B8T6DvczHCH/gZgJdL80iInd+6if+0qfHueI733TU7VvUSm/kWGtjyA+4VNmJ7cSOfWZ/E1f4evs1uJLuL8mUtT524AlsYgv6T8ENPuWtqrVnNg+2sYHnsK9eZNGOrqOfrgen54dA3qlx9HU/0Ihs/34e/QkzwxcK3r/wMWpYJiD2j2otl+O80f7+GbV2t4f8vzmBsP0L17I1/VbODIB2/TXPsM+oZD+DTHSHrKwMLiVVRy5e8qA7oy+TPTDPW6GTWLDLRpcX/fSkhvRmxswv6tmoDBjutwC4OtHZxq1ZKoAIv5Jf4DpYM7pvXOQv8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;좀만 더 ...!&apos; title=&apos;&apos; src=&apos;/static/48433615ed04eda934c72cb00342564f/10880/img_3.png&apos; srcset=&apos;/static/48433615ed04eda934c72cb00342564f/e7570/img_3.png 170w,
/static/48433615ed04eda934c72cb00342564f/f46e7/img_3.png 340w,
/static/48433615ed04eda934c72cb00342564f/10880/img_3.png 543w&apos; sizes=&apos;(max-width: 543px) 100vw, 543px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;좀만 더 ...!&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;TODO LIST 체크&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;✅ AMP 페이지 는 총 N Phase 로 배포 &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;( 우선 amp 가 존재 하는것을 mvp 목표로 배포 ! )&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;✅ Pages Router 기반의 디렉토리 구조 설계&lt;/li&gt;
&lt;li&gt;✅ AMP 대상 페이지 컴포넌트 설계&lt;/li&gt;
&lt;li&gt;✅ middleware.ts 에서 /amp 로 시작하는 URL을 감지하여, 해당 페이지를 AMP 페이지로 리다이렉트 하도록 설정&lt;/li&gt;
&lt;li&gt;✅ 스타일링 ( GPT 의 도움으로 스피드하게 해결 )&lt;/li&gt;
&lt;li&gt;✅ 본문내용 api call 이후 제약 태그 -&gt; amp 태그로 변환 util 만들기&lt;/li&gt;
&lt;li&gt;✅ SEO 메타 태그 ( 손으로 일일히 해도 되지만 AI 이용해서 검수정도로만 빨리 ! )&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;되짚고 넘어가는 제약 사항&lt;/h2&gt;
&lt;p&gt;⚠️ AMP는 일반적인 React 환경과 달리 다음과 같은 제한이 있다&lt;/p&gt;
&lt;p&gt;☝️. &lt;strong&gt;React Hook 사용 제한&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; 등 hook 기반 로직 사용 불가&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;✌️. &lt;strong&gt;Sass/SCSS 등 외부 스타일 방식 제한&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모든 스타일은 inline 또는 제한된 CSS 내에서 처리해야 함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;🫰. &lt;strong&gt;일반 script 태그 사용 불가&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&gt;&lt;/code&gt; 태그 자체를 금지하며, JS는 &lt;code class=&quot;language-text&quot;&gt;amp-script&lt;/code&gt;로 제한적으로만 허용됨&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;전체 AMP 검증은 &lt;a href=&quot;https://validator.ampproject.org/&quot;&gt;AMP Validator&lt;/a&gt; 를 통해 실시간 확인 가능&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;🗂️ 디렉팅 구조 전략&lt;/h2&gt;
&lt;p&gt;pages 디렉토리 를 기반으로 amp 디렉토리를 생성하고, 하위에 slug 페이지를 작성한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;🔖 slug 란 ?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ex ) /news/2025/04/17/기사제목&lt;/li&gt;
&lt;li&gt;URL의 일부를 사람이 읽기 좋고 검색엔진 친화적으로 만든 문자열&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;middleware.ts 에서 /amp 로 시작하는 URL을 감지하여, 해당 페이지를 AMP 페이지로 리다이렉트 하도록 설정.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 363px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/2a116434e1b7aa72d000971ee8d1627a/6ddef/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 133.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEJUlEQVR42pWVS09bZxCG89eqLrqpom66SdVVpS76Gyq1TStVqhRFTRVl0RCCS4gJuRRogDgOBhtjwA6+YGPw/X73AV/O1cfnic4HipImIc5iFkcaPWfeb96ZuWTpfca6gqFpMDaxDAVrJIOlwUjG0gefFJcYG+QPfRy4fiIRWkJqZBmetKiXs5y2a2AMPxGISTTwGDl4hYr7MvnYIn6vj8Un80RCOwJoqj3GWn9C4EihW88R8j1gc22abjOHrMuYpsZI7YkkTEWENUG1l+w/g4HUbVMqFmikD4neuMqBa4lOKYUhn9BrV+l1ahjKCejDCYCmQruWZ9P3Ave8A+X7L2ld+YzMk3/w+Df58/o1pqf/plJIi1xT7X8cKDUrlAopBu0q4cXHHK8s0sociqqkZplet87Ylj7WLpR+BhyrdJsljuJRSpl9DjZ+J33ootvIMJCaNCpZuo0ypdwx2VQcpdcRzRprFwA7jSJbvk3W15y0PF+RWf6cuH+KLZ+fW7f+wnl/lvv3Z5l33iOdjAH6e6W/LbmUQZU7JMNucnE3rXJSSLR/KMLSGeuDCy10XqFCt1kmc5ygno8Rf/4rmegqp80c2VSC7FGMfDpBMXskPPnxLgvJJbybHjzPHtD0fk3Z9cWZ5K0ADscUd+9O8WjBiTboXjg970hWhh2C/mXSsXPJpi1ZF50dT2zsc8l2lyuZMGnPLySDD5HqKaL7e2x51xkpp5ON3puSt/0+/J5/kQLf0PFd5njvrpA8M3Obk1b19VxPNClSq0KpnEVTJcKB/8gmNpDqaextBNZZty1drLWJK4xHQsSjL7k97eDZs+cUcykqhRSRUIBkfJ/Y/i5H8TCmcgrGB4BimxhD1H6HYjbJ6soyf1y7zo8/X+Xp02VCwW0W5mdxzNxhxnGH1adLIveDFb75YW8dVT5hb2cL78YL0ahKIYuh6Qx7XUxDBcZgGVim+nGg/eD2G0lSk0Q8ymHYQ871HRH3b5RSftJHCTbW1/B71ylkkjAavjM1bwHtYRerrF4kuBtgz79KZ/cHTgLfkgo52fYHcK0t8eihk3gkKICmatupfwHw3JN5e/eNVSIHUUKxKP1OFSwTyxqdSR4pIhchvf8a+j/gmcltC+1seei0aswnajjjVTRtiMe9wtycA9faMn7vC5YXH+PbcDMWN+fs7rwHqArgy70tlNMWvkyVjXQZVe6RSoTxep4TeblDvZwjebBPIZMAU8a+TZYxeD/Q9mTGfnRGxKoNDqpN0Pt0GyWUfgddlpB7bQZSA23QoV0r0Kzm0YfS20BhnZGM3OuwH/RTLGSYDhdENNoNZh1T3JtzsLayxMMFJ/POWW7evCGW7sKDOXa3ve8CRRhDRmqfsXpKst4iUWsJS9kX0BhKohK7MlPro/TajPS+uD12ha8AWZvKk/aSTj4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;디렉토리 뼈대&apos; title=&apos;&apos; src=&apos;/static/2a116434e1b7aa72d000971ee8d1627a/6ddef/img.png&apos; srcset=&apos;/static/2a116434e1b7aa72d000971ee8d1627a/e7570/img.png 170w,
/static/2a116434e1b7aa72d000971ee8d1627a/f46e7/img.png 340w,
/static/2a116434e1b7aa72d000971ee8d1627a/6ddef/img.png 363w&apos; sizes=&apos;(max-width: 363px) 100vw, 363px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;디렉토리 뼈대&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; 
📁 src
|── components                     
    ├── amp                        👈 amp 페이지 내 공통컴포넌트 ( Header, Body, Footer 등 재사용 컴포넌트들 쭉쭉 넣어주고 ~ )
    |... 원래 있던 친구들 내비두고 ~
├── pages                         
│   ├── amp                        👈 AMP 페이지 전용 디렉토리
│   │   └── [slug].tsx             👈 section 카테고리별 디렉토리
|   |     └── [depth1].tsx         👈 amp depth 1 본문 페이지
|   |         └── [depth2].tsx     👈 amp depth 2 본문 페이지
|   |             └── [depth3].tsx 👈 amp depth 3 본문 페이지&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 되면 사실상 &lt;strong&gt;사용자 관점&lt;/strong&gt; 에서 보이는 기사 뷰 페이지는 2벌이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;일반 페이지 [ PC / MO ] &amp;#x3C;-- 다행이 반응형으로 통합되어 있어서 아멘...&lt;/li&gt;
&lt;li&gt;AMP 페이지 ( depth 별 )&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;기존 기사 본문 URL 구조는 &lt;strong&gt;slug url&lt;/strong&gt; 형식으로 되어있으니 amp 페이지로 유입될 경우 본문에 해당되는 amp 페이지로 redirect 해주면 된다
pages 만 UI 뼈대를 만든 후 공통화 컴포넌트화 시키면 되겠다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 335px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1287d9388ab92c89f022c3e02880814b/56823/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 175.8823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD9ElEQVR42p1WyVLbShTlv9nm7cirpFiwY42zp4phQZwKYGMDnmRJZigwnohnG4MtWzqvzm213HJI4ryuOmVZ6j6699xJG+PRGMlkEuVyGZZlRSgUCsjlcmuBe09PTzEajbDRaXdgWWV0u10hvbm5geO6GAyG4PJ9H74fIJBfH4FcBwgChcViIfts20ar1cJGt6sIJ5MJarUams0mGo2G/A8AzOdz+ItFSKwIfU3K65DQcRw8Pz+TsItSqRRZoxffvvpf3QsJVy2MEVqW3BRrtCVBAM/zkM/n8fT0hHq9LlYD6xCGFvKhcsmnSfBmHr4kvuDT50/Y2trChw//RERaR03o2CFhp9NFqRgSzheRqxqvr6/o9/to//ghB7Tbf7DQijSMLDBgrtVnWucYIfOIazqdYuZ58LwZZjMPs9kswnQ6w2yq7vO5gidnuKyypQh73R729/dxe3srech8+hvwDM8eHR2h3W4rCxlJPjw/P0cmk1kb2WwWZ2dnkoNEk4nd7w+QTqflTW9vb5hMXiUQ64D7WW40yHHCSukPBjhPpaXktOi/CoIOmrkYZZGqbCsNmRKpVAqVSoWpF9Uufyl6vFpgpFUQJv9cmgklE8LBYBARLpuBIjk8PMReYg97ewkkEgrJb99iKcbq+okwnUrBfYeQG6+vr3FwcIDd3V3s7Owge3mpXNXluUrYDy10XRd+mPlCyjIMfGlbXHSfQVBkCyH0A1/ykoWh2peh4a+C8qdFA5jUMcKLTAZXV1fSUdgL6/UQcq3v1dV1+F/QbOLx8REXFxk4jqsIO52OaMDN1KtYLP4ElqaGeZ9dimdIzqBKHirCsgjK+WCVSrJRg65QDpYXddZEBA3hGZ4lYbPZUu2rWHy/Y3OxxE5OTgR0b1VnfW3bDlrSD7tdedN4PMZjtaq0qtVRqymtWK8k+/79VKzjzOHs0ZpWq1U565oalm0bvV5PiOmWhuM6uL+/F8seHh5wd3cnTcDcwzMMbKQhiSgsC5wWmLOZoFaUpGjopsEapoY8X3Ery+bAPOQspoYsJeYWMV/MJaE5GnjffKbBBktD4rWcTqNSuZE5HI0Bf1kl8dGqu05YQXNPsmRZelG3cWMDitd8O6M8HAwlQHRJE5qjVrlvqyhrl6nBsn2pSTYaDrG5uYmP/34UbG9v4+XlJSw5X/abhLH2xYgpl40xuvClITAtOOQbjaYQwGi2Zj+UtJH2JRpWlMtht1kYbcz8NIkh8OVj4LcN9v90G7avyGXmYT6XR6FYwGU2G33zXUt+KeTeu87lJHcZNDYNGvRslh4X9TKH+zrQTZcVJBoOhyMcHx/LW5jx6361msjnC/ia/ArK9x8E3SgaPi2VVwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;기사 본문 상단 구조&apos; title=&apos;&apos; src=&apos;/static/1287d9388ab92c89f022c3e02880814b/56823/img_1.png&apos; srcset=&apos;/static/1287d9388ab92c89f022c3e02880814b/e7570/img_1.png 170w,
/static/1287d9388ab92c89f022c3e02880814b/56823/img_1.png 335w&apos; sizes=&apos;(max-width: 335px) 100vw, 335px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;기사 본문 상단 구조&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AMP는 제약은 많지만, 뉴스 도메인에선 여전히 유의미하다&lt;/p&gt;
&lt;p&gt;React hook이나 script 사용은 어렵지만 기본 콘텐츠 위주 뉴스 페이지엔 큰 무리는 없다&lt;/p&gt;
&lt;p&gt;middleware.ts + slug 기반으로 AMP 라우팅 처리하면 깔끔하게 대응 가능&lt;/p&gt;
&lt;p&gt;AMP 페이지는 별도로 구성하되, 디자인/구조는 최대한 기존과 일치시키는 전략이 효과적이다&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;기사 본문에서 amp 태그로 변환하는 util 함수 만들기&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;일반 HTML 태그는 사용 불가, AMP 전용 태그만 사용 가능&lt;/li&gt;
&lt;li&gt;예를 들어, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt; 태그는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-img&gt;&lt;/code&gt;로 대체해야 하며, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&gt;&lt;/code&gt; 태그는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-script&gt;&lt;/code&gt;로 대체해야 한다&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;style amp-custom&gt;&lt;/code&gt; 태그에는 &lt;strong&gt;최대 50KB까지만&lt;/strong&gt; CSS 작성 가능&lt;/li&gt;
&lt;li&gt;애니메이션 전용으로 허용된 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style amp-keyframes&gt;&lt;/code&gt;는 &lt;strong&gt;최대 500KB까지&lt;/strong&gt; 허용되지만,
이는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;body&gt;&lt;/code&gt; 하단에만 위치할 수 있고, 오직 키프레임 규칙만 작성 가능하다&lt;/li&gt;
&lt;li&gt;JS 이벤트 핸들러 제거 , javascript: 링크 제거 &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;허용되지 않는 태그 하위 호환&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;font, area, form&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;👉 &lt;strong&gt;총 CSS + 인라인 스타일 합산이 75KB를 넘지 않도록&lt;/strong&gt; 주의해야 한다 - &lt;a href=&quot;https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml&quot;&gt; 관련 공식문서 &lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;⚡️ 대략 적인 AMP 페이지 구조 ( 보여줄 수 없어서 추상적으로 대체 )&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;token doctype-tag&quot;&gt;DOCTYPE&lt;/span&gt; &lt;span class=&quot;token name&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;⚡&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- 공통 대상 Header --&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;utf-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width,minimum-scale=1,initial-scale=1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;canonical&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;원본 URL 잘 집어넣어야 합니다.&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;amp-google-client-id-api&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;googleanalytics&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--  공통 대상 : Style  --&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;amp-custom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style&quot;&gt;&lt;span class=&quot;token language-css&quot;&gt;
      &lt;span class=&quot;token comment&quot;&gt;/* AMP 전용 CSS 들어올 자리 ( 용량 50KB 안넘기게 살살 다뤄줘 ) */&lt;/span&gt;
    &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--  공통 대상 : 뉴스 기사 Body --&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--  공통 대상 : 예쁘게 컴포넌트 화 --&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        기사 본문이 들어갈 자리
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      
      &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--  갖가지 광고 예쁘게 공통으로 말아 --&gt;&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        광고 들어갈 자리 Lazy Load 적용 대상
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--  공통 대상 : footer 야 뭐...  --&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;footer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;푸터 들어갈 자리&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;footer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h2&gt;AMP 규칙에 맞는 Style&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/08c8c3426264e11057fe959c06c79ed3/89e0a/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 58.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADPElEQVR42i3SW0+bBQDG8fdC2vfc921LoaWlK7TQUkqPtAHWwlaBwhhlEAgDOWyBQjlsbN3BZQxHzJybhgUPSzRuMWoMJnqnNyaakBjjjZcaL/RiX8ELb/9mZF/glyfP8wj//fsnL14c88dfP3D82xG//v4Nx8fPeffgLS5VKywuzDEzPcWZoRKZvn7CyRzJXI7iUD+dqRThWCfhaIRoLEJHNIzwz98/c/zLET/+9AWHTx/y9uM9Nm/usHNzk71ahdWLM2TzA7SnsrTEknhCHfjbIqRzGQLhNvzBVgLBFoKhAG1tLQhH33/Js28/46PPD6neusbegxvcf7DDJ0/v8eneOpXpcfoLeRKpNKfao/iCIbynAjSHIzT4fdQ3eXD7PDT53Pj8XoTnX3/Is6+ecPDBPWp3quy/s82t3QqHu6s83JplbeYc1+bHuTyWJxuPEGwN0B0OYLg9mI0uDKeJ4TSw2XVMh4Gwv7fFnbvr3N1d52ptmaWNebY35vjuUZX91Umqk4PcmBulOlFgYThNot1PNuRF1G1IDgeypqFoCqIsUWcVEXZrl9jcmOfi8jR9g2eJZHu4MD7Ck9ocE6U8K+UCBxvn+fjqBJvlDH3RZpoaHCgOg5Zkgkyhl87uNK5wF76uBMLu9QVqV+a4MFUi1p0jnM7QFo9TfL2PdDZOqdjD/eUhHlVKbI+n6O3wIaoamqnS3OKlWOqjt5AmGm+ncDqOsLZ4nsXZYcZGB+jMpGkIteMOthJNRPAH/eieRoq5GG/OFFgZ7sLlMJBs6klnVtGKokhouoyiiZimhlB5Y5Tl2RJXFscIdsXIn84SigQxvR6cPjd6g536JhcT/TFSYR91ooxiaMi6iqzIqLqMYSrYHSqqTUGYmhzk+vIYt5dGGDubpVzsYaQ3hsXhQG90orlMREPHamrIhg2rJGGVZSRFQlEVdEPFNBXq7Qoul4aQSHawUM7z3naZ97fOcXuhyPZ4BtOuYTUNJF3D8gqxyBIW0YrFYj1ZVdaUk4ROp4q3UcfdoCFMlPuZmTzD2tIIl2fPsDI7wNJokkCzE8tLTJR4zSKeXKLuJSiJ1L0CJVXGZqq4G234fXaafQ7+B871mHfcnTfsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;음...&apos; title=&apos;&apos; src=&apos;/static/08c8c3426264e11057fe959c06c79ed3/ca1dc/img_9.png&apos; srcset=&apos;/static/08c8c3426264e11057fe959c06c79ed3/e7570/img_9.png 170w,
/static/08c8c3426264e11057fe959c06c79ed3/f46e7/img_9.png 340w,
/static/08c8c3426264e11057fe959c06c79ed3/ca1dc/img_9.png 680w,
/static/08c8c3426264e11057fe959c06c79ed3/02d09/img_9.png 1020w,
/static/08c8c3426264e11057fe959c06c79ed3/89e0a/img_9.png 1355w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;음...&lt;/figcaption&gt;
  &lt;/figure&gt;
Amp 용으로 style 잡는게 좀 까다로웠다 ( sass 방식이 왜 안돼 ... 하나하나 분석하다가 이건 도저히 아니다 싶었다. )&lt;/p&gt;
&lt;p&gt;AMP는 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style amp-custom&gt;&lt;/code&gt; 단 하나만 허용&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;모든 사용자 정의 스타일은 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&gt;&lt;/code&gt; 안의 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;style amp-custom&gt;&lt;/code&gt; 안에 작성해야 함.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;style&gt;&lt;/code&gt; 태그가 두 개 이상 있으면 AMP 유효성 검사에서 실패. ( 별 ... )&lt;/li&gt;
&lt;li&gt;총 CSS 용량은 75KB 이하&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CSS 속성은 inline 스타일로 작성해야 함. ( CSS-in-JS 방식은 사용 불가 )&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;style amp-custom&gt;&lt;/code&gt; 내부 전체 CSS 크기 합이 75KB (75,000 bytes)를 넘으면 안 됨.&lt;/li&gt;
&lt;li&gt;초과 시 AMP validation 실패 → 페이지 노출 불가.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c306e2d8e1c77733995140f1c19e162e/11e78/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 59.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADFUlEQVR42l2Qy04bBwBFR1Fie8bYBr9mDGN77BnbzMQPwOBAHTABG2xqO5hXDIkNoUQJTaAq0BKCIppm0ypSJXZRFlVVdRcpVdVNpaqbbLrLD7T9llM1jVKpi6OzumdxheLEFQw1hNfpJBpSMONR9H4/RlghEpIxVT/disUnS1l25hMsjofpc/dQSIYoZqKEIjFULcVcKUvG1BEqtQqqHKRHFFEDfsxoiFTYT8jno5SJcHgjz2c3C2zVTNrTcdolDTXgppqPciUdRlajhHWT0/szNMs5hPL8LGEliP3iJYIeF3HFizHgozwU5mA1x1bV5PpkgoUJg+WrGpsVnaGYj/XpFMm4jE/pJ6YnESUXTpcHobZYR4tFqGU11osWBaOf6kiE7ZkoB8sWd2oJrmX6qY3F2W1a7LVM5kdUFj/QCQR78csymm5gs9kQHSLCYM7E4+3j/KMKvz/b5LQ1ysp4hPPdOX44/pCHG1n2l7LstzI83ixwtJZhOjdAyO9BlEQCikwqncHj6cXV40JQIxEu2EX26uP88e0DXj2q82Jvmj+/P+b1NzscrVk83R7jbKvA6a0RPl22GB2UuXDRhiQ58PR6iOhxYskEyoCKUJwqEk+lsDSFX5+u8cuXS/z0+Dp/fXfIm+d7HLfTnLTTfNHN83A9y24zQTEdwm534HSKiKKDgBLAGs4Q1XWEpKWTnygg9Xn5+naZN+e3+PHRAq+/6vLyZJkHDYvPb2Q56wxxuHaZew2DCSvIpfdBEbfbTXY0RyyhIximwUxxhNmcylHD5MVuiZ/Plvjt2Q7P9xvstTLcaZjcbw3ycWuQTkUjLLuxO0ScTgeS9G9US2r45QDC5HCM46UhnrSzHDYT3J0zeLKR56Rd4KiZozMZpTassDoVZrsWp3jZ+zbwz3//IeJ0SYhOCWFtsp/urMZONcG9usnd+iC3qwluzsTplHW6ZZ2Vosrq1AC1MT+yV8LmcPwv6EB8Z2G7nuZgJf92uF426JQNNkoaC3mFYa2P8aSXaxk/q1ejdGeTuF0SdrsNUbS/x/HOdtHO34hAhLjkl0Y9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;하아...&apos; title=&apos;&apos; src=&apos;/static/c306e2d8e1c77733995140f1c19e162e/ca1dc/img_10.png&apos; srcset=&apos;/static/c306e2d8e1c77733995140f1c19e162e/e7570/img_10.png 170w,
/static/c306e2d8e1c77733995140f1c19e162e/f46e7/img_10.png 340w,
/static/c306e2d8e1c77733995140f1c19e162e/ca1dc/img_10.png 680w,
/static/c306e2d8e1c77733995140f1c19e162e/02d09/img_10.png 1020w,
/static/c306e2d8e1c77733995140f1c19e162e/11e78/img_10.png 1027w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;하아...&lt;/figcaption&gt;
  &lt;/figure&gt;
미지원 CSS 속성/기능&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@import 사용 불가 ❌ &lt;/li&gt;
&lt;li&gt;!important 사용 불가 ❌&lt;/li&gt;
&lt;li&gt;position: fixed는 예외적으로 일부 AMP 컴포넌트에서만 허용 (ex. &lt;amp-sidebar&gt;)&lt;/li&gt;
&lt;li&gt;animation, keyframes는 제한적으로만 허용됨 &lt;/li&gt;
&lt;li&gt;filter, backdrop-filter, mix-blend-mode 등 일부 CSS 속성 사용 불가.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5e112f1525dfb7ed85e0e070ce6f55e9/6b02e/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADqElEQVR42kWR609TBxyGT7LE9pxeTk9baMulWISWMiyUSykFShkVWDCtQilULkpBoFAgQKcoEG9joG5cFAbqpnFblpjFuIVEsy9bsu3DMpn/w/6SZwFc9uHJ+3u/PMmbn7A1m+DF9V42h8PcvlDPYtzPWHs589FaxtsrcTksFORlkWM1kptt5Ey1g7A3l7LCLLLNCjkWM2UOKwaTGdloQni9meGnm/1sJJt5MNrC5kiQhS4vEZ+D/CwZm1mmINdIYZ6ZDn8R1/prme7y0BUsxGaSKbZnEwkUoVUU9IoB4Ydbl9ibaudWwsez+Qjrw02sJGpYGQgQcFtw5shUOMxcanVzdzTI/VSQqxcqSZ8royjXQK07j0avHZVOj84gI3y/1Mvz61HWhvysjzRSW2zFV5zN6kAjU1EPkdp8MrFyvkg1cvtykKt9PibOn2Y84sbtMNHZ4MLpsKIxyBhMCsKr1SH21/rZmQyxnKihuaoQq6KjwZXNtU4Pty/5ycS99LS4iIVdXDhTQup8OeNRF00eG601DmSDFr1RRjYqCD+uDvHn7jQvl+LspMNsTLYS89uZ7XDyNPUR62ONLA1UkjrrZuRjN/PxChYHqpiNl+EvtZClyIgaCdkko5gVhP17Sd49zfDzWpJHUy1sXA6w0u/lSTrE7niI7xY7eDBVz1fzIXZnmthI1fHZcDWZnjJKC018cEKFRi+hNWhRLEaEXx5O8O7ZJ/y+NcnzzFnuDdWwOepnbybMHzsT/Lo9wvpkgK3JAF/OBHmYDnDjopexiJNTdgWVKB4JJb2EbDYgHHw9x8HTDG8fzbJ/M843VzrYToVYG27gn1d3+G3nMlsTdawkfSz3VbA8WM5Mt5u+sB2bRYdK879QZ9AiHDyZ4a/HM/z9bIE3n/bx8kaM7XQzN5JBvl3s5vPxZmZjFWQSlcz1nGaux810dwntPhs6WULUS8eTD4WyBuFuupPX90d4+zjDmzsD7E23sdhXTbqrmlvJMFd665jv9TPQVkosVMB0vITBtgJO2mRU2mOZpDvOQ4Ri50mS0UZeLA2ym44QrXcyF/eSaCkk0V7JwlCYdHeAc/VOYk0FjEaLqPdkHX32UHSE9jCPpwvWPCv5BTnUe51UldjRyVpaKu1cDH9IU6kNf75Ca4mNdo+dULkNn8uEWdGgkkQkSUT8D62IqBER9AYNskGDpFGjFlVIGvEodVo1usMpkhqNpEISVajVJzihVqE6vCX1MeJ73vd/AWuq8D8G0VywAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;.....&apos; title=&apos;&apos; src=&apos;/static/5e112f1525dfb7ed85e0e070ce6f55e9/ca1dc/img_11.png&apos; srcset=&apos;/static/5e112f1525dfb7ed85e0e070ce6f55e9/e7570/img_11.png 170w,
/static/5e112f1525dfb7ed85e0e070ce6f55e9/f46e7/img_11.png 340w,
/static/5e112f1525dfb7ed85e0e070ce6f55e9/ca1dc/img_11.png 680w,
/static/5e112f1525dfb7ed85e0e070ce6f55e9/6b02e/img_11.png 911w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;.....&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;AMP 구성요소의 스타일링&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-img&gt;&lt;/code&gt;,&lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-carousel&gt;&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-sidebar&gt;&lt;/code&gt; 등 AMP 컴포넌트는 반드시 지정된 방식으로 스타일링해야 함.&lt;/li&gt;
&lt;li&gt;특히 layout=&quot;responsive&quot; 등 AMP layout 시스템에 맞는 설정 필수.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;.&lt;br&gt;
.&lt;br&gt;
.&lt;br&gt;
.&lt;br&gt;
.&lt;br&gt;
.&lt;br&gt;
.  &lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ef1d93f244a372070117cee019958deb/ca1dc/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 107.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFvElEQVR42h2UeUzUBxbHfxzD3MwMx8wIA3JJ0aG1DKPAFIcFlKuoHAUEtSAa0YAK7EqxqIgiiOCBEUQX1gOQFlgHpYDcoAVCPbJajSZbm02zcbWbmGz6x2Y3m3w2M39885L3x+e9930vT4gzGrF8FMoWs4kMs4mkyEjSzCZSzCZSzRHEha8hLWo9pqBAcqLWUfC7DcSGhBAdHExelJm8yLXkhIUS7WfAEhSIYDKaCVjhR4BvAObVRqymSPJio9mRGE92rIVcayz5SckczPuC5soyztVU0ZgSx3WDhLYgDZf8FWR8FII1OIi09esQkuOM5O//FD+NFjc3CRJ1AKFrotm3NYsMi4XshARKMjOp3Z7FhrBV6LV6dgf60KcWGNIIPPN2wioX4yaWkWheh3CkpID+jkpaD5ZSsXMHhbE+1BXH8HqmhyvNzSSaIrh+soa3U0MMXmyipaqcu4dLuZmTyofBbn4bu4Otp5eOrlvc7u5FOHOino7aenqu1zH6/RFu7dVRGyewcDGT/r4+Cnfu4v3yPD/buvnn3He8W57ml29uMDfwDYPjc4xMP2RmcpqJiVlGx6cRAnx8iYmI4tDudHrvl3KvzsxgiZofe0t4/uMr7o/NcudcA9f2FfDreD+/Ls/zdmSQDw/HefLgAYuz3/N4fomHk7MM3u5HWGuMIN5ipf1ME/t2FtN2vJonfe38fWGcn14+ZnjkHk+G7/Kqp42/dF/m9d1ung0P8I+pIf7zaI6JB8OcmrrFd48fsjT/ACEoJIKs5DTqv67hUF4W76YG+NejaX6bu8ObORuPH82wPDZGQ9F2GvO3sNVi5uiufP420s3b8T+z31aH4VwW69qLufTXEYTK4mLSNqZSWVHN1ZPHeXmrmZ/v3mT+jxdZam/m6Z2b/LQ4Q0/rJfKiI5FIFOSnbmCp/TST030kjR4l/EI+1tsHOfyqGyEhOZ/gT9P5sqiUtrPNDLcc53n7UZYv1vGy4wL36ms4caCUk3Vn0XkaCEuzsv9sOX+qLqfkfiNW2++J/7aCbVONVD6/jqALjiHE+AVRcVl0/qGS5fYGFhoreXO1juEzNdTtKUQpV+Kp9UOvCyK8IoPTL3o5sdDFprEasidPsXn0GBkjteyca0GQagKxxqdz+sRpzKZYqnM38+1Xexmo2sVUYyXPbraS9FkMgiAgkciRuXuQ1VnFtqVm8icaSRs9xqqGTNaeLyBloArB2U2FOTqRnLx9BIfHkRATy9OuZq6UF3OqMIui1AQ83N2RSJUoVRqcBSc8N66h7IcOXrx5Q3znAQy1qRjrsymcaUYIWBVKbHwO1o3biIxKxTdoLbkpKSx2NNJZVYLeU+Pozk0sxV2tQyaW47M7lpKlNoaezJNu+5qAk+mENmSzY74FYXtZPhHmdFZ/YmGFIRTflWFo9MGEh31MyMoARCIJMpk7Lq6uyBQapAo1wUdS+XziOBE39mA4n8Wa+kySzxXxue0IQs6WFKQKLTKFGrHdI5kCb50/Xjp/ZAoVGg8dbmI5Lq4i5HINIqWSqMbtHJ6/St7QKWIufMlifyf9PecpXryEsMkSj4tYgbc+ELnCw+GVfTz7vUllStxVXo4vZAfaC4okUjKaytg72ELZlRpej/Ty6kYHTZePcfX9LIJxfbLDG4XSDlMgkcqRSGWI7K9Maoe6IxbLcHZ2wUlwQuTmxpamA+y4XMnTgS4+TNpY6Gqlur2aa+/nEFRewai9VyKTq5DKFI7TsEskEiN2dCrD1dUNZ2dnx3KkPioM5UnsqSji3bSNX2aH2ZxoIfdaNQP/fYYQYkpEqf8EiUSJSCxzLMEuV5EYFxeRA2YHCU6CI7q4y9D4G7BExXPl2GG2bvoMQSSQ23oI2/9eIOSUFxAYtgE//0C0Ol+8tXqHtDofvLUr8PTSolarUalUjrxeZ0CnNeDhpcXD4IlqtR5l3ErybnzF0L+f83/93mRCu/rGZgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;이게 맞아.&apos; title=&apos;&apos; src=&apos;/static/ef1d93f244a372070117cee019958deb/ca1dc/img_8.png&apos; srcset=&apos;/static/ef1d93f244a372070117cee019958deb/e7570/img_8.png 170w,
/static/ef1d93f244a372070117cee019958deb/f46e7/img_8.png 340w,
/static/ef1d93f244a372070117cee019958deb/ca1dc/img_8.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;이게 맞아.&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;대망의 1차 배포 이후&lt;/h2&gt;
&lt;p&gt;검색 색인과 AMP 페이지 1차 반영 이후 구글 유입이 조금씩이나만 바로 잡혀가는 모습이 너무 보기 좋다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1a42130ea77c5cf2baf51cc20188af56/3e86e/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 88.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAADKklEQVR42p2UTW8jRRCG/ROTC0Isu+GyKxGuwIp/wD/ggsRhpeUAh02EAGVXGxErAQJOFMJuPOM4Tjwm9ni+eno+PJ6Z9oO6x84Hggstvaruquq3qrq7ujWfz9EoioLVvCxLqqoycl4UxrbCykekCb7vM45CRlHASIR4iaSVJAkaWZYhk4Q0TXHdCVeOw3gyIc0yA23XNuOfJmRpRp7nRqdt19fXeJ5HSy+mrst4PCZNE2azGcPBFaOLAbHvkwQB08mY0djBdV2yPCOOYq48h+7Qxpt4hth1p3h+QEsTXPT7/N7p4Fy7pFnO5VmP4ekpyWiEdBymgwHOyMGdTAyhFJJLb8jZ0EKEwmQYhhFxLJsMdRkyjgkiiUxSZoFLEIZkRUFWzJBpiu95pgpTspSIOCUIY7KsKVlKaWSLO2OxWDTyVtHgP8Zdv9Xe1g2JUS73Lx3U0pbIhL29PdrtNru7uziOY/Tq3t47hEopVrJeQqkFqlbGybJt3nnvXR492mBtbY3t7W2jL6vKZCnznDBJGsKqLlmw+NeClKrMzD63ePLkMR9tbvL+gwe83HnZZKiagF33kqNhtyH8+uSAH60OO28O+e5kn2e/vuL11Rkvuh2enxzw6uJPvvxhi40PHvNw4yHr6+t8/tUXbF0c882bA57/0WbLOmJn8BY/k7TaZ9e0j3v8/Msph50ue0cWP70Zsv92xMHZhKOLKd+/PuTjTz7j06dP2dz8kGffbnH8V8CBPWTfGvKb7dHpC5J8RkvVFXVdLQ9X3Rzu/xl6byuIQvP2dO+6no9Mc+ZVxWxeUpS30BegoW2VvkR9hktUakFZV1R1TauoCtRCUc1L/H4fz7bxeudMbQu/18PvneN2Laa2jWt1mVoWxXiM8n3qJeaTMWF/gNcb3L7DqioJPI9Qw/cbeD4iCImCgMj3b2SR5yj9ZOraQJUloZBMvfAuYUUYhkQiNm0k4pgoEkRCNHMREUtJkqQkaXqvq6pakeUJIhb3M4zjhkzLf0KI5hNYNYBpAp3hYmGk7mkd6F6GURSZP1FHMvNYmgB3g2hisxYxsRBNl6kF+TxnNp/xN1UJRl3gh6GKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;어서오세요 :)&apos; title=&apos;&apos; src=&apos;/static/1a42130ea77c5cf2baf51cc20188af56/ca1dc/img_4.png&apos; srcset=&apos;/static/1a42130ea77c5cf2baf51cc20188af56/e7570/img_4.png 170w,
/static/1a42130ea77c5cf2baf51cc20188af56/f46e7/img_4.png 340w,
/static/1a42130ea77c5cf2baf51cc20188af56/ca1dc/img_4.png 680w,
/static/1a42130ea77c5cf2baf51cc20188af56/02d09/img_4.png 1020w,
/static/1a42130ea77c5cf2baf51cc20188af56/3e86e/img_4.png 1062w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;어서오세요 :)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/bc8f198356d8e141d2b27b481b73551b/926ba/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 43.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCElEQVR42o2Qz0tUcRTF3x/gul30YxPUQtoELVpEEbQwiEjGgnAmQaKsRYuo0EgkSoiKQbLGWuRsJCOyCCLRsdFJc0YxxxgbGX81/mCc8c28efN+ft8n3mjloqADh3u5cM8590qZaIzVwTCZoSF+fI7wbibG25kYb5JReucmkVUNVbNQNJPif1BKeaqYOXmU+cMHCFcdZPcLHzuCdVQEqtnXdYl1o4gLx3H4DbcXYqNunQNS6tQxUjVVzB3aT+hIJduenWF7p4+KwGl2dtaR05W/C/4D0tK9ZtJ3msjevc33hy34+v3Uhvyc63vEzS9BVEv/I/hLaCUNX0dwUglEZhlni4mkaBq6ZYEjwNDBMMC0wDRB1zdnm9yEUBXE8iLkslDII2wL29DLppKmqgjXYD6JM/AekYwjhvsQUzHESD/Ot3FEYgKxtFBOIsr/c0A3yeRWmF2dxVFLoBnllJJlmhvnWCYUi9hKHlPOYhZk7IKMyMvltK6YS6tUYjAdZ1xJc6K3lb3dV/B+auNipINpOY1kWhZaSSG3tkS2kMUW9sbPcLBsG8M2GVucYnIhDrbNh0SYlhvVBK7VcLz9PJUdtex5cpZd7R4i6TiSu/wqMcD10FMaw895EOsmOPWxzPvRl7SOduHpacb7upnHEz34gy2s13tZu+AjdbWescYGRpsuM3yrATk1zU92QnIFgVSinAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;google search console&apos; title=&apos;&apos; src=&apos;/static/bc8f198356d8e141d2b27b481b73551b/ca1dc/img_2.png&apos; srcset=&apos;/static/bc8f198356d8e141d2b27b481b73551b/e7570/img_2.png 170w,
/static/bc8f198356d8e141d2b27b481b73551b/f46e7/img_2.png 340w,
/static/bc8f198356d8e141d2b27b481b73551b/ca1dc/img_2.png 680w,
/static/bc8f198356d8e141d2b27b481b73551b/926ba/img_2.png 918w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;google search console&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;구글 Search Console 에서 AMP 메뉴를 확인하니, 저 빨간건 ... amp validator 에서 검증이 안된다는 뜻이다.&lt;br&gt;
아니 유효하지 않은 페이지가 17만 이라고 ...??? 뭐때문인지 ....&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b108428a3e21a2c5326ed17bbbe04178/6d612/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 78.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB70lEQVR42o2U6Y7bMAyE/f6vWGyLHpvLcXzolihNMbQdePMjWAGE5EOfhkPaXfz1gXDvcRsGPB4PjOOI+/2OaZo0Ukr41mgNuQi69PED4XbFME6YxlGBjB1urf0WtFZBTBmdtIb29uCmsW6qCCFARPS6lHJ4JihUGENEilFV5JyfEWPUDTuUI8SI4fFAyXkF5gRJSQWlFFeF1rovKdK3o4+E78DJGPz8/Qc5rxaI9xBrde2cg/cRnfNeAfM8PwvhvdfU+BKV78DFOvz9PD0V1pI1OJhRCAldCBHGGDWfQQi9evWRw1iPz/MFslkhMUJC0DUPViDJhOxAGk4AocfgsM7jfLlBZAXWGFE3IPfFmNA559U/BtPu+x7DMGjQR848UFM2FqfLVd/LpSiQPlI/VQcCrXP6An08QngA1zuMYzYW/05nzCzWK1A2IBXuwF3lXiTOxyovdlW4bApbzqgpbkBZgT4ELMvy9PG1IMeiWO9x7Xs4R68rGqu8tVCrFSlndNPWLkeVnHkI7/OaM5vc+YDL9QZjFhQR1BggwX8FGmO1bZgaZXMj533N+/snxpSmedGe026QgrY9a61uP4eUVN3+mb0bxlrc+jvsQoUFJQRkLcoGzAVdqevPQWp7G0Wq9hk3MV1eUzHvcS21ImbBf2oY4HmsEWuaAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;안되는 이유가 있지..&apos; title=&apos;&apos; src=&apos;/static/b108428a3e21a2c5326ed17bbbe04178/ca1dc/img_5.png&apos; srcset=&apos;/static/b108428a3e21a2c5326ed17bbbe04178/e7570/img_5.png 170w,
/static/b108428a3e21a2c5326ed17bbbe04178/f46e7/img_5.png 340w,
/static/b108428a3e21a2c5326ed17bbbe04178/ca1dc/img_5.png 680w,
/static/b108428a3e21a2c5326ed17bbbe04178/6d612/img_5.png 936w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;안되는 이유가 있지..&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;오 이런 ㅠㅠ 누락된 허용하지 않은 태그, 미디어 속성의 태그에 src 가 https 가 아닌 http 가 존재하거나,&lt;br&gt;
&amp;#x3C;기사이름&gt; 이런식의 태그가 아닌데 태그라고 오 인식하는 문제가 있었다.  &lt;/p&gt;
&lt;p&gt;( 이미지 혹은 뷰어 용 태그에 src 는 https 가 아니라 http 로 되어있는 부분은 server 에서 처리가 필요 ) &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;이걸 어떻게 표준화 할까 ...?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;🤔 라이브러리를 안 쓰고 처리 할 수 없었을까 ?&lt;/h2&gt;
&lt;p&gt;DOMParser 를 쓸 수 없었다.
브라우저 런타임에서만 동작하는 Web API 이고, Next.js의 서버 사이드 코드(SSR), 즉 Node.js 환경에서는 사용할 수 없다.&lt;/p&gt;
&lt;p&gt;기사 본문은 &lt;strong&gt;서버 사이드 데이터 페칭&lt;/strong&gt; 시점에 가져온다. 그래서 amp guide 에 맞는 dom 으로 변환하는 util 함수 내에,&lt;br&gt;
기사 본문을 amp guide 에 맞는 정규식으로 치환하거나 제거하는 방식으로 진행했더니 너무 위험했다.  &lt;/p&gt;
&lt;p&gt;(기사 본문 내용이 틀어지거나, inline Style 이 깨지거나 ... 보여야 할 내용이 일부분 사라지거나 ...)&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;작업 예시&lt;/th&gt;
&lt;th&gt;라이브러리 없이 가능?&lt;/th&gt;
&lt;th&gt;설명&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;img&gt;&lt;/code&gt; → &lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-img&gt;&lt;/code&gt; 변환&lt;/td&gt;
&lt;td&gt;🔴 어려움&lt;/td&gt;
&lt;td&gt;HTML 구조 파싱이 필요, 정규식으론 불안정&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;iframe&gt;&lt;/code&gt; → &lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-iframe&gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;🔴 어려움&lt;/td&gt;
&lt;td&gt;조건 분기 및 속성 매핑 복잡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;onClick&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;onMouseOver&lt;/code&gt; 속성 제거&lt;/td&gt;
&lt;td&gt;🔶 가능하지만 복잡&lt;/td&gt;
&lt;td&gt;수백 개 태그 모두 순회해야 함&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;불필요한 태그 제거 (&lt;code class=&quot;language-text&quot;&gt;&amp;lt;font&gt;&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;&amp;lt;map&gt;&lt;/code&gt;)&lt;/td&gt;
&lt;td&gt;🔶 가능하지만 비효율&lt;/td&gt;
&lt;td&gt;정규식 + 수작업으로 불안정&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;최종 HTML 문자열로 재조립&lt;/td&gt;
&lt;td&gt;🔴 위험&lt;/td&gt;
&lt;td&gt;구조 깨질 확률 높음&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;이 과정에서 여러 라이브러리를 도입했는데, 목표는 다음과 같았다.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HTML 태그를 파싱해서 변형하거나 제거하는 작업이 필요하다.&lt;/li&gt;
&lt;li&gt;따라서, DOM을 조작할 수 있는 라이브러리가 필요하다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 231px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ce2b1f04f112de4b5b288f7f7b63f39c/1fdc3/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 165.8823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIIklEQVR42q2WWUyc1xmGf4Z9GWZgdvgZZmDYt2Hfhn0yMAswM5gJ+wBmMTtmsY2NTWIbgm2CbXCC7eAlcWLsunbaJHbtLqrSpmnVVonaXCRV7yL1qpWSm14/lUlaRY3Uq14cne/Vd95Xn46OdB5BIggI/68VICD8d2BAQABhYWFIAiT7dbBEQogkkFBJICESCRH7WkJQQCBBEsn3vP8J3BeCgEarZWBggPTMTAIFgd7IaJxh4bSEhpMbHIY3PBJPeATVoWFkB4d84/3uUCFBgQRKJARKAvYbaqWSmqpqCouL0MrktIeFYQ2PID8snOSQUJzhkbgiIil/rkNDEYJDCAwJRRIcTER0FEJdTjp5iXriZHIKTUmYDQYMSiUGpQqTLg6lVIY8QopSFoNOHosYq0ItU5Co0pGijSOvrAaDtweVo51T17YQbOYMSpKSSNFoKU4yUmEyUZuTTW68ngxdPGZDEkalBnWkDINCRbo2HkOMCkOsBpNCg7nEgql/iqSeEX7w6UcIVWkmKlJTyI6LpzLNhCU9jbrsbIoTjdgysjjT2cFyuxdrRhZJsWqyRT0mlRZ9rBpRKicjpxDjwCy5w2N8+LcvEAoT9ZQYk6hITaXQYKD4eZ1koi4llSWvk89u7/CrV89ypb8ba3o2Zr2RjDiRJJUGQ4yS5JRMEkcWyByd4e0v/4qQJ8ZTaDCSm5BArqgnJ06kUJ+ILTOLo61NfHztEr84f5p7M8MctlspSDCSphER5QoMMQpMadkkTC5hnFhk/Q+/QUhSxpKs0WDSaEnR6EhWacmJS8CRncektY69xSk+2d3mg+UZNvy+/cDEWDXaaBlxUVIMmbkkTJ8gdeoI7/z2GYIojyZRqUKUx2JQqTEq1GRqdbhyshmsLOPB0Un+vHuJvZlhxhtqKBCNJCt1KKNkaMLCEXPM6OZPkzm/zId//xJBlMn2n4xW+nyPQRctxxwv0pqXw4HiAtb6erg9O8W5bh++olLKk9NIVGgwqrXoZHJE1wE0x9bJOnGWva++RtBKpWiio9FEydDHKMiOF2nKy6M+K4uqjCzsBWVYUrPottQwarVTkZJFc0kp0y2NWMqK0MycQrO0TubqRV77+p8I2igpOlnM/nTOgnyWfG7mvC5GbFbmPW7GnS4cuflM25tY7+6gs8JCS0k5LnMOfe1uxOPnUS29Qta5Kxz76h8I7sJ8EmRyUtUaFr0OtkY6Oe9vZ8r5Av11tbQUljJSV8fueB/vn5xjvbeDhWYbK202To4fRP/SJopj58g8t03PF58hDFaU0ZBmIj9B5KjXwcUhH7em/Nyc7OfyUA+XD/bxYGmavblBfn7mGHcmx3hnfpgH84OsTgyQ8PImqpcvYTyyQl53D8JweTlL7iZcuRkcslWz7vdydayb+4ujvL+ywOMzS7yzMMHdw8P8eu0k92bnONvdwp2JF5kZH0B3dgvd+g6qgzNES5UIax1uNno9LLqtTDtrWHnRyfIBB5uDPnbGDnLU3cr4C1a2R/q4OjLAWlcX485qFpvL8Az70Vx4A+35N8iYOUZcXALCsxtXGLXV0l9XykmfjeUDdmZdVsYb6/DX1LDobmXe3Yq7tJxGcyEHKipY7Xcz5yrAPjOG+vKbSNd2WH/2ATZLGcLnv3zCpVNL2AsymGupYdZVz6LHwVBDNaO2ejaG+tgc9rPgaWWg3sYhexOnelys9tRSduo0qq07RG/e4NR771JZkIfw2dMf8enTH/P6yhFGraUMWSsZa6pnzmPndHcbI7Z66nPMtDc00m23U5WRyURjKYvDHsQLO6gu3kRz/T7xQzPIpTEIv3/vPn969h6fPH2XcVcNHZWF9NdWMOmwcsTrYsphp7e0kkP1TQxV1tNXXs4rvY04psZQXHwT7aWbaHYfoOgaJipcivDHp4/43eNHrEyNMNtaj688jy5LEcMv1DLb4mCls41lbzMTVXX0FxRz3NvEmt9Bev8oqu23UG/dQr37Q5RtfqShUoTPP/op6yePY4iV81KXg+7qIpzmNHyVJUy6m7k43MPWSC8TLU1Mt9rYPexnyF5FjFpEXD6P6vYjVHc/QOHpJiokCuEvH/2M9uZmckQdFwbcjNkt2HPTsSQl0pSfw3xbMxuH+jk30sfaYCcnOlswxccRGxWDLiEFsdFLwtwKqlo7UWFShI/fvUdpbh6iLIYph4UlbwNjbicHvV6aqypxVVvocNpptlTQ6bBTX2khJTkFfbyeeIWWmKAIVBFydAotaqUW4cpLy2SkpFFsLsRnq2N5sIsjg31Md3cy3OziYFsbfl8bXnsjHd4DOJoctDibsTc2UVFaQZWlhpKiUkStiFahRajML6DV1cLGxgZXd3a4t7fH9e0txr0e+hvqWTtxgls3drl+9SqvX3mN40ePcWnzIrdv3eLy5cvcufMWq6ur5GXnoZKrEAxaHb52H9vb2+xev87jJ4+5v3eXE7OzTPv72bpwnic/ecKtGzfZ3trizOnT3Ni9waNHj7h2/RoPHz7k1c1XKcovQiVTIqQbTZQXFdPscGKz2vD3+ent6sHrcDDU4mGxu5ezs7O0NtopLiqhylJFa0srHreXyorK/StoqK3HqDeiiVUjxMpiiJVGEx0RSaAkcB9HJBLJPiyZdPHYCotpyC9A1GiRSqMJCgr6lmMC9nno+bnw4FCiwiOJioh8TmDfRzLJt1TVZLdzeGGBVo8Hn89HX18foiju9ySSgG/wLeC73n36CvgeQf2bxAwGAwnP/+vcXPR6PWazmcTExP/BhwH8C5Ghk6QY/aavAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;어렵구만 ... &apos; title=&apos;&apos; src=&apos;/static/ce2b1f04f112de4b5b288f7f7b63f39c/1fdc3/img_6.png&apos; srcset=&apos;/static/ce2b1f04f112de4b5b288f7f7b63f39c/e7570/img_6.png 170w,
/static/ce2b1f04f112de4b5b288f7f7b63f39c/1fdc3/img_6.png 231w&apos; sizes=&apos;(max-width: 231px) 100vw, 231px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;어렵구만 ... &lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;🧩 라이브러리 도입 결정&lt;/h2&gt;
&lt;p&gt;✅ cheerio — DOM 파싱의 사실상 업계 표준 &lt;/p&gt;
&lt;p&gt;AMP 변환의 핵심은 Google GuideLine 에 허용되지 않는 HTML 태그를 파싱해서 변형하거나 제거하는 작업이 필연적인데,&lt;br&gt;
이때 cheerio는 서버 사이드에서 jQuery처럼 HTML을 다룰 수 있는 경량 라이브러리로, 아래 작업들을 편하게 처리할 수 있었다.&lt;/p&gt;
&lt;p&gt;사용법은 아래 예시 로.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; $ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cheerio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;html&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.writer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 불필요한 요소 제거&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;img&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    &lt;span class=&quot;token comment&quot;&gt;// 이미지 태그 변환&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;📌 대안은?&lt;br&gt;
jsdom도 있었지만, 성능과 문법의 직관성에서 cheerio가 더 낫다고 판단.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;( 훨씬 무겁고, DOM 구현이 브라우저 수준이지만, cheerio보다 느림 )&lt;br&gt;
단순한 조작에는 cheerio가 가장 적합하다.  &lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;✅ isTag (from domhandler) — 안정성 있는 노드 필터링  &lt;/p&gt;
&lt;p&gt;모든 DOM 노드가 태그는 아니기 때문에, cheerio(&quot;*&quot;).each(...) 루프를 돌릴 때는 노드 타입 검사를 해줘야 한다.&lt;br&gt;
이때 isTag()를 사용하면 안정적으로 태그 여부를 확인할 수 있다.  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isTag&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 태그일 때만 속성 제거&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;⚠️ image-size + fetch  &lt;/p&gt;
&lt;p&gt;별도 설치가 필요했던 라이브러리는 아니지만 안정성과 성능 사이의 고민이 존재했다.  &lt;/p&gt;
&lt;p&gt;AMP에서는 &lt;amp-img&gt;에 반드시 width와 height가 있어야 한다.&lt;br&gt;
그런데 컨텐츠에 이 정보가 누락된 경우도 있어서, 서버에서 이미지를 직접 fetch하고 image-size로 크기를 추출할 필요가 있었다.  &lt;/p&gt;
&lt;p&gt;img 태그에 크기를 알 수 없는 경우 별도로 호출하기로 하였다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; buffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arrayBuffer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;imageSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;buffer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 방식은 어떤 이미지든 깨지지 않게 하려는 의도는 있으나, 단점도 존재한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SSR 성능 저하 가능성 (네트워크 fetch + 버퍼 파싱)&lt;/li&gt;
&lt;li&gt;
&lt;h2&gt;이미지 수가 많아질수록 병목 현상 발생&lt;/h2&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;보정한 amp 디테일 배포는 연휴 끝나고 진행 ㄱㄱ&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 494px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8477e44d140a1627fb286173cf623b54/7f4de/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 54.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAADB0lEQVR42iWS/0/UdRzH3597fz7v+3zuc3w74e7mcYF4gkB3nYgcBzJ0gKCct/SAwCkegiZTyVUUVDI8bYgyCi1qTpm6OaetNmc/6A/VdNpatjaby9YPbVrrF7ZWc2u2tT0a1z/weD6ez9dL5LkllkuhPF6kKxdDV9TUV1MY8COE4Lmgn/KqMnTbRrdMXAEfoY2NVCZaWfZCmJxwlFjXVjraa5GGQvgKdExloAmJrlsI4SBYGqCkvBTd0AkGCnG7DDY3V7OvN0ax38byBwi2baKorh6R5yEcXs5IXxjbciFKfQYu00BIJ1IaSKFwGi4sdw7eQjeh0gK6W0JcO9XNuclOKktyyC8rIz7UTySVRCgnG2q8bGkIIIREVBWrrIFwGDh0B9KxBHWiSxOVY/F8tZ/To61cnEzwek81kRIbb2Q169LbWJVoQdkm/ckKVhbnZScSoeUKUymEppBSZoGGbqIJDSt/Gc3tjcyNJ5ge3cbYzjrq1wSJbGoi1BRj9bpyulpCJNavyNpJQyKifoVtKDRtyWoJ7s4m1ayNcvvuLX5f/Jn5uRHG9reTTq4hFq9kaiLN/MkDzBwdoDNeTH6ehaZJdGUiNhZJiiwnUrdRysrCvF4f97/7BviTv/7+hauffcgbh5J0bY6ytnYVwy/FOTXcxPGJfqRlYrkVUldIl4VoKNDwGdr//YUgHm/gx58e8i/P+HXxEb8tPuL6l1cYermL9togbesrGBvfzeFUmMF0K5FYFENpSKnQLSciYus0VlWQ2t7JhQtnefbPU/54+oTrX1xk9uwR7v1wi4VPzrD/YA/NKy0GdjQxd+UM+3ZtYGCwg+TOJJoQ6NLIvpm49/k0jx/e4MH3X3P/2zt8decmJ2ameG30ABOZV/hoYZ7Mu+8wPT3J3p42jrx9kEs3LzM+MUR3qp63Zt7EU5ifbbd0VHHj02PMvzfM8Kt7SaV7uXopw8LHx9m9q4+Rw72Mj+1havYYJ97PMJjewtz5WTIfHGXPoV62b62jbzBJ84sdOHJzsTwe/gM3poVEwo9NWgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;그래 까보자.&apos; title=&apos;&apos; src=&apos;/static/8477e44d140a1627fb286173cf623b54/7f4de/img_7.png&apos; srcset=&apos;/static/8477e44d140a1627fb286173cf623b54/e7570/img_7.png 170w,
/static/8477e44d140a1627fb286173cf623b54/f46e7/img_7.png 340w,
/static/8477e44d140a1627fb286173cf623b54/7f4de/img_7.png 494w&apos; sizes=&apos;(max-width: 494px) 100vw, 494px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;그래 까보자.&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;마무리&lt;/h2&gt;
&lt;p&gt;AMP 페이지 는 성능과 사용자 경험을 고려할 때 여전히 유용한 기술이다.&lt;br&gt;
정리하면 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Next.js에서 지원하는 기능이지만, 제약이 많아 사용하기 어려운 경우가 많다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Guide 에 맞는 HTML 태그를 파싱하고 변형하는 정교한 작업이 필요하다. ( 물론 트레이드 오프는 있다. )&lt;/li&gt;
&lt;li&gt;이때 cheerio와 isTag를 사용하면 안정적으로 작업할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;성능과 사용자 경험을 고려할 때 여전히 유용한 기술이다. ( 도메인 특성에 맞게 사용함이 핵심. )&lt;/li&gt;
&lt;li&gt;제약을 잘 이해하고, 필요한 라이브러리를 적절히 활용해야 한다.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[🗞️ 한 달간의 뉴스 사이트 프론트 성능 최적화✨]]></title><description><![CDATA[들어가며 현재 한 언론사에서 뉴스 웹사이트 운영과 성능 최적화를 진행하고 있다.   뉴스 기사의 검색 노출 최적화는 단순한 트래픽을 넘어 광고 수익과 직결된다. 요즘 대부분의 사용자는 뉴스를 포털보다는 검색을 통해 소비하며,
특히 모바일 사용자의 7…]]></description><link>https://hyungkishin.github.io/phase1/</link><guid isPermaLink="false">https://hyungkishin.github.io/phase1/</guid><pubDate>Thu, 17 Apr 2025 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 609px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/867c15d6bfc3e5df719c65d8a322adb5/71467/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAADaklEQVR42h3KWUwbBACA4b6iPhjN3MPIcEPxgmmYbBLbQbnHsZajQFtaSi9KLwqUcS2Mw3GWURcrRBjHGKVAC0qHAzaOhJktOl006HAQfHGJusWBy4xm0d/E7/kTZCcryU1VUZippyDTgDRFS7pYTbpYgzStFKuhlbazbkaHLrG1vcXu3u/c/3mHx3/8xr//POHp08f8/dcufz55yN7uLwiyE3KRpRSSn6qkWKrHUuSgpqyBMpUTS3EtZarTlBZXo1Nb6Pd8wqNHv7Lz0z1841Osry5z5843bG3/yIOH99nde4DAKNdjKDRgkBtQSoqRJOZjKDAhTZQjz9BSb2tEL7di0Vr4qNfN7ds32d7ZZNYfYH3tOitLV7l2dZ5bt27ww+YGAqepkqaqOmrM1dTZa2lw1FNRVo1BZcWisdHa0EJRnp6jb75PT0cbN2+sMD3pZWHez1JwmoB3FL/vEsG5AItLCwjU0gIsCiW6HDk2lQ5HiYkqo4UzFdX0tndwweXiXFMrCmkB/b09jA0NMNDnYWL0IsP9HlwfNFNpNlNld1BfdwaBuUiNRipDLyvEKFdgLipCm5vPkcOROMsr+PhCL+7uTtqbzuK0OzDpDHyxvsyVT/10NjXiMBqxGU2UW8r5sNeNQCfNIVeUhDFPRq1Rj0OjITvpJAf3h3MwNJISZQmnrTbcrm7amhqptVsxKhSkxIrIEJ6gUqfG09XCcJ+bAc95BIdeCiXs+f3UV1RxfWmR2ZkAweAcswE/k5M+fBNefN5x1laXubb4OQH/FOOXx5iZmfn/zAc/4/JgHxc95xnscyN4bd8+DoQ8g8VkprTMjMVq48uvv8JqtzPln+b7ze9oam6my9XD3Xt3GZ/wsry2wrcbGxQq1HgnJzGVaImPPkqaUIgg9lAYB0JCcBgNnOvooK29nbkrQVqamxkZGWF1bZnO7m4Gh4ZYWVvFNz3N/MICgdlZurpdDI+OkRMXR9hzz5IVE4Xg8AsvcuLlUHLffRtDZgr54jgUCXHUKHPQpCYjT05CK5FQIslGk3WKSnk+hswMsoUidOknKRCLSY2MQiWKJSsmGoEsKgLZkVcpPvYWWW+EkxUZgVF8nJTXI4gPfwVp9DvkHYtBFSdCkxCP81QqjvQEVML30AiPUy9NojJTjDlRhFOSxn99/0dTlQelNQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;이미지 출처 - 한국일보&apos; title=&apos;&apos; src=&apos;/static/867c15d6bfc3e5df719c65d8a322adb5/71467/img.png&apos; srcset=&apos;/static/867c15d6bfc3e5df719c65d8a322adb5/e7570/img.png 170w,
/static/867c15d6bfc3e5df719c65d8a322adb5/f46e7/img.png 340w,
/static/867c15d6bfc3e5df719c65d8a322adb5/71467/img.png 609w&apos; sizes=&apos;(max-width: 609px) 100vw, 609px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;이미지 출처 - 한국일보&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;들어가며&lt;/h2&gt;
&lt;p&gt;현재 한 언론사에서 뉴스 웹사이트 운영과 성능 최적화를 진행하고 있다.  &lt;/p&gt;
&lt;p&gt;뉴스 기사의 &lt;strong&gt;검색 노출 최적화&lt;/strong&gt;는 단순한 트래픽을 넘어 &lt;strong&gt;광고 수익&lt;/strong&gt;과 직결된다.&lt;/p&gt;
&lt;p&gt;요즘 대부분의 사용자는 뉴스를 포털보다는 검색을 통해 소비하며,
특히 모바일 사용자의 70% 이상은 검색 결과 상단에서만 기사를 클릭한다.&lt;/p&gt;
&lt;p&gt;아래로는 거의 내려가지 않기 때문에, 검색 결과 2페이지에 있는 기사는 사실상 묻힌다고 봐도 된다.&lt;/p&gt;
&lt;p&gt;수많은 뉴스 매체들이 같은 이슈를 거의 동시에 다루는 상황에서 검색 결과에 잘 노출되기 위해서는, &lt;strong&gt;&apos;누가 먼저, 더 빠르게, 더 안정적으로 노출되느냐&apos;&lt;/strong&gt; 가 실시간 트래픽의 성패를 가른다.&lt;/p&gt;
&lt;p&gt;웹사이트의 &quot;속도&quot;가 빠르고 사용자 경험이 좋아야 한다.&lt;/p&gt;
&lt;p&gt;구글은 이를 수치화해서 측정할 수 있도록 ‘Core Web Vitals’라는 성능 지표를 제공하고 있다.
그리고 이 지표는 페이지의 노출, 유저의 이탈률, 나아가 수익성과도 직접적인 연관이 있다.&lt;/p&gt;
&lt;p&gt;어찌 보면 당연한 이야기처럼 들릴 수 있다.&lt;br&gt;
기사를 작성해 발행하면 포털이나 구글 검색에 &lt;em&gt;잘 뜨는 것 이 기본이니까&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 346px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/bda05f16dbcbd714d673518c3d4e6228/44e6f/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 45.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABS0lEQVR42qWSS4+CMBSF/fUujC/UCTAMUMpjeluKCAEniuLG33UmNMSMi3EWszg57W375T46kVLilYgIWZYZ/XV30OTVoRACdV2j73t0XWfg/wa2xyNutxvu9/sjYyIJGtdDTCn1DFRET5KjSAgcyhJ9f0VVHeA4DpI4RhD4iBgD5xy+/4EkSZ6Bn7l+SOQaNLpQOfKixNepQ0YSb7aDIIwQhAyMcUQ8BucJhBiyzCElYTI8cpoznOYEuznBa86I2gtYe0HUXpHWZ/hUwaMDvCRHShWoaI3zzz2oOKJsrtD7CkRi7OGPMpWSKLSG1hr7QiPm3JQ4aLvdIgwDxHGM9XqNxWJhYu+uizRNTS8nv30VKRUYY7AsC6vVygCWy6XZbzYb4/P53EBt23708eWUgyAwUNd1sdvtYI2gATCbzTCdTs2gPM9DFEUG+A06YhLXCFJlSQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;잘..부탁드립니다요&apos; title=&apos;&apos; src=&apos;/static/bda05f16dbcbd714d673518c3d4e6228/44e6f/img_1.png&apos; srcset=&apos;/static/bda05f16dbcbd714d673518c3d4e6228/e7570/img_1.png 170w,
/static/bda05f16dbcbd714d673518c3d4e6228/f46e7/img_1.png 340w,
/static/bda05f16dbcbd714d673518c3d4e6228/44e6f/img_1.png 346w&apos; sizes=&apos;(max-width: 346px) 100vw, 346px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;잘..부탁드립니다요&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt; 아 물론, 내가 기본이라고 말했던 오만함의 &lt;strong&gt;잘&lt;/strong&gt; 의 조건은 다음과 같다.&lt;/p&gt;
&lt;h2&gt;🔧 검색 노출을 위한 기술 요소 그리고 해야할 것들&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;항목&lt;/th&gt;
&lt;th&gt;설명&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Core Web Vitals&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;구글이 정한 &apos;웹사이트 건강검진 3종 세트 (LCP, CLS, INP)&apos;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;AMP 지원&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;모바일 최적화를 위한 프레임워크. 초고속 로딩으로 이탈률을 낮춰준다&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;구조화 메타태그&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;SNS 공유 시 미리보기 제공 + 검색 결과에 부가 정보 표시 가능&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;반응형 이미지 최적화&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;각 디바이스별로 가장 적절한 해상도의 이미지를 제공&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;코드 스플릿팅&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;페이지별로 필요한 코드만 로딩 → 초기 랜딩 속도 개선&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;경량 이미지&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;CDN &lt;code class=&quot;language-text&quot;&gt;w=&lt;/code&gt; 파라미터 조절로 화질은 유지하며 용량은 줄임&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Lazy Load&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;화면에 들어오기 전까지 이미지/광고 스크립트를 로딩하지 않음&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;등등 ..&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;개선해 나아간 부분들이 정말 다행스럽다. 프론트엔드 고수분들을 진심으로 존경하고 존경한다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;입사 첫날의 징크스&lt;/h2&gt;
&lt;p&gt;퇴사후 한달간의 리프레쉬 기간을 갖고, 어찌저찌 현 회사에 투입이 되었다.&lt;/p&gt;
&lt;p&gt;구축 외주 인력 분들이 철수하게 되어, 운영에 필요한 인수인계를 받으면 되었다.   &lt;/p&gt;
&lt;p&gt;가벼운 마음으로 모닝 커피 마시면서 한분 한분 인사를 드렸다.&lt;br&gt;
( 휴식후 너무 오랜만에 사람을 만나서 반가웠고 많이 웃었다.)&lt;/p&gt;
&lt;p&gt;그리고 곧 철수하는 분들에게 부럽다는 표정을 숨기고, 잔여 이슈에 대해서 설명하는 시간을 가지기로 하며,
순조롭게 인수인계를 받을 준비를 하며 노트북을 키는 순간.&lt;/p&gt;
&lt;p&gt;그런게 있다. 순조로운 인수인계 + 여유로울 만한 프로젝트 + 이상한 느낌&lt;/p&gt;
&lt;p&gt;( 아니겠지 생각이 들때쯤. 부장님 조심 스러우면서 + 다급한 목소리 + 찐 )&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&quot;형기 씨 . 잠시만, 급한 건인데...&quot;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e03969034dedba08b3c991ab55b73780/823f8/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2ElEQVR42h3SyXLaBgCAYb1AptNmMWlwWCwQWpDEIjYhBAJkBAYbMHiJ3YmNTW0nTh27ridt3bhL2ktmOuNDpodMc8yhj9FDHuvvTL9n+IR0KooshinqcTQtSXwpQloMkZUjZNQIqfiXqIlFDDVF2/N4urvP/PCEnu/RbZQppOOoiccUcxp5NYLQrGWJRR9RVhYoZiSWog8pmiKaHEOWIkjJGH6rie93mB3MqTeWicVFzEyW5/N9BkGdnKHgNRxMLYFQs3XiiyHy0gKWmUKKhdgcdXn/7h1nzw+5fPkCr+nhOC66YbBcsZkPJyTFJHpa5+xkjmvnuX37lk//fkLQVQlFfEQpHaOQM5DEMLOvpvzz8QNvfn5F0FlGN3TkRJyMpvJsNOT9t69Yd+vcu3uPUS9g2StzdXbCh79uEXLqEmoijJOTKWRUNDmOk0vRKinsjodIKRktKdKwTA77PX7d2eGnJxtsuFUe3L2Pqsh0fZfVbp1q2UDQxDDp5CK+k6OYUTAUkX7H5fzomF+urplvbWOpCmM7zfl4heuNbW4PZ3wz8Pn8sztYWYPRoMtqt4lbySLEwgskog8J6hYdJ03LzvDjxXf88cMNFwdfszeeMGwHDG2TvZbLcW+V62mfp80897+4g2tbeG6VoF6k5+YR5HgYbSmMX82Skx/T81zWB2vMtp6wN5niOzW69SaDusvV+pTbgyOOulUaBZVGOcP2OKCQ1SgbIm3bQAjcJkosRMWUaNsVhsEKtbLNznidzcGQntehbdcoajr9colnayuUFJF8coGbyyNuvr/AKVvkMxqB30DYXZuiSzEqpkrbdclrKUZtl+OtEZvdFv16A7/qUDFNMrKCk8tTL1h0Ckn+fH3K1mSNStEia6T/HyG83D9FFqPoqSTh0AOkaJg356f8/ftrfntxwNXeJrvdDrooklM1nGyWmlWgX5a4nE1w7BJpNUXBMgmWPf4DqSyFLs5yZcUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;예 맞아요. 저 오늘 왔어요&apos; title=&apos;&apos; src=&apos;/static/e03969034dedba08b3c991ab55b73780/823f8/img_2.png&apos; srcset=&apos;/static/e03969034dedba08b3c991ab55b73780/e7570/img_2.png 170w,
/static/e03969034dedba08b3c991ab55b73780/f46e7/img_2.png 340w,
/static/e03969034dedba08b3c991ab55b73780/823f8/img_2.png 474w&apos; sizes=&apos;(max-width: 474px) 100vw, 474px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;예 맞아요. 저 오늘 왔어요&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;AMP 가 뭔데&lt;/h2&gt;
&lt;p&gt;부장님께서 호출하신 이유는 AMP 페이지가 정상적으로 동작하지 않는 심각한 이슈가 있어, 이를 분석후 걷어내야 할지 개선해서 사용할지를 검토를 해달라고 하셨다.  &lt;/p&gt;
&lt;p&gt;현재 운영 중인 웹사이트는 Next.js 기반의 웹사이트로, 리뉴얼 개편 이후 트래픽이 1/3 정도 감소했다고 한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;검색 노출 하락 → 사용자 이탈 → 수익 저하&lt;/strong&gt;로 이어지는 구조적 위기였다.&lt;/p&gt;
&lt;p&gt;AMP 가 뭔지도 모르는 나는 잠깐의 히스토리 설명을 듣고 반나절 정도 분석후 검토할 시간을 달라고 말씀드렸다.&lt;br&gt;
( 쪼금만 기다려주세요 입사 첫날이라서요.. )&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;📦 AMP 란?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AMP는 Accelerated Mobile Pages의 줄임말로, 모바일 웹 페이지를 더 빠르게 로딩하기 위한 오픈소스 프레임워크 이다.&lt;/li&gt;
&lt;li&gt;구글이 주도해서 만들었고, 현재는 다양한 회사와 커뮤니티가 함께 관리되고 있다.  &lt;/li&gt;
&lt;li&gt;빠른 로딩 속도 + 안정적인 사용자 경험으로, 특히 뉴스/블로그/미디어 사이트에 매우 강력한 효과를 준다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;🔐 AMP 는 운영중 제약이 많아 요즘엔 &lt;strong&gt;Core Web Vitals 을 통해 대체하는 추세&lt;/strong&gt; 이다.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;현재 도메인 특성에 맞는 기술인지 판단하고, 개선하면 되는 것을 잘 알기에 조금만 더 digging 을 해보았다.
( &lt;strike&gt; 구글이 만든 기술이니 구글에 맞는 스킬이겠지. &lt;/strike&gt; )&lt;/p&gt;
&lt;p&gt;📉 AMP 단점 요약&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;구분&lt;/th&gt;
&lt;th&gt;단점 내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;🧩 기능&lt;/td&gt;
&lt;td&gt;JS 사용 제한, 커스텀 기능 구현 어려움&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🎨 디자인&lt;/td&gt;
&lt;td&gt;CSS 용량 제한, 커스터마이징 불편&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🧪 개발 경험&lt;/td&gt;
&lt;td&gt;디버깅 어려움, validator 의존&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;💼 운영 부담&lt;/td&gt;
&lt;td&gt;AMP 따로 만들고 유지 → 리소스 증가&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🛰️ 종속성&lt;/td&gt;
&lt;td&gt;구글 캐시 도메인 문제, 유입 분석 어려움&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;제약이 있다는 말은 사용하지 못한다는 것이 아니라, amp 규칙에 맞는 문법으로 대체 해야 한다는 뜻이다. ( 그들만의 로마법 을 따라야 함이 불.편. )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;예를 들어, js 를 사용하고 싶다면, 아래와 같이 사용해야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;amp-script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;layout&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://당신의-회사-cdn-주소-혹은-프로젝트-내에-별도-스크립트-파일이-필요합니다-젠장/script.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;이곳에 스크립트가 삽입됨.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;amp-script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;⚡ AMP 장점 요약   &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;구분&lt;/th&gt;
&lt;th&gt;장점 내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;🚀 속도&lt;/td&gt;
&lt;td&gt;AMP는 로딩 속도가 &lt;strong&gt;압도적으로 빠름&lt;/strong&gt; (HTML + 제한된 JS/CSS만 허용)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;📱 사용자 경험&lt;/td&gt;
&lt;td&gt;기본적으로 Lazy Load + Viewport 우선 렌더링 → &lt;strong&gt;UX 최적화&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🔍 검색 최적화&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;구글 AMP 캐시&lt;/strong&gt;에 의해 빠른 응답 + 검색 상단 노출 가능성 증가&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;💎 Core Web Vitals&lt;/td&gt;
&lt;td&gt;LCP, CLS, INP 등 &lt;strong&gt;성능 지표 자동 개선 효과&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;📈 SEO/트래픽&lt;/td&gt;
&lt;td&gt;빠른 로딩 + UX 개선 → &lt;strong&gt;이탈률 감소 + 유입 증가&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🧰 내장 컴포넌트&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;amp-img&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;amp-carousel&lt;/code&gt; 등으로 &lt;strong&gt;인터랙션을 JS 없이 구현 가능&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🧵 일관성&lt;/td&gt;
&lt;td&gt;AMP validator 통과 필수 → &lt;strong&gt;표준화된 코드와 구조 강제&lt;/strong&gt;로 QA 부담 감소&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;🤔 현재 도메인에 AMP 적합성 요약  &lt;/p&gt;
&lt;p&gt;현재 운영 중인 웹사이트는 기사 본문 중심의 뉴스 사이트다. 즉, 동적인 UI보다는 텍스트 콘텐츠 위주로 구성되어 있다.  &lt;/p&gt;
&lt;p&gt;사용자가 본문을 한 번 로드한 이후에는 인터랙션이 거의 없는 만큼 사용자 경험이 단순하고, 정적 콘텐츠 중심인 구조다.  &lt;/p&gt;
&lt;p&gt;이런 특성의 사이트는 AMP의 제약과 잘 맞는다.
복잡한 JS 상호작용이 거의 없고 페이지의 빠른 로딩과 안정적인 레이아웃이 더 중요하기 때문이다.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;유형&lt;/th&gt;
&lt;th&gt;AMP 적합도&lt;/th&gt;
&lt;th&gt;이유&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;📰 뉴스, 미디어, 퍼블리싱 플랫폼&lt;/td&gt;
&lt;td&gt;✅ 매우 적합&lt;/td&gt;
&lt;td&gt;정적 콘텐츠 중심 + 검색 유입이 중요&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;🛍️ 쇼핑몰, 커뮤니티, SaaS&lt;/td&gt;
&lt;td&gt;⚠️ 부적합&lt;/td&gt;
&lt;td&gt;동적 UI, 사용자 상호작용 많음&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;📅 2024 이후&lt;/td&gt;
&lt;td&gt;선택적 적용&lt;/td&gt;
&lt;td&gt;구글이 AMP 강제 ↓, 다만 여전히 Top Stories 노출은 유리함&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2&gt;검색 유입이 중요하다.&lt;/h2&gt;
&lt;p&gt;🥰 국내 뉴스 유입이 포털 중심에서 검색 중심으로 넘어오고 있다는 사실.&lt;/p&gt;
&lt;p&gt;물론 한국은 네이버·다음 같은 &lt;strong&gt;포털 중심의 뉴스 소비 성향&lt;/strong&gt;이 강하다.&lt;br&gt;
하지만 최근에는 &lt;strong&gt;구글 검색 + 유튜브 검색을 통한 뉴스 소비도 꾸준히 증가 중&lt;/strong&gt;이다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;특히 검색 기반 유입은 ‘롱테일 콘텐츠’ 확보에 핵심.&lt;br&gt;
반면, 포털 메인은 &lt;em&gt;경쟁도 심하고, 노출 타이밍도 예측이 불가능&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;오케이 🙆 도메인 적합성 + amp 배경지식 습득 완료 . 그럼 이제 트러블 슈팅 을 해보자.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1cdd30399708a00621492881038a5dcd/68327/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 64.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVR42n2T226jQBBE+f/vWykP2cfIwAYMw9wvUFE1tOMoKyOVRozHp6u7hi78fYd/+4NxWTD0PaZpwjiOomEYEGPEvu84jgOvnlYrUq7oirVom4HzAdZaOOd+rCEEpJReAM99/p5LQ5frjgOvq+tDp945lFLknasWaq2dDmNM4kRFZ9S2beJOQXw269API0rO8l5TRA1e7Hjv4WNCF1PGuq5YlkVEEFfd40F1sW4bPm79w2GLES2eRVOMJzDEBGNWGGMEdr/fkXMWV7VWaUWBxjrc+uEbmKLoAQyXQ3+1SOWrnR9jfwL24yiFZBS1is55ZoSY0aVc4KwV2PMMVdzj1ZEZOofPaZb9/Tiw52+HrfHaFAKztKvi7FQ6U23RWItpvmMzRlzuOQnwuFKOqZwO6YIwDYYwzpLSpBX4Oc9SpNb2H2A+QyFAgWyHLTJdrjovBf6bZjn/22FFINCHiHmaBEZHCuTXwYDokGLqi9lwG0c5VwhM57V5ABmKdV6uDSH8o70CIpguNSg6Yku83PEqcDSmXJ4+vYoviBn0Di0w6JEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;이 요망한 걸림돌들&apos; title=&apos;&apos; src=&apos;/static/1cdd30399708a00621492881038a5dcd/ca1dc/img_4.png&apos; srcset=&apos;/static/1cdd30399708a00621492881038a5dcd/e7570/img_4.png 170w,
/static/1cdd30399708a00621492881038a5dcd/f46e7/img_4.png 340w,
/static/1cdd30399708a00621492881038a5dcd/ca1dc/img_4.png 680w,
/static/1cdd30399708a00621492881038a5dcd/68327/img_4.png 950w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;이 요망한 걸림돌들&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;앞서 말했듯이 &lt;strong&gt;AMP 페이지 는 정적 검증기 인 AMP Validator 를 통과해야만 페이지가 동작 가능&lt;/strong&gt; 하다. &lt;/p&gt;
&lt;p&gt;구글 search console 에서 계속 안되는 이유를 친절하게 알려준다.&lt;br&gt;
본문에 허용하지 않는 Tag 가 선언되어 있거나, ./next/static 하위 js 번들이 html 전체 문서에 포함되어 있으면 AMP 페이지가 정상적으로 동작하지 않는다고. ( 훌륭해.. )&lt;/p&gt;
&lt;p&gt;그러나, 문제의 &lt;em&gt;태그&lt;/em&gt; 를 해결해도 왜 next 번들 파일이 guide 규칙에 걸리는지 의문을 품던 도중&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9e44e24bc4e8c3aa69a953c708b2a92f/f3280/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 24.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42mWQXWvCQBBF/f//qCBVS99b0FiwpS3GZGM22VSzm2Q/4ilrRAp9ONw783CZOzPvPKbr0FpjhwFnLd45xuAnfNRww3MJ4Y5zHmsnoo/MfBipy4L3r5SPQ823+OEgW0QzkKv+TpxFM/ms7shUT289XAKXMRD8LTCmMwZ2uWa+USwSxeOmYrkpWW1LVknJ07a66mJdsEziTrJYH0nSM5+FZpe3qHa4hs6s8wTneNs3PLxkzF9znpMjom7Z54asbEnLE0IZRK05Nh2FMlfNKkMqNftSc9IWHwPjmcZ0SFlxPjWIPKWSEjf0nOuB3vQYo29/Df+Idf9W/gUugHwBQKZ0XwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;안된다 -1&apos; title=&apos;&apos; src=&apos;/static/9e44e24bc4e8c3aa69a953c708b2a92f/ca1dc/img_3.png&apos; srcset=&apos;/static/9e44e24bc4e8c3aa69a953c708b2a92f/e7570/img_3.png 170w,
/static/9e44e24bc4e8c3aa69a953c708b2a92f/f46e7/img_3.png 340w,
/static/9e44e24bc4e8c3aa69a953c708b2a92f/ca1dc/img_3.png 680w,
/static/9e44e24bc4e8c3aa69a953c708b2a92f/f3280/img_3.png 789w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;안된다 -1&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/cf49b49d96c8588f9990d06cfad4c3b1/d703b/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 16.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmElEQVR42m2NvQ6CMAAGeXc3d9/JRYXJkBgEUTAo4a+lLbScSaNOXHK56csXyFERna+YaaYfBoQQyHFEae3V2mCtxVr372wd02xXDR5lxWa7Y5CK9F5yzQvysqJ8t95n3dKPhlZo304ahJpQZl41wLP497gYCNOeKG05JQ1R1hOmHYdLzTFpCLOOffziVsnvxuGcY1kWfnwA877lABPpxxcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;안된다 -2&apos; title=&apos;&apos; src=&apos;/static/cf49b49d96c8588f9990d06cfad4c3b1/ca1dc/img_6.png&apos; srcset=&apos;/static/cf49b49d96c8588f9990d06cfad4c3b1/e7570/img_6.png 170w,
/static/cf49b49d96c8588f9990d06cfad4c3b1/f46e7/img_6.png 340w,
/static/cf49b49d96c8588f9990d06cfad4c3b1/ca1dc/img_6.png 680w,
/static/cf49b49d96c8588f9990d06cfad4c3b1/d703b/img_6.png 786w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;안된다 -2&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 542px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e9fcfd45cafea03b77a133d412f70186/47f85/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 24.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVR42oWOy07CUBRF+f/vMUKIc0UkoGKMtQ/Ks7XSep8t9xaXsSQMZOBg5Zw9OOvsXqEqpK5Rpsa13xx8S33wNK7FNu60++M5/0dPOMPofkwUJwRhQpKuyIuSdL3jsxJss4IgjAmTZffYNh5TuzMXwr0RrDcZ+0pQfkkqoZDaorXpDoSuKYVGaYNzHud/afG+7eaF8EOWHNyxkwTRgjhddW1eoi3jsOI2kNy9S6KdYpFLklyTZIo4kyxyhf7TsleoElu7rtn0cc7sac789Y3hJGUw3XHzXDCYbLgeL+k/rBnOcq5GaUd/sqKUBm0tyli0bfgB8iB4xrx8pDcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;안된다 -3&apos; title=&apos;&apos; src=&apos;/static/e9fcfd45cafea03b77a133d412f70186/47f85/img_7.png&apos; srcset=&apos;/static/e9fcfd45cafea03b77a133d412f70186/e7570/img_7.png 170w,
/static/e9fcfd45cafea03b77a133d412f70186/f46e7/img_7.png 340w,
/static/e9fcfd45cafea03b77a133d412f70186/47f85/img_7.png 542w&apos; sizes=&apos;(max-width: 542px) 100vw, 542px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;안된다 -3&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/bda647229ccd88e6923459403a298654/11e78/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 34.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVR42oWR626DMAyF+/4vVwGaRNeu3VRNK5QUQkJzA74pWcvGr0VyjmM7xyfOBmCeZ8ZxxAef8BmbpinZX/+/tYlbuE80jeDrcqHtuuVyCCFZbGKtxXu/Io/x5znWLYTSjNT1FXGt8c4yPZKn45HX3Y4szzkcDuR5zna7pSxLiqIgyzL2+/2Siw028xhQnw3ncsfppaA5f2BvAiNqmvc3lOzw/kdpVOmcW5Q/1Uf7VThPDE1DV1Vo0XBvb9heYmWLvAlubYvsOpRSDMPAMGh09LVCa5XiUkq6R016snUW69xquHE2bdtSVRVCCIwxWOcxLmBswEZ0PqmO6uJ8IybCQWuC92vCaUJrTd/39EolVCbQW+gMCZWdMcaufvkboTAdcc70sBMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;빼박 안된다 -4&apos; title=&apos;&apos; src=&apos;/static/bda647229ccd88e6923459403a298654/ca1dc/img_8.png&apos; srcset=&apos;/static/bda647229ccd88e6923459403a298654/e7570/img_8.png 170w,
/static/bda647229ccd88e6923459403a298654/f46e7/img_8.png 340w,
/static/bda647229ccd88e6923459403a298654/ca1dc/img_8.png 680w,
/static/bda647229ccd88e6923459403a298654/02d09/img_8.png 1020w,
/static/bda647229ccd88e6923459403a298654/11e78/img_8.png 1027w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;빼박 안된다 -4&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3&gt;요약하면 현재 프로젝트 에 구현되어 있는 모든 AMP Page 는 못쓴다는 뜻.&lt;/h3&gt;
- 다 걷어내야 됌
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/117143763b6387a83eba0dd67340d638/f937e/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADiUlEQVR42iXRSW8bBQCGYf8UJA7ABS5wqACpSmio1I1QO0ntxImXeOJxbNeeccZje1aPxzP2xEsSb1WcNk1USpEK6gYtSCDgiBB3fsyLUk7f7dErfaHA8XA1k07vHv3JOf5gTlnzSeQUYukyS7c2WF5LMxw94OmPf/L73//y8o9/cIIxfmdCsmyham3cZhfb8ggNe4cErQC/d49g9PAtWq46fPDhJeKxbcyGS/zOJje/usPs/Ae+/+UvHr/6Da3dIdifItc6GEZAo26haTah8cGYYbtHuaiyk6+iaG0+XbjB0hc3OBtNOJ+dctIfcetGBMn0mT/5mfbsARXTxvGOaHZP6OwfozVsDK1JyNZdWppDMhZnYeFLViNRPvr4MosL15HFPNuxJLmtDDsJgbLaYNofM+wdoRg+bf+IinOIZvdRVYtq1SCUTOXJF/ZQpT3C4Sg3VzfZjMRIh1dpVWT03QKuvIcj7yHVVJR8Ca+ms98eYPpHpCULsaBi6C4NzSG0m05TSG+j79XYSggsRVPsFhSU7R30fB5dzFFcTyIlMiiWh+kOqO3k6Fkex9+8QKx3qRg+vt/D0FuEDKWKVddwdIu7hTIrQomNssm15TiZlThGXsLcldDkBsH4lJMnb3CtHg3xLtN7Zxj9+3RHZ1i2j9ZoErqAXNul2+5QrTeJFOuslw02swpCNMFuLEl2bZNW6+Bt0eT8BYenz1Akg77dxvQnqHYH3Wr+D7qDGVa3R3c4xt0fIxkdZG9OyXtE466MlhWQtxKkU2Wa02eMzl5xePYS7+AhPdvDdwKura+yVoqTKRYJqU5AxXaxO0f4o0dY4+fUxq+Rhj9RNI8x83kMIUNkTWRZmaNN39Ca/4o3f43e8Jh1ehimQ0TMERMKF4Un9MZn2KOnVAbPEdvfsabOuVObEy5NUGWLfrXKttzlemmC4DxCdB+TcL4lXjnCVhqM/AC/O8bunxC6eE12ZuRaj0lp9xHMUzZqJ1xOd/g84SHVB4xabTL1KSvyhHjtmKgyIyxPiO1NKYky7WoVvaKS1waEVMMnpRyQrM+JVkZsVMZI9T7ViklKULkSqyKWbCLFHpHSAcsXWx7y2brOpajG1bBINpFhI6uzJQeEspLJbbFNOB9wJe2wkTUwiwUqGYHS9i6rgsmVVJObQotbWY+r6SZf5zq8u5DincU0710VeX8xwSe3y6wKdf4DxyqqhimaZd8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;거짓말&apos; title=&apos;&apos; src=&apos;/static/117143763b6387a83eba0dd67340d638/ca1dc/img_9.png&apos; srcset=&apos;/static/117143763b6387a83eba0dd67340d638/e7570/img_9.png 170w,
/static/117143763b6387a83eba0dd67340d638/f46e7/img_9.png 340w,
/static/117143763b6387a83eba0dd67340d638/ca1dc/img_9.png 680w,
/static/117143763b6387a83eba0dd67340d638/f937e/img_9.png 957w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;거짓말&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Next.js의 pages 라우터 기반에서만 정식 지원하고, app router 기반에서는 공식적으로 AMP 지원이 되지 않는다는 사실을 알았다.&lt;/p&gt;
&lt;p&gt;아래와 같은 구조에서 pages 하위에만 Amp 대상 페이지를 두면 되긴 하는데..&lt;br&gt;
문제는 현재 &lt;em&gt;app 디렉토리에 AMP 페이지가 개발되어 있는상태.&lt;/em&gt; ( 범인 색출 성공 )   &lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 462px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1d366f6476bbeb95da8a777daf074d37/a9e02/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACl0lEQVR42pWSa2sbRxSGZ1e+qZJXliXt7syud1fam1Y3y9XNlzhyG0l2LpBCaxpKPqQJpqVQSiBQ6Of876es5LiFltJ8eHjfOefwzjAzIpgeI2opW1abHdVhz+2xbWfotRZ6PfxsxPD7O4Kzbwjn33IwWFId3nAwWFDO5pSzq/9k/4HNbCmbI9o/vGf28g3Z9WtK/SWl3oJiZ4ExWFHO6a/Y/+T/pVYcXFPsrzg4XnF4co2YXH5JFHYw6gHlRsgXTky9lVJoxOyaEbtmzE4jomSG7DUiyvc+79XNFk0rwDabbNkphtdBvOrOWExnDLp9/JqH8hM+/j7mxSTivazzh99grjy+cxU/HVn8fGTzwTMZqoAL5fPalTxzHITMKHtdxN3tiOHkkmx4hdsaotdi9mRKRSUksklXBhzaMYYdI2VEw46QdkjRSqjYCftrYnQrpWCliO7ogtZwRnA8oyCz9dHzhm6maFYbYbUfhrV7r1n5r7ify9dmyp7KMPweYvb0nHD8mErQRzMTRDVBy7HaaGZ7E7rWTVDu9Yfa3/vt9SbizfMp09EZnbhH3U44Oe1zcjZAmSGJCglVSEe18GWEkhGhDIllyNQJcGVEolosHI+F61NyO4hfxjOWkwkvHs0IzCarr1Le3Wb8aNb41a3x8ajKb84ht8rkka24c+q8VXU+OFVupI1v+ixtyUtHUnUSxHywIhte0uyfou0rRNFBLyp2qw6a4VKtKnTDXXutskGvuAjjL5+rqDjohoPQTl9x2HlMML3GG6/wRk9odC8oWG227c195Zqzdc+2/c9aTsFuI7ayEQfhmFp2jtW7pJrMqGfnGK0RWiN+eM3/i9jpXuGdfI0/vcEbLTkaLalEE7Zl9llBnwL/BGMtgwdv97oqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;pages 는 구식 app 은 신식&apos; title=&apos;&apos; src=&apos;/static/1d366f6476bbeb95da8a777daf074d37/a9e02/img_5.png&apos; srcset=&apos;/static/1d366f6476bbeb95da8a777daf074d37/e7570/img_5.png 170w,
/static/1d366f6476bbeb95da8a777daf074d37/f46e7/img_5.png 340w,
/static/1d366f6476bbeb95da8a777daf074d37/a9e02/img_5.png 462w&apos; sizes=&apos;(max-width: 462px) 100vw, 462px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;pages 는 구식 app 은 신식&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;마치 판매 기준을 어긴 것 과 같다. 샌드위치 속 재료를 기준에 맞게 모두 바꿨지만, 포장지가 비닐이 아니라 종이여야 했던 걸 몰랐던 상황처럼.&lt;/p&gt;
&lt;p&gt;천만 다행으로, app / pages 라우터 방식을 next 에선 &lt;strong&gt;모두 지원&lt;/strong&gt; 하니 모두 pages 방식으로 forting 하는 불상사는 발생하지 않는다. &lt;/p&gt;
&lt;p&gt;실험적으로 pages router 방식으로 mock 으로 테스트해보니, AMP Validator 에 걸리지 않은것도 확인 ✅&lt;/p&gt;
&lt;p&gt;다시 부장님께 Amp 대상 페이지가 어떤것인지 여쭤보았고, &lt;strong&gt;기사 상세 페이지만 대상&lt;/strong&gt; 이라고 하셨다. &lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;✅ AMP 에 대한 배경지식 체크&lt;/li&gt;
&lt;li&gt;✅ 현재 도메인에 AMP 적용은 적합&lt;/li&gt;
&lt;li&gt;✅ AMP 페이지는 pages router 방식에서만 지원&lt;/li&gt;
&lt;li&gt;✅ 모든 페이지를 Pages router 방식으로 전환 하는게 아니라 기사 상세 페이지만 AMP 페이지로 별도 구성&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;모든걸 옮길 필요 없이 뉴스 본문 기사만 옮기면 된다. ( 나머지 페이지는 app router 구조에서 계속 사용 가능. )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;🏗️ AMP 페이지 개발&lt;/h2&gt;
&lt;p&gt;다음 편에서 계속.&lt;/p&gt;
&lt;h2&gt;참고 자료&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#amp&quot;&gt;Next.js AMP 공식 문서&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;시간을 아껴주신 분들&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/vercel/next.js/discussions/76918&quot;&gt;버셀에 문의까지 주신분&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/vercel/next.js/issues/64354&quot;&gt;그외-1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.reddit.com/r/nextjs/comments/1dpuvj7/how_do_i_configure_a_page_to_be_amp_in_app_router/&quot;&gt;그외-2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Rag]]></title><description><![CDATA[Rag (Retrieval Augmented Generation) 의 탄생 배경 RAG 은 대규모 언어 모델(LLM…]]></description><link>https://hyungkishin.github.io/rag/</link><guid isPermaLink="false">https://hyungkishin.github.io/rag/</guid><pubDate>Sat, 29 Mar 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Rag (Retrieval Augmented Generation) 의 탄생 배경&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;RAG&lt;/strong&gt; 은 대규모 언어 모델(LLM)의 한계를 극복하기 위해 개발된 기술로, 검색과 생성의 결합을 통해, 작업에서 정확하고 맥락에 맞는 답변을 생성하거나. 최신 정보와 특정 도메인 데이터를 동적으로 활용할 수 있도록 설계된 기술이다.&lt;/p&gt;
&lt;h2&gt;LLM 은 어떤 한계를 가졌을까 ?&lt;/h2&gt;
&lt;p&gt;LLM 의 한계는 학습 데이터를 기반으로 응답을 생성하다 보니, 새로운 정보나 특정 도메인 지식에 대한 질문에 대한 질의 응답을 할수가 없었다. 만약 한다 하더라도 AI 헛소리 라고 불리우는 &lt;strong&gt;할루시네이션&lt;/strong&gt; 문제가 발생하였다. 즉, &lt;strong&gt;거짓말&lt;/strong&gt; 이다.&lt;/p&gt;
&lt;h2&gt;RAG 의 탄생 배경&lt;/h2&gt;
&lt;p&gt;2020년 9월 28일 Meta AI 연구진이 발표한 논문 &lt;em&gt;&quot;Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks&quot;&lt;/em&gt;를 통해 처음 소개되었다. &lt;br/&gt;
이 연구는 Facebook AI Research(현재 Meta AI), University College London, 그리고 New York University의 협력으로 이루어졌다. &lt;br/&gt;
주요 저자는 Patrick Lewis를 포함한 여러 연구진으로, 이들은 기존 LLM이 가진 정적 데이터 의존성과 할루시네이션(hallucination) 문제를 해결하기 위해 RAG를 개발했다. &lt;br/&gt;
외부 데이터베이스나 문서 저장소 등에서 관련 정보를 검색하고 이를 기반으로 응답을 생성하는 구조를 채택했다.&lt;/p&gt;
&lt;h2&gt;RAG의 작동 방식&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;검색(retrieval): 사용자가 입력한 질문에 따라 관련된 지식을 외부 데이터베이스나 문서에서 검색한다.&lt;/li&gt;
&lt;li&gt;생성(generation): 검색된 정보를 &lt;strong&gt;통합&lt;/strong&gt;하여 &lt;strong&gt;적절한 텍스트&lt;/strong&gt;로 생성한다. ( 맥락에 맞는 답변 )&lt;/li&gt;
&lt;li&gt;증강(augmentation): 검색된 데이터를 LLM의 입력 프롬프트에 추가하여 응답의 품질을 높인다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;RAG의 주요 특징&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;동적 정보 활용&lt;/strong&gt;: 정적 학습 데이터에 의존하지 않고 최신 정보를 반영할 수 있다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;효율성&lt;/strong&gt;: 모델 전체를 재학습하지 않아도 외부 데이터베이스만 업데이트하면 된다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;신뢰도 향상&lt;/strong&gt;: 검색된 데이터를 기반으로 응답을 생성해 할루시네이션 문제를 완화한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&quot;검색(retrieval)&quot;과 &quot;생성(generation)&quot;을 결합한 구조를 도입 함으로써, 사용자의 입력에 따라 외부 지식 베이스(예: 데이터베이스, 문서 저장소)에서 관련 정보를 검색하고, 이를 기반으로 더욱 정확하고 맥락에 맞는 응답을 생성하게 되었다.
RAG는 정적 데이터에 의존하지 않고 동적으로 정보를 활용할 수 있는 능력을 갖추게 된다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ai. Spring AI 로 때워도 되나유? 1편]]></title><description><![CDATA[아이스 브레이킹 22 년 어느날, Back-end 개발자로 개발생활을 영위하며 바쁜 일상생활을 보내고 있었던 🍁가을무렵 이였다. 헤성처럼 나타나 개발자들에게 "코더 계속 하실 ?" 이라는 극딜을 준 G…]]></description><link>https://hyungkishin.github.io/spring-ai/</link><guid isPermaLink="false">https://hyungkishin.github.io/spring-ai/</guid><pubDate>Sat, 29 Mar 2025 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;아이스 브레이킹&lt;/h2&gt;
&lt;p&gt;22 년 어느날, Back-end 개발자로 개발생활을 영위하며 바쁜 일상생활을 보내고 있었던 🍁가을무렵 이였다. 헤성처럼 나타나 개발자들에게 &lt;em&gt;&quot;코더 계속 하실 ?&quot;&lt;/em&gt; 이라는 극딜을 준 G 선생. 솔직히 처음 모델만 해도 리펙토링 정도만 살짝 참고하는 정도여서 전혀 &lt;code class=&quot;language-text&quot;&gt;긁&lt;/code&gt;히지 않았다. 분명 그랬을 터인데, 24년 여름쯤 이였다. 일정 테트리스로 인하여 여러 프로젝트가 겹쳐 시간이 빠듯하였고 결국 생성형 AI 를 적극 활용하기로 하였다. 그 결과 무려 10배 혹은 20배나 되는 &lt;code class=&quot;language-text&quot;&gt;생산성의 맛&lt;/code&gt; 을 봐 버렸고. 요망한 AI 에게 의존하는 삶을 살게 되었다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/afe1637547cb1963741d37dd050370c5/3a6ec/image-2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 106.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFsklEQVR42j2S+VPTBxqHvyHHNwmBgIigIJcgFA9MOKJIQEXkKMghp0Wl1NSqyzlbdRGKQAUqWiVAkVI8sCJqiwoS0IYJICJTwWmX7bmus7tt7XY60/GXzuzs/vDsJO3sP/DM837eR4gPW0Nc6Gqy9VFk6nQk6SNJ0UeSpNeRFqkjIfwlMjbFst4vgKwNOnINMWwKWoXeP4hsg4HCSD2FYWHE+fsT6eWNELU2ksDlKwlcEcjmNREk6CIpjNvEnsREcuOM5MfFkr9tO4dyc2h7swzziWO0pG+j21fNhVBPTgdoyV0dQkJQMEkREQiJsWvZtT+C5a5LkUoViEsDCA6PpjQtg8yYjeQkbONATg5v7cliy9rVrPD24vUQH7pcBcZdBR5qJaSqRKQKFcY16xGOlhYw0F3OWdMhDmcXkRfjx5G9G/mL9TI9Z06RvCGarj9V83fLDQbeaaKh/HWuV5noy4jnl8EP+PX2AIO9fZzq6KH3fC9CW2ML759oZaDvbe7NHuWSaQWN2wTmO9O4efMahbm7eT43xfOxG/w8OcqPC1a+v3YJ69UrDNlmsEw+YnJikgnbJGMTEwirVq5k84ZYyl9L5ar1ALcbo+kv0fDkQjGLi18wOjbFsLmNblM+/7IM8PPCND/e/ZhfpsZ5PDXFzCfTLNhmmRqf4Fr/VYSIcB0JBiMdTS384VUT5rpqHg+c5ruZUf721Tx3Rod5fGeEry93sjjQzdORAf5s+Zjn1iH+O29jasZC68Q1xhceMTsxjRAQpCc7MZWTx2s5VJDFP62DvFiw8uuDW/xjZpiF+Qkej92j7bV9nCrKoCDRQI2pkGd3L/PTJx9RcacJn3M5RHWW0v7NXYTKkhLSd7xMZfmbvHfiOF98eIpnI/1M97Xz0NzMk4/6eTozRb+5g2KjAVHlTF6qgUfnm7DZBkmx1LLuXBGx/Yep+qYfISmtmFURO9mz9yBdbacZPlPH4ns1fHquka+63mWsuZ6G8kpams/i7elDcHw0+1vKuFBTzkFLC1tu/5EtgxUUWJupWLyIsDwoluCwPKKMuzhfXcFcVxNzrZU866lnvO0tGktLcNe64eHpx3LvENaV7aThyRVa5q6QZKlh1/1Gdo7WkTPeQL6tGUHlFkRsfConmxqJ0hmpKczg+jETQzUlWFsr+azPTKoxDkEQUCjUiBo3cnuOsXv2DAVjJ8kcO0FoSzYR5ldIvFGFIJFp0UVvpai4jJD1icTHxDLf9w7nq0tofDUDU9Z2PN20KJQa1BotEkGCe3woB2a7+PzbpyRdrMSnPpk1zdnk3XsbYWVQEMYt+cRtzUdvSGNFYAS7diQz29PMpdo38PFa4rCTK5S4uHshylR4793E/kcd3Jl/QOatWoKadxLclEmu7SRC8cECdFEZhK/fjLfvanz8X8LdK5jw0HWEBAQik4koVRqkUhlKtRsqV3cCqreTfr+eqMsm/NpzCG7IIOXdUrbfPoKwOy8NUeON2tkNheiMqNTg4emLh5c/osoF9yVeKES1A6hWa5G7atE35HP8wUWyhuqJad/H5GAvt66088rDswjJcYlIRWeWeQfi7LIEUemCXK5EFJ1RKl1w0Xogk4s4yeSISmec5CJb60uoGOnkcE8tX458yF8v9dLaUYf5+X2EMEMKWjev32B2Q9EZuULtONVua7e07+cklSEIEqRyGelNhyjqqmZu8H1eWIeZ/cDM0c4jdP9kQ3DxWIV2qT9qtSsKUYNcrkauUCGVypHJlQ5bJycZgkTyWzrLXPCtSmFf1T5+uH+T76ctpBqjyes+wvX/fI4QErMDrY8eZ43Wca69NbuhfTc7zA6V/A6T2IGuGpYE+BG7MZGOumpyX05AUAjknyln6N+LCMmHs1jqtxEPz2WO1uT/B2p+f4bC0Z4jHVGN2v5ppdaxpcJdjpOvCsGwjPTuMgZefMr/APsBXjIVId6qAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;ㅎ...형!!!&apos; title=&apos;&apos; src=&apos;/static/afe1637547cb1963741d37dd050370c5/ca1dc/image-2.png&apos; srcset=&apos;/static/afe1637547cb1963741d37dd050370c5/e7570/image-2.png 170w,
/static/afe1637547cb1963741d37dd050370c5/f46e7/image-2.png 340w,
/static/afe1637547cb1963741d37dd050370c5/ca1dc/image-2.png 680w,
/static/afe1637547cb1963741d37dd050370c5/3a6ec/image-2.png 686w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;ㅎ...형!!!&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;의존 하다보니 느끼는 감정은 날것 그대로 쓰기엔 오류도 많고 아직 사람손이 타야하는 영역이 많긴한데, 점점 그 빈도가 &lt;strong&gt;줄어들고 있다는 점&lt;/strong&gt;에서 불안과 걱정의 씨앗이 심어졌다. 정말 어느 순간 모르게 급격하게 발전해서 &lt;strong&gt;&quot;비즈니스 영역까지 커버하게 된다면&quot;&lt;/strong&gt; 더이상 내 자신이 회사에 필요하지 않게될 날이 도래하겠다는 생각이 들었다. &quot;에이 ~ AI 는 아직 부족한 부분이 많으니 대체되지 않을거야&quot; 라는 &lt;strong&gt;미련을 빨리 버려야 된다&lt;/strong&gt;고 생각했다. 그러나 처음부터 AI 의 모든 영역을 공부하기엔 현실적으로 많은 러닝커브가 따르고 막막하여 생각에 잠긴다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1️⃣ Web 개발자 관점에서 AI 를 활용하기 위해 어떤 개념들을 알아야 할까 🤔 ? &lt;br/&gt;
2️⃣ Spring AI 가 있다는데, python 없이도 AI 기술들을 커버할 수 있는걸까 🤔 ? &lt;br/&gt;
3️⃣ 많이 뒤쳐진것 같아 불안해. 빠르게 AI 기술들을 적용해보고 싶어 ‼️ &lt;br/&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;돈워리. Web 개발자 관점에서 요구되는 AI 기술 부터&lt;/h2&gt;
&lt;p&gt;웹 개발자는 AI 모델을 직접 연구하거나 신경망을 설계하는 사람이 아니다. &lt;strong&gt;AI를 활용하여 제품을 개발하고 사용자 경험을 향상시키는 데 초점&lt;/strong&gt;을 맞추어야 한다. 단, 요구되는 지식은 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AI 기술 이해&lt;/strong&gt;: ( 머신러닝 딥러닝 기본 개념 ), AI 모델 작동 방식&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;API 및 라이브러리 활용&lt;/strong&gt;: openAi API 과 같은 도구를 사용하여 애플리케이션에 AI 기능 통합&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;멀티모달 데이터 처리&lt;/strong&gt;: 텍스트, 이미지, 음성 등 다양한 데이터를 처리하여 사용자 경험 개선&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;데이터 기반 의사결정&lt;/strong&gt;: 사용자 데이터를 분석하고 이를 기반으로 제품 설계 및 최적화.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;기술의 발전과 패러다임을 보면 항상 사용자에게 시간을 준다. 딱 5년. 2년도 안남았네 .. &lt;br/&gt;
🏃🏿 지금부터 SpringAI 를 기점으로 AI 와 빠르게 친해지는 길로 달려보는 수 밖에.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Spring AI란 무엇인가?&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/78a2a15fae8b90f5c31abc8da70a2adc/010a2/image-3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 91.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC30lEQVR42pWTy47jRBSG+x2YTufi+FaxXWWXb7ET59ZJuqcvox4Qg5BGiA1IM0KzYjkCCZY8AeonGBbsEY8AYsE7fajsNGoQKJrF5zo+p/TrnPOrTqQuuL37mHza0Bs6DG1xwGfkiPfmxA1CVJnghRFOEODJEHsywRURY3fy/oJBHnHzxYz6SrN5UbJ8nrN+UVI1S0SUcDZy2m4HY4/+gcFjTM02cTfRie2HxEWJykoinTORGl3kSJUSKU0oE8KoQ8UZMjb5h9qhLhMmUXzoUKU06wvirEZEmkBqlEpRMkFJTRTFLSZO4pTYCEYx8lCXhigmCFUn6IcxRd0QZ1N0UZHkU1RaEucmrtBFTVrOMOa1uaImrxqyqmlrupy1yLTsBEWoqOdLZosN8+V5y6xZU9YL5qvzNt/WFl1tsd5SzVdoI55NScuaopojkxzLnXCSzNbMrj5EqAw/VAip2z0aQyYPseziMM4wKzJ771vewSz/b0PaDmXZcP3J5yy2N8xXe+rljmmzpVlf0mwuqRY7lvvblvn2mmZ7w2r/jNXFM5bm3HdnWq06QUdIFpsrmu01cT5DpTUyq1BZjdQ1YVwRqge6nMoO9w6Y/zCZdiMb1b7ltpgRzCsZOT5jz0eoAFlGpKuEbJOgZgo3DP5xr4sfjWw+1qMXYbmCJ31B34+ItzmiTCh2KeU+ZbrTVE8zbBFg/d9L+XfC9nzuLi2+fTPg7esRb1728Ryb3pnL0PIocxetfWzf3BUMjwr6Pt981eP3d6f89m7ILz/2uLyL0KuU1dzms48GPH86xA98xu6RDs1eXOHz5adn3H/3Afffn/LD10/Y3EjmtwVF5rSC1zsLxxfHBdu92IK3r0758+dT/vhpxK/3PRJpMRh6xMphWY+pCgedeMcFux0KLNs4LNCzgCibUJwnLboKyRcSmQX4vtcaeFTQMBgL7ElItsnI1rpz+CIl3WjStWbsT+hb/+3yX4haGyxt7gCIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;출처 - https://spring.io/projects/spring-ai&apos; title=&apos;&apos; src=&apos;/static/78a2a15fae8b90f5c31abc8da70a2adc/ca1dc/image-3.png&apos; srcset=&apos;/static/78a2a15fae8b90f5c31abc8da70a2adc/e7570/image-3.png 170w,
/static/78a2a15fae8b90f5c31abc8da70a2adc/f46e7/image-3.png 340w,
/static/78a2a15fae8b90f5c31abc8da70a2adc/ca1dc/image-3.png 680w,
/static/78a2a15fae8b90f5c31abc8da70a2adc/02d09/image-3.png 1020w,
/static/78a2a15fae8b90f5c31abc8da70a2adc/9d567/image-3.png 1360w,
/static/78a2a15fae8b90f5c31abc8da70a2adc/010a2/image-3.png 1716w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;출처 - https://spring.io/projects/spring-ai&lt;/figcaption&gt;
  &lt;/figure&gt;
Spring AI는 Java 개발자를 위한 AI 통합 프레임워크다. 기존에 AI 기능을 추가하려면 Python, 머신 러닝, 딥 러닝에 대한 광범위한 지식이 필요했는데 Spring AI를 사용하면 개발자가 OpenAI의 GPT-4 및 DALL-E 3의 기능을 쉽 게 활용할 수 있어, Java 개발자가 복잡한 인공 지능 기능에 액세스 할 수 있게 되었다. Spring 기술과 자연스럽게 연결되기 때문에 AI 기술을 &lt;code class=&quot;language-text&quot;&gt;처음부터&lt;/code&gt; 배우지 않아도 된다.&lt;/p&gt;
&lt;h2&gt;왜 Spring AI로 시작해야 할까?&lt;/h2&gt;
&lt;p&gt;Spring AI는 복잡한 AI 기술을 Java 개발자가 쉽게 접근할 수 있도록 단순화 되어있다. 굳이 채택하려는 이유라고 하면 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;효율성&lt;/strong&gt;: 기존 Spring 생태계를 활용해 빠르게 시작 가능.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;확장성&lt;/strong&gt;: 다양한 모델과 데이터베이스를 유연하게 교체 및 확장 가능.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;생산성 향상&lt;/strong&gt;: 반복 작업을 자동화하고, 개발자가 중요한 문제 해결에 집중할 수 있도록 도움.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Spring AI로 무엇을 만들 수 있을까?&lt;/h2&gt;
&lt;p&gt;Spring AI를 활용하면 다음과 같은 애플리케이션을 개발할 수 있다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RAG 기반 검색 시스템: 질문에 대해 정확한 답변을 제공하는 검색 엔진.&lt;/li&gt;
&lt;li&gt;대화형 챗봇: OpenAI GPT-4와 연동된 스마트 대화 시스템.&lt;/li&gt;
&lt;li&gt;이미지 분석 및 생성: 멀티모달 기능을 활용한 이미지 처리 애플리케이션.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Toy Project 딱대 🥰  마지막으로 Spring AI 의 주요 기능과 설명으로 이번 포스팅을 마치며, &lt;br/&gt; 대화형 chat api 를 open ai 를 활용하여 toy project 를 다루는 방향으로 2 편을 작성해보려고 한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;주요 기능 과 설명&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;기능&lt;/th&gt;
&lt;th&gt;설명&lt;/th&gt;
&lt;th&gt;장점&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Boot Auto Configuration Support&lt;/td&gt;
&lt;td&gt;Spring Boot와의 통합으로 AI 기능을 쉽게 설정할 수 있다.&lt;/td&gt;
&lt;td&gt;복잡한 설정 코드를 줄여 개발 속도를 높인다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Multiple AI Support&lt;/td&gt;
&lt;td&gt;OpenAI, Hugging Face, Google BERT 등 여러 AI 모델을 쉽게 사용할 수 있다.&lt;/td&gt;
&lt;td&gt;다양한 AI 모델 간의 비교와 최적화를 쉽게 수행할 수 있으며, 모델 변경 시 코드 수정이 최소화된다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ChatClient API&lt;/td&gt;
&lt;td&gt;AI와 대화하는 기능을 쉽게 구현할 수 있다.&lt;/td&gt;
&lt;td&gt;대화형 AI 애플리케이션을 쉽게 구축할 수 있으며, 사용자와의 상호작용을 원활하게 처리한다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Prompt Template&lt;/td&gt;
&lt;td&gt;프롬프트 템플릿을 통해 AI에 보낼 입력값을 쉽게 조정할 수 있다.&lt;/td&gt;
&lt;td&gt;코드의 재사용성을 높이고, 다양한 요구 사항에 맞는 질의를 손쉽게 작성할 수 있다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Vector Embedding and Search&lt;/td&gt;
&lt;td&gt;문서를 벡터화하고, 벡터 검색을 통해 고성능 검색 엔진을 구현할 수 있다.&lt;/td&gt;
&lt;td&gt;복잡한 데이터를 효율적으로 검색하고 분석할 수 있으며, 이는 정보 검색 및 추천 시스템에 유용하다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Advisors API&lt;/td&gt;
&lt;td&gt;반복적인 생성 AI 패턴을 캡슐화하고, 데이터를 변환하여 다양한 모델과 사용 사례에 걸쳐 이식성을 제공한다.&lt;/td&gt;
&lt;td&gt;AI 애플리케이션의 구조적 설계를 간소화하고, 성능을 최적화하며, 변화하는 요구사항에 빠르게 적응할 수 있다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Retrieval Augmented Generation (RAG)&lt;/td&gt;
&lt;td&gt;정보 검색과 생성 AI를 결합하여 더 정확하고 신뢰할 수 있는 콘텐츠를 생성하는 기술을 지원한다.&lt;/td&gt;
&lt;td&gt;대규모 언어 모델의 한계를 보완하여 질문에 대한 더 정확한 답변을 제공한다.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Observability and Model Evaluation&lt;/td&gt;
&lt;td&gt;AI 관련 작업에 대한 통찰력을 제공하고, 생성된 콘텐츠의 품질을 평가하는 도구를 지원한다.&lt;/td&gt;
&lt;td&gt;AI 모델의 성능을 모니터링하고, 잘못된 응답을 방지하여 시스템의 신뢰성을 높인다.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;</content:encoded></item><item><title><![CDATA[Redis]]></title><description><![CDATA[Redis 를 활용한 분산 lock]]></description><link>https://hyungkishin.github.io/basic/</link><guid isPermaLink="false">https://hyungkishin.github.io/basic/</guid><pubDate>Tue, 02 Apr 2024 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Redis 를 활용한 분산 lock&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[코틀린의 현재와 미래]]></title><description><![CDATA[코들린의 현재와 미래 코틀린을 배워야하는 이유 코틀린은 IntelliJ로 유명한 젯브레인사에서 만든 언어이기 때문에 IntelliJ에서 자동완성, 자 바-코틀린 변환, 코루틴 등 코틀린 관련 편의 기능을 완벽하게 지원 자바는 발표된지 2…]]></description><link>https://hyungkishin.github.io/kotlin/</link><guid isPermaLink="false">https://hyungkishin.github.io/kotlin/</guid><pubDate>Fri, 12 Jan 2024 00:00:00 GMT</pubDate><content:encoded>&lt;h1&gt;코들린의 현재와 미래&lt;/h1&gt;
&lt;h3&gt;코틀린을 배워야하는 이유&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;코틀린은 IntelliJ로 유명한 젯브레인사에서 만든 언어이기 때문에 IntelliJ에서 자동완성, 자 바-코틀린 변환, 코루틴 등 코틀린 관련 편의 기능을 완벽하게 지원&lt;/li&gt;
&lt;li&gt;자바는 발표된지 20년이 넘었지만 코틀린, C#, 스위프트와 같은 현대적 언어에 비해 기능 이 부족함&lt;/li&gt;
&lt;li&gt;자바에서 Best-Practice로 불리는 기법들을 언어적 차원에서 기본 제공&lt;/li&gt;
&lt;li&gt;자바에 비해 문법이 간결하기 때문에 가독성과 생산성이 높고 오류 가능성이 적어진다&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; email&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// equals(), hashCode(), toString() 등 유용한 함수를 자동 생성&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;object&lt;/span&gt; MyCompany &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 싱글턴 객체 &lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;MyCompany&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 탑- 레벨 함수로 클래스 외부에서 함수 작성 가능&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// `new` 키워드 없이 객체 생성&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;이상훈 &quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot; digimon1740 @gmail.com &quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;좀더 파해쳐 보자&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;문법 간결&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;data class 라는 기능을 사용하게 되면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;자동으로 equals, hashcode, toString 을 자동으로 생성함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;object 라는 키워드를 사용하게되면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;간단하게 싱글턴 객체를 만들어준다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;함수를 탑 레벨에 위치&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;탑 레벨 함수는 클래스 외부에서 함수를 작성할 수 있는 기능이다. ( 별도의 클래스 없이 작성가능 )&lt;/li&gt;
&lt;li&gt;반면 자바에서는 기본적으로 클래스를 만들고 그 안에서 메서드를 만든다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;new 키워드 없이 객체를 만들 수 있다.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;멀티 플랫폼 언어이다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;서버개발&lt;/li&gt;
&lt;li&gt;e.g ) 모바일 앱, 프론트 js, 안드로이드&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;기업의 개선점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;google 의 경우 npe 를 33% 절감 함&lt;/li&gt;
&lt;li&gt;그로인해 사용자 환경은 크게 향상 시켰다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;코틀린 타임라인&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;2016년 2월 코틀린 1.0 릴리즈&lt;/li&gt;
&lt;li&gt;2017년 1월 스프링 프레임워크 5.0 부터 코틀린 공식 지원 발표&lt;/li&gt;
&lt;li&gt;2017년 5월 구글 IO 에서 안드로이드 공식 지원 언어로 발표&lt;/li&gt;
&lt;li&gt;2019년 5월 구글 IO 에서 안드로이드 개발시 최우선 언어 (Kotlin-First) 발표&lt;/li&gt;
&lt;li&gt;2022년 5월 코틀린 1.7 베타 릴리즈&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;자바에는 있는데 코틀린엔 없는기능&lt;/h1&gt;
&lt;h3&gt;체크드 익셉션(Checked Exception)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;자바의 익셉션 계층&lt;/li&gt;
&lt;li&gt;Throwable : 예외 계층의 최상위 클래스&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Error : 시스템에 비정상적인 상황이 발생 예측이 어렵고 기본적으로 복구가 불가능 함&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;e.g) OutOfMemoryError, StackOverflowError, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Exception : 시스템에서 포착 가능하여 etc (try-catch) 복구 가능&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;예외 처리 강제 IOException, FileNotFoundException,&lt;/li&gt;
&lt;li&gt;@Transactional 에서 해당 예외가 발생하면 기본적으론 롤백이 동작하지 않음&lt;/li&gt;
&lt;li&gt;rollbackFor: 를 사용해야함&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RuntimeException&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;런타임시에 발생하는 예외 예외 처리를 강제하지 않음&lt;/li&gt;
&lt;li&gt;e.g ) NullPointerException, ArrayIndexOutOfBoundsException, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/bed4c7cee13c8413ce5eafe30d7203d6/a7903/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 62.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqUlEQVR42oWTyYoCQRBE+/8/xIvoRXQaFxQv4qUVFVEUcd9x37cYXkFJjz3DFCRdVZkZlRGZ7eiX9Xq9NJ/PNZ1OtVgstFwuNR6PdTwe9d9ySMb86/F4qFgsKpFIKBqNKhKJKJvNajAYGP/z+QzkvAHthiC7brebWq2WGo2GSqWSqtWqOW82mzeDPyvs9Xrq9/uq1+tqNpsGZLfb6XK5GDufz8Y6nY7xE0d8t9s1cZ8POFBJJpMKh8PK5/OG2ul0+hF4v99VKBQUj8cVCoVMrOu6opgAIGKPRiO1221NJhMjPhp+Nmk2mxk/1NFyOBxqv98HATmg3+FwCFSFQZsu46fLgHCHzlBGDn+es16v5ZU8uV+u0We1WpkKK5WKYrGY6TT02NMgHsfPFzA7Sm9AXmHeyuWyAMdIoDlom06nlclklEqlzIP+RZWfegfm0O5tFdfr1SRxb7Xly72VAGDOP+bQD2o1RbtarWao8udwRxxAGA3yPM/IBDB5zm/DSQUkAMIo5XI5IwuAJOHbbrfmb2LMmEvrc/6aeGggOlTY01lLi+77fezxQ/kboCPas0D9g6UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img.png&apos; title=&apos;&apos; src=&apos;/static/bed4c7cee13c8413ce5eafe30d7203d6/ca1dc/img.png&apos; srcset=&apos;/static/bed4c7cee13c8413ce5eafe30d7203d6/e7570/img.png 170w,
/static/bed4c7cee13c8413ce5eafe30d7203d6/f46e7/img.png 340w,
/static/bed4c7cee13c8413ce5eafe30d7203d6/ca1dc/img.png 680w,
/static/bed4c7cee13c8413ce5eafe30d7203d6/02d09/img.png 1020w,
/static/bed4c7cee13c8413ce5eafe30d7203d6/a7903/img.png 1219w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;java 에서 체크드 익셉션은 무조건 try catch 로 감싸줘야 하거나 throw 라는 키워드로 예외를 전파하지 않으면 컴파일 에러가 발생.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slepp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;InterrupedException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 예외처리    &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;kotlin 에서는 체크드 익셉션을 강제 하지 않는다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;그러나 원한다면 가능하다.&lt;/li&gt;
&lt;li&gt;자바에서 의미없는 체크드 exception 을 지양하는듯해.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;기본 자료형&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;자바는 원시 자료형을 지원하며 객체로된 레퍼런스 타입도 지원한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt; ii &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; str &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ii&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;코틀린은 레퍼런스 타입만 지원한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; str&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;코틀린의 레퍼런스 타입은 최적화된 방식으로 컴파일 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;int i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
String str &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;--&lt;/p&gt;
&lt;h3&gt;정적멤버&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;자바는 static 키워드로 정적멤버를 선언한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JavaClass&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;staticMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;코틀린은 companion object 로 대체&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; KotlinClass &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;companion&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3항 연산자&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;자바&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; animalSound &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;호랑이&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;어흥&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;야홍&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;코틀린은 if else 로 대체한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; animalSound&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;호랑이&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; animal&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;어흥&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;야홍&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;세미콜론&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;자바는 무조건 ; 세미콜론이 붙지만 코틀린은 안붙는다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;Boolean&lt;/span&gt; isAdmin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAdmin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; isAdmin&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Boolean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAdmin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;코틀린에는 있는데 자바에는 없는기능&lt;/h1&gt;
&lt;h3&gt;확장&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;개발자가 임의로 객체의 함수나 프로퍼티를 확장해서 사용할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Char &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addFirst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;char&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Char&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; char &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ABCD&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 출력 A&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ABCD&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addFirst&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token char&quot;&gt;&apos;Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 출력 ZABCD &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;데이터 클래스&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;데이터를 보관하거나 전달하는 목적을 가진 불변 객체로 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; age&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Int&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// hashCode(), equals(), toString() 자동생성됨&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 이외에도 copy(), componentN 도 유용함.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;기존 자바에선 주로 lombok 을 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// jdk 15 에선 record 라는 이름이 추가됨&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; record &lt;span class=&quot;token function&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;String name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; int age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;--&lt;/p&gt;
&lt;h1&gt;문자열 템플릿&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;문자열에 변수를 사용하거나 여러행으로 된 텍스트 블록을 사용 할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; text &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;World&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; greeting &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello, &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;println(greeting) // Hello, World&lt;/p&gt;
&lt;p&gt;//  문자열 템플릿 기반의 다이나믹 쿼리
fun sql(nameIncluded: Boolean) =
&quot;&quot;&quot;
SELECT id, name, email, age
FROM users
WHERE id = :id ${
if (nameIncluded) {
&quot;&quot;&quot;
AND name = :name
&quot;&quot;&quot;
} else &quot;&quot;
}
&quot;&quot;&quot;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;### 기타
- 스마트 캐스트 실드 클래스 (Jdk15 추가)
- 위임
- 중위 표현식
- 연산자 오버로딩
- 코루틴
- etc


# 공식문서
- https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-servlet.html
- 공식 문서의 샘플 코드를 보면 kotlin 탭을 제공

![img_1.png](img_1.png)

# Spring initializr
- 기본 언어로 코틀린을 선택할 수 있고 코틀린인 경우 Gradle Project를 선택하면 빌드 설정 을 기반으로 생성해준다
- Spring initialzr 를 통해 생성된 build.gralde.kts

```gradle
import org.jetbrains.kotlin.gradle.tasks.KotlinCompile

plugins { 
    id(&quot;org.springframework.boot&quot;) version &quot;2.6.7&quot; 
    id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.11.RELEASE&quot; 
    kotlin(&quot;jvm&quot;) version &quot;1.6.21&quot; 
    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.21&quot;
}

group = &quot;com.example&quot;

version = &quot;0.0.1-SNAPSHOT&quot;

java.sourceCompatibility = JavaVersion.VERSION_11

repositories { 
    mavenCentral() 
}

dependencies { 
    implementation(&quot;org.springframework.boot:spring-boot-starter&quot;) 
    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;) 
    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;) 
    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) 
}

tasks.withType&amp;lt;KotlinCompile&gt; { 
kotlinOptions { 
        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;) jvmTarget = &quot;11&quot; 
    } 
}

tasks.withType&amp;lt;Test&gt; { 
    useJUnitPlatform() 
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;코틀린 스프링 프로젝트에서 필수적인 플러그인&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;kotlin(&quot;plugin.spring&quot;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;코틀린 스프링 프로젝트에서 필수적인 의존성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;org.jetbrains.kotlin:kotlin-reflect&lt;/li&gt;
&lt;li&gt;org.jetbrains.kotlin:kotlin-stdlib&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이외에도 plugin.jpa, jackson-module-kotlin 등 프로젝트를 구성하면서 필요한 플러그인 과 &lt;br/&gt;
코틀린 의존성이 있고 Springinitialzr에서 프로젝트를 구성할 경우 자동으로 세팅해준다&lt;/p&gt;
&lt;h1&gt;스프링 부트&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@SpringBootApplication class DemoApplication

// fun 탑- 레벨 함수이므로 클래스 바깥에서{ 호출
main(args: Array&amp;lt;String&gt;) {
    runApplication&amp;lt;DemoApplication&gt;(*args)
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;@ConfigurationProperties&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;스프링 애플리케이션에 지정한 설정을 기반으로 설정 클래스를 만들때, &lt;br/&gt;
@ConstructorBinding 을 사용하면 setter가 아닌 생성자를 통해 바인딩 하므로 &lt;br/&gt;
불변 객체를 쉽게 생성할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token annotation builtin&quot;&gt;@ConstructorBinding&lt;/span&gt;
&lt;span class=&quot;token annotation builtin&quot;&gt;@ConfigurationProperties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-literal singleline&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;example.kotlin&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 

&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;KotlinExampleProperties&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; description&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; myService&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; MyService
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; apiToken&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;val&lt;/span&gt; uri&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; URI
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;테스트 지원&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;기본 제공되는 Junit5 기반의 테스트를 특별한 설정 없이 그대로 사용이 가능하다&lt;/li&gt;
&lt;li&gt;모의 객체를 만들어 테스트하려면 Mockito 대신 MockK를 사용할 수 있다&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[CPU Bound 와 IO Bound]]></title><description><![CDATA[문득 java 21 이 등장하면서 virtual Thread 가 hot 한 지금..  한물 간다는 webFlux 를 공부하는게 맞을까 ...? 아니다... 왜 사라지는지 확실하게 짚고 넘어가는 게 맞다... cpu Bound 와 IO Bound…]]></description><link>https://hyungkishin.github.io/cpu-bound-vs-io-bound/</link><guid isPermaLink="false">https://hyungkishin.github.io/cpu-bound-vs-io-bound/</guid><pubDate>Fri, 12 Jan 2024 00:00:00 GMT</pubDate><content:encoded>&lt;h1&gt;문득 java 21 이 등장하면서 virtual Thread 가 hot 한 지금..&lt;/h1&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ef44c1322d4232b1a1538b78df1955f2/4a1c5/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42p2SzW8SURTF57910ZUfG9dGg9ou3JSycjPVmhCIBNhoqhUHBKkxfGioBGuhfBQY7Lw3TJl57/0MQxd248Jzc3Lv4uaem3uuBQZjNHG+DmL+HyytFcYYlFFoozBao3S0GW02XON3MGfo/WIqh4zFGRdiwEQMGHtnTLwB/VmPMFphzYMB/WWb8bJL16vHdf+qSaBkPGgtskahvc+Dt7d49vE+Dw+3ePz+NttHd3l0uMXO0T2evrvDTI6xhPDonLa4FAs8f0Gn+43alyrT6QVCCKSUjIYjZOAxExMm7jljt89kMaA/+cnpqMtcTnH9GUorrGazyfaTHWx7n4ODV5Q+lNhL7lHI59lN7pJIJMhkMvGWKrxiVX9J9Nkmqr8gqjwn+v4G/fcNG40GyWSSarVKrVaj1WqRTqfp9XpEUYTv+ygVxc1huKLjFPjh5OmWi5yUXnPert6w0HJdl2KxSC6XI5vNYts2qVSK4+Pj6xtu9CMTsgyWOJUaZaeM41QoOZ/42mihlIq5NtD61wvcdHmG9AVKG7Q/Z3npEoYhUnhI6RMEAVpr/gAz8EmYTNRKeQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img.png&apos; title=&apos;&apos; src=&apos;/static/ef44c1322d4232b1a1538b78df1955f2/ca1dc/img.png&apos; srcset=&apos;/static/ef44c1322d4232b1a1538b78df1955f2/e7570/img.png 170w,
/static/ef44c1322d4232b1a1538b78df1955f2/f46e7/img.png 340w,
/static/ef44c1322d4232b1a1538b78df1955f2/ca1dc/img.png 680w,
/static/ef44c1322d4232b1a1538b78df1955f2/4a1c5/img.png 808w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3&gt;한물 간다는 webFlux 를 공부하는게 맞을까 ...?&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;아니다... 왜 사라지는지 확실하게 짚고 넘어가는 게 맞다...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;cpu Bound 와 IO Bound 에 대해서 알아보자&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;단순 cpu 를 쓴다 라고 끝나는게 아니라, 다수의 데이터에 대한 집계 혹은 암호화 등 cpu 계산 능력에 따라 성능이 좌지우지 되는 능력을 말한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;아래 그림을 보자&lt;/h3&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6e275cab280b992148a92b7002ec6959/a9205/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABl0lEQVR42o2TyYoCUQxF/f/PceHCnSvBWdByFlQQnMp5Hm5zIimqq0U6cM0zU+Xd5KWez6cul4uu12ukz+ezNpuNttutwjC08/F4NNxuN4tL5qDxpSTp9XpFQHCMRiNNp1OtVisNBgP7j9BAPD4JK5iU0+lknVGw1+tpNpupXq9HBb/Jx4JcOQgCQ7VaValUMv2vgiTvdjvr6nA4GOCq0+mo0Wio1WqpVqtZl84jMfv93nJce651CKkE4nDc73c9Hg/TcOPDoIF4nAO7cchPv9/XfD7XYrEwcKYjBwMZj8fRoDwWDdbrtd0Gf4ouhsOhfNpJ8Q9SsNvtqtls/vEjbEKlUnlfGY6KxaLK5fJHFAoFGwzI5/O/fNjYgGw2q8lk8i4IT3EOnfw4R277xCF2+I320Kfmk/IgbMCLoIHb4+BV2Uthr+AGIxyk02llMhm7Bk8OsNxwxApxZs0oAPDzEYZCHRsKwQjBkM4A2u22nA7OxLDoJHE1GgHkI9iZhV2ZQIinQ14E4OyDIBCba7c7iM3lcloul/oBp0Ee5FxfZ5YAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_1.png&apos; title=&apos;&apos; src=&apos;/static/6e275cab280b992148a92b7002ec6959/a9205/img_1.png&apos; srcset=&apos;/static/6e275cab280b992148a92b7002ec6959/a9205/img_1.png 150w&apos; sizes=&apos;(max-width: 150px) 100vw, 150px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_1.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위 그림을 보면 &lt;code class=&quot;language-text&quot;&gt;application 영역&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;커널 영역&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;하드웨어 영역&lt;/code&gt; 을 계층화 하여 추상화로 나타낸 그림이다. &lt;br/&gt;
여기서 동시간에 하나의 명령어를 처리할 수 있는 CPU core 가 한개 있다고 가정해보자 &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;application 은 실행되는 프로세스라고 보면 된다. &lt;br/&gt;
이때 물리적인 cpu core 에 명령을 내린다고 가정해보자 &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b089bdc2e345bcf57199cf4921387633/a9205/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJ0lEQVR42o1TXY+aUBDl9/cXtG9NX5pNs6nbXbE+kW1SV1hxo4m6Kn6hggqoIAKKeJoZRakPTSc5zOTeucPcc+YKSZIgiiLsdruLD8MQq9UKnudhvV7DdV1st1vGfr/nvNsz5GlPAIDj8XgBGW32+31MJhMYhoF2uw1N03iPGsjm34IL3loQBFgulzCmU3Q6Hcznc9RqtUvBf5mQdpU16lBVVbyqKmRZhiRJqFar/1eQ+CKuqCvf9xkUTycTjLsdvvZwOGQuaS/lMs1LfbompFfcbDYX+EGAYOlgK4kI4wPisxD089vcyxnf5+4F+hBPxJnjOHBsG47rwtI6mBcfYHseBv0+RqMRCzMej095Z9i2zQXr9TparRaEw+GAwWCAVG2cOU2WFmLlF8c9TYOu61yw2WxeczO+1+txUb4yKVgqlVAul09QFMjPEt6+fka5+gb55QWKojD+ymPIeK1UUCwWYZrmdQ6pU0Yc40BKqyX4nz5g77mIDwkPLeGSR0iOiLc+I8nOIXGxWCyYD9u2sNr4mMi/8f7lI2aGAde9vhjylmWdYNuYmyYWsxl3R6IJcRyj2+1iv49RqVSQy+VQEEVU63UEAMJoxy+Fcog/8lFEzzNiBGHIHDabrasoNGdk9DIopk7Hun4e5CN0fYTZzGTxSOWsZUVpNBoQplMTkvSM+/vvyOcLEMWfeHwSOc7lfjAofsoXkBdPPl1P8fDwiLu7b2g03vEHB0YUlvIIcJEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_2.png&apos; title=&apos;&apos; src=&apos;/static/b089bdc2e345bcf57199cf4921387633/a9205/img_2.png&apos; srcset=&apos;/static/b089bdc2e345bcf57199cf4921387633/a9205/img_2.png 150w&apos; sizes=&apos;(max-width: 150px) 100vw, 150px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_2.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그리고 어플리케이션이 N 개가 더 추가되어 단일 CPU 코어 1 에 각각의 작업을 동작시켰다고 가정해보자. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 152px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b0cbc64ed9ade5e77d212f4214a0642f/6ccad/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.42105263157895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuElEQVR42nWTyW/bRhTG9Qfn1FMvubRArznkkFPQnhqgAYImQFw3riOltbVYgiRbC2lS4iJK4iaYEmWtpPwr3sgxihYd4IHzlvnm8X3fFLIsY7VaKVsul6Rpyna7Vf79/b2KiUlM/K+1st9sNion+69+QZKO4+B5HlEU4fs+mqYxGo2YTCYqJjnTNMnz/Mn2+706N51MiKMI13UZDocUBHUwGLBer+n1eiR3d1SrVQWyWCzodDqq63q9rkCSJHnqWi4LghDdHDBPEmq12hFQ13XCMKSv3zLxfYrForotCAJ1iXRdLpc5HA7qYvl9+dqOw9h1MUpnuN6Y8uUlBUmahsFFpUL97JTL0xPqzRZav8df1SrNj++5ePszN5rGfrdTc5Iz282GVrdH5de3dH56RalaU2cKDw8PZPs9ObC+qbO7rpEB29XqGOu1WXcaKrZM0ycSlovFsa5SJNW7HIA8yygAal7TMGKi95m+f0OYzAmnU4K7BL/yhemXTwTJHF8IiGM1O7EwCJj88iP+2MMbj7m9vT0CyrwOufQD+9JHWC54WpaO+/sHBt4Y17Fpt9vqd2U9+B778h9qL7Hz8/MjoCDLHF0/QD87YXzyDmd2hz0a4V6UME8/oA0tBqZJq9ViYBg4YYT3+TfM4ifcIETTdC6FFAGUuYjOpNPh0MJ68R3G65cYlo3+w7dYz59h9rpYtoNjW1i2rfzh998waFxhjUYYN20lKQUochAGM5HFLMJ785q4+qciJeq2CR73h0dRZ3nOJk0JmjU2y1T522WqcBSgbdtKazLwMI7w5wtFTBQEzOYLxlGMNRxiWZaqFX1G8Yx4sSSKY2ZxrEhpNptHQCnMH0n55xJJyRq5rnpNUnd9fc1ut/tPrWizVCodAQ3DUOzJq+h2u/9rkpen+O94v9+n0WhwdXXF3yYHAyBDAeS4AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_3.png&apos; title=&apos;&apos; src=&apos;/static/b0cbc64ed9ade5e77d212f4214a0642f/6ccad/img_3.png&apos; srcset=&apos;/static/b0cbc64ed9ade5e77d212f4214a0642f/6ccad/img_3.png 152w&apos; sizes=&apos;(max-width: 152px) 100vw, 152px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_3.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이떄 CPU 코어에서는 동시에 실행한 것처럼 보일수 있다 &lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;그럼 동시에 &lt;code class=&quot;language-text&quot;&gt;병렬&lt;/code&gt; 로 처리한걸까 ? &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 236px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/612d41b26b474498aeae0c636d5de8cd/f6a20/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 66.47058823529413%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADo0lEQVR42gXBa09TBwCA4TNvlHJglFIo0Pa0QGkLpaWUFiiBUkABuRTEgREQmCWKE9gUhwiRIRXNmIRFGFhcQB2Zi9HAsiU4iPrBhYw4lyUDk01YnCTLlv2Hd88jRBjqkUt1hOuqCdPVIddVE65yEx6XR4TkR+74iD3uYfba+gg31COT6jhg6kTl6EHKDqCzHSfJ2oTafBRRfwRBHu1EVLpQad3oLaUoDaWICT7kqnzkKg+ippyimnPkV3+ImNyATFuL1hnAV36CHHsupmQLGSkWXBlOrPYKBLntFNHJpdT6yvhx9jpnGo8To3ETGZ3BflkKvoISvg1N8PW1QczpPg6ktpPl8mM2ZqBUaDFr0khUaYhVarAa7QhRRUMYUuzMnu3gv3vjrIz0YbPYiTRUEi0VE6gs5saZZoYaK2nwFqFI8mJNLyQ2Jp6O6iqejF9hprcTa4oRdZweQWZpw2rO4WHvSSYb61i9cJoaj5d96e+TkH+a4ZYaRk620H6omGZvPonGMpKlbGKjE1gevcSv00H+mA7SdciHGKVGkJUESXVU0+5yMtHg57zXS2ZaHvtMAey+biqcDirdDnz5brLS0jDkdhGr9WKRjPTUHuH+QDe3zwY4aHWgVWoQoka3kJ9bIzndQ7XJQK7JRrj/BnuPLaOsmceW6kavVKKLU2HUmpGlBzhgbEcteXCYHbgkE1l6C/FqHZLkQhACLzD0PqXM4yNfJ9GWY6NtYIaEi5t83j1Gg9lCokJFkiKGgjgtk+4qTMUXSTJ20FPaRJO3gmMl9XTkVKHI7ERovDDB9x8UMlOcQJNRzxfFelY7XKw1VfBvgY5FtRKnOhGVSs2Vd2PYSYjheflBFjNsLJ76hN7BWYJj86z56rkZkYLQN1HAE7+aryqtTNvjeZiVxE6ehm2DnOeyMH4R5dwWRS7JRTYUEWyEi2xGvMPPGpGn/veYnLrP1MJjvssr5ac9AoLUk8qDinimnQY+yzbwej7Eiyw7260tbHvy+Dt0izfDQ2yVFPI2OMrboQF+b29n69pV1j8+z9zoLBN3XzJl8/AgbD9CrD+RhVI1QV0kXdZ0dtfXeXXvLn+F5tgNhXjV3MTOyGV250L8s7zEmzsLvA6F+POHVZ5dHmSqqJK2nlv06zOYCBMRIkriyXTFEZUZSUtRNo/7+/my8Sibjx7xzeEKfruzwMan46y0nuDZ1SA3lUrmHTm8XFpiZWyUaXsWVc7DtMZJtMkV/A9xWPjIdNstSwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_4.png&apos; title=&apos;&apos; src=&apos;/static/612d41b26b474498aeae0c636d5de8cd/f6a20/img_4.png&apos; srcset=&apos;/static/612d41b26b474498aeae0c636d5de8cd/e7570/img_4.png 170w,
/static/612d41b26b474498aeae0c636d5de8cd/f6a20/img_4.png 236w&apos; sizes=&apos;(max-width: 236px) 100vw, 236px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_4.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그렇지 않다. 동시간대 하나의 명령만 처리 할 수 있기 때문에, 타임 슬라이스를 아주 잘게 나눠서 잘라보면 &lt;br/&gt;
실제로 어플리케이션 1 번과 2 ... N 번이 번갈아 가면서 실행하게 된다. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;이렇게 번갈아 가면서 실행하는 과정을 OS 에서는 Context Switching 이라고 한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;실행관점에서 문맥을 바꾸었다. 라는 의미다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이러한 컨텍스트 스위칭 (ContextSwitching) 작업들은 CPU Bound 어플리케이션 에서 성능 저하를 가져오게 되는데 &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;그림으로 보면 아래와 같다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 444px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/57544796c1d07c17bb2a7706bb80b229/39d25/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 59.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVR42jWT2Y6jMBRE+f9/GM3S6ihJd0LYN2NjAoawBcjay3xLjXzRPFzBg3VcVbdsOKKCI2o4skGkzojUiLiaEFUjvLyFLxu4WQ2LK1hpCZcr2GmJQ3LEmy+wsiK87F383tr4sXqDYcZHHJjCISlxiEvE9Qze3ZHUM8Kip3FFDTMpsHVTmFFOlzipwj6SWDsMKyvAy97Dr80Bhs0XhRq8D3PE1QgxPMGaC8JygH/s4coGdqronC0qAnq8gqVVeinWToyVFeLPzoFBNqsRaXuF6O+Q0yfy6ROifywqywEhRXFGXE9ImguCckCQN/BERSrfA4Gtx/B6CGAk9QR20jZvyIYHwY7TJ+T4geQ002UapLMNioEu0N+g1FFUePc5wRaVAYyoGOBnDYJjT5P1d5TXv+D/FZKDCRavCa7HyRokp4liejUDbF2Gtb3YNtzshF2Qw+U1EjWC1TMp1JvW/57s4OcdLc2MCzhpRf+8u2If5di4DG8eJ+DajmB4WUPB8+YKqTMcHigv3yjmLxTa+vCkOLTltLmANxckOvPTDIvpZuQwI4ldILBxEr2UkQ4n1Yy0uUJ0dxTTF8r5i5TqXMXwADtdINorZHeH7G9I1ICA6rNA9exCAUOX12K6Cj28rCN41j9JZT5+0LYzrbK5gNUTQVk9wpcnuLyCzQoqud72xk1guLJFSHZuiNWMWE0EKOZv5OfnorC/g+ltqzPZjtVSmwWqlj766VKbsDiTVf06eHuHPGubH5D9k5Ty9kYQps5LvTRc10i/orwlldrq68HHz42Jf4ogDrEYsPbYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_5.png&apos; title=&apos;&apos; src=&apos;/static/57544796c1d07c17bb2a7706bb80b229/39d25/img_5.png&apos; srcset=&apos;/static/57544796c1d07c17bb2a7706bb80b229/e7570/img_5.png 170w,
/static/57544796c1d07c17bb2a7706bb80b229/f46e7/img_5.png 340w,
/static/57544796c1d07c17bb2a7706bb80b229/39d25/img_5.png 444w&apos; sizes=&apos;(max-width: 444px) 100vw, 444px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_5.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;어플리케이션이 실행되어 메모리에 로드되고 프로세스로 동작하게 될텐데. &lt;br/&gt;
CPU 로 스케줄링 되어 실행될때, 기계어 실행을 위해 필요한 데이터들을 cpu Register 로 미리 가져오게 된다. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;그리고 ALU 를 통해 실제 계산을 진행하게 되는데 Register 에는 기존에 어떤 명령까지 진행했는지를 함께 저장 해 놓고 &lt;br/&gt;
필요에 의해 캐시를 해놓기 때문에, 동일한 프로세스의 일을 꾸준히 하면 할 수록 성능적으로 더 효과 적이다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 421px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7e52dfe9254b25ffb32a0ed696f69531/edfbf/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACfUlEQVR42kWTx3LjRhRF8fveeOWyyzWSRiLFAIIAARA5JyIQjBLHoqtk/8qZ6tZiFnfZB+8GKE5SIxTkLXl3IhPqz2TDhaQ9krYnkuaAl7c4WcM2qTDDHCNIWDker7rFy0rnca7y98sEZbHxWDsxhpux8TIJKcd3yv0b+XCRCsoe3U2Z6Q6qFeBmO6wwZ+2GLExHQr8vNb5NX1FU00ezI+a6y6u2JSwHdscfUsVwpdhfieuRbVxhRyV2WOCkNVZUsPETVNtlYW6ZaAaP8yWKlzZEZU+2O1DuLxLUXT7oLneaw4368C6heXeWkeTtScbjpg1WVMorVdtjZtjySsXPWuJ6T9GfJehw+5Qab580x1/AZHcgKHr8vEW8CfIO089YmC4zw+JFM3hWdRTdS1lsfFZWiJs0DNc7p3/+pz1/yPyK/kJUj9JuVA546U5mLVzNDYfHmcZEM3larHmar1D+eJjy2+9/8efDjMepRlQNdOcPnLjGDUu8rMXyclZmiGbHqGYgPx6WPZOVyYtq8H2p8zTXeJipKM/LDUKimI2XyiuOt0/6y11KZGbZEUHeE1UjYdFLJ362Y7FxpWXRsrD7tNBQDC/FDAqcpKHav7F/+5fDj//ornfSaiCpR9l2tjtKeNaeiKs926hCdyOWliMLmWibr1LEXCaqjZPssIKKpD58PawG0nok768yx6QZSaqRtBkRy9DdmJXjs7Rd5uaW6VrkqAqghxUUeFmHn3eyzbI/S7tfoIO8UsxE2AyLDjPI0L3oazJbTwLF3/IwW6BodihBwm4jB32jPd+p9u/EzUhYDfhFKyMRVgVcXGjHBYYfo2595pstz+qab9MZPwEIwPwPoFDKegAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_6.png&apos; title=&apos;&apos; src=&apos;/static/7e52dfe9254b25ffb32a0ed696f69531/edfbf/img_6.png&apos; srcset=&apos;/static/7e52dfe9254b25ffb32a0ed696f69531/e7570/img_6.png 170w,
/static/7e52dfe9254b25ffb32a0ed696f69531/f46e7/img_6.png 340w,
/static/7e52dfe9254b25ffb32a0ed696f69531/edfbf/img_6.png 421w&apos; sizes=&apos;(max-width: 421px) 100vw, 421px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_6.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;컨텍스트 스위칭은 위 그림과 같이 어플리케이션 2번을 실행시키기 위해 Register 정보를 초기화 하는 과정부터 시작한다. &lt;br/&gt;
정확히는 어플리케이션 1 번이 실행했던 기존 실행 정보들을 메모리에 별도 저장 해 놓고, 2 번 어플리케이션 데이터 정보를 가져와서 다시 Register 적재를 한 뒤 명령어들을 실행하게 된다. &lt;br/&gt;
하나의 CPU 에서 다수의 프로세스들이 번갈아 가면서 cpu 작업들을 진행해야 하기 때문에 성능상 오버헤드가 발생한다고 할 수 있다. &lt;br/&gt;&lt;/p&gt;
&lt;h3&gt;그럼 여기서 문제...&lt;/h3&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 149px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b45da70385f86e272b7739008009064f/4d6d4/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 67.78523489932886%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACsklEQVR42l2T207bQBCG85R9h0p9Ax6hV72pKnEDqqoKJLig9CAqaNS0OZGzE68dB8d2wIf4kMROnAOEv5oJCRUrWbM73n88/r/dTBRFcF0XjuPsYhzHu/U2lyQJ5yeTCabTKUd653kebNvmOeUyt7e30HUdvu8jDEMYhoFKpbIrFoUh+v0+er0eaKzXa47j8RiDwYALUlO0R1EUZCg5HA65EIlons1msVgsIISAYVksqtfrnKMPj0Yj3kcd9/QbdDWN17QnQ4XK5TI6nQ7askCpVMLV1RWvW60W1GYdxWIRkiRxZ6vVimMYBqi2JHRzv6BenCNfqaBWrSITBAEUTYOoXEM5P4WsqAh8H6qioCME1I/7aEsS+zOfzzGbzbjTJJ5AGBa6RwcQP79B3OgYeh4y5MliucQ0jpF8+cwiAkBxTsIfJ0hnMwaxhUL+0UO6yddjxGGA5WrF/mbI0BtNwzhdwD47QqAJRHGMMAgQRhG8k0NYpsmkLctirwhUlEwRCgnO2RFG8wUMXWdb+Jddx2Ff7nUV6+vfPH9cP3BMzo8h5A5c14Msy1BVFduxrv3FfU/eUI8ihskdFgoFKEKgLkmQ99+h22pA6sjoNBvQDt6jVasyJOqgVquxp21NQ/fwA5rlEoSqolAsodFobDykY+HYd3CCEPbld5h7r3HXVWDkLmG9eQXj+BC2H8CxbXiOAycaYZC9wODtHhxvyHbYvS6Wy+WmIJFL0xRpOoeTu4R++onBJLMUZvEPRkMPq4cHFmxgLRHZd7AV+UmXIhmPnqFomsb0yM8gTuDPUr41URjBH8cwTAt9XeeDTxeBgY3GiOKENUS8bxhoNptPUFx3A+LxcWc4nubzNOUrRYTpoJumif/HVkO3J5fLPUNpt9v8BRK9fAgGQdmCefme8vl8no/NP9jl/VU7mOUWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_7.png&apos; title=&apos;&apos; src=&apos;/static/b45da70385f86e272b7739008009064f/4d6d4/img_7.png&apos; srcset=&apos;/static/b45da70385f86e272b7739008009064f/4d6d4/img_7.png 149w&apos; sizes=&apos;(max-width: 149px) 100vw, 149px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_7.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위 어플리케이션 들을 어떻게 실행시키는게 가장 빠를까 &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;하나씩 순차적으로 실행하는게 가장 빠르다 ( 너무 당연한가 ? ) &lt;br/&gt;
컨텍스트 스위칭 이라는 오버헤드가 있기 때문 &lt;br/&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;어떻게 하면 CPU Bound 상황을 효과적으로 만질 수 있을까 ?&lt;/h3&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 459px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/acedc744de8087b941c062aa1cf2222a/e38a7/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYElEQVR42jWTyXbaQBRE+f5s4iw8JB4gNgZim1ECJBCahWYkMWOISb7k5qiTLN7pVd+uqldd8bIt8eYkJtmcyA9n4s2RZHPEz3eEywPx+ogZ5WhegmL5jM05I8PmRR7z1O7x0PrB7VOd64cqFTfdUEKj1VFcTLc/seMVZpihzxdYUU6yPTE0PCTNYjAxkWcOY9PlbajQ7MvUO12qrRY31RoVaerwKk1RrQDDz1jsPvAWa5y4wApz5tkav9gycUImbsjUi1Btn6Fh8zpUeB2OafYHVJstbkqFdrIS1rL9B8vjb4r3M+n2RLo7Ea4OJNt3wtUGv1hjJzm6H6MHMSPTpj2e8CqPeGq3heWru3sqfrEX+eWHX2SHs8gw25/x8z3B8kC0Ks8N83yNFefM/AjNC0SG7bFCo9en9uOF28cnLm/vqMzmKaoVYkUF6e5DZFk+4i42IksvW+GmBU6aYwQJUy9EtT1k3RR2nztdvpfA/wqtKMMMFyK3cPUuQE66FqN5MXZSYISpUCZrFl1lhjyz6Kma2HKzN/gLfKxzXQKD5Ra/2AlYsNwLVXqQoToRY9NHD1KseIEZpYwNV8AkzRQbbvUl6u0OV/c1Lu/u+Xx5VVqOKW1LmsvUjUTX5Jkntj5xIka6h7tYYscZfVWnp2jIM5NGZ0CzJ9Ho9gX0odHka1kbw48ZzlzRL8WaC0hZ3IkboDo+qhNghAuMIEWamnQVTUDfZIVmt7T7Rq31Ijp4cfVPYalsIi779FSLkTHH8MvcElQ7QBE/wxWWBxNdwNojlRdpSKPT467+zJebb3y6uOAPVBDGQpDy4U8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_8.png&apos; title=&apos;&apos; src=&apos;/static/acedc744de8087b941c062aa1cf2222a/e38a7/img_8.png&apos; srcset=&apos;/static/acedc744de8087b941c062aa1cf2222a/e7570/img_8.png 170w,
/static/acedc744de8087b941c062aa1cf2222a/f46e7/img_8.png 340w,
/static/acedc744de8087b941c062aa1cf2222a/e38a7/img_8.png 459w&apos; sizes=&apos;(max-width: 459px) 100vw, 459px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_8.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;흔히 말할 수 있는 정략은 위와 같이 병렬 처리 되어야 효과적이다. &lt;br/&gt;
동 시간대 각각의 명령어를 동 시간대에 처리할 수 있기 때문이다. &lt;br/&gt;&lt;/p&gt;
&lt;h2&gt;I/O Bound 란&lt;/h2&gt;
&lt;p&gt;입출력 장치의 중점적인 작업들을 말한다. &lt;br/&gt;
대표적인 작업들은 키보드와 같은 사용자 입력, 디스크 파일 복사, 네트워크를 통한 데이터를 주고받는 행위들을 모두 I/O 작업이라고 한다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7497709726e6ffd838d7bac55b9c7970/c42ee/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjUlEQVR42i3Q25KaUBCFYd7/CVKpisk4ZjQiqHhAwL1B3JyPwmhiknf5UzC56Kq++nr10l6nnzDMKbat47prhLCQck8UeaSpIM99qioky3y6LuF2i+n7hMcj435Pee8TilwixQZjNUGbzT6zXH7FcUzEeYuUO8LQHrEBquvrOGkq6buE57Pkfv+PvSeUhU8ae1zDI66jo83nXxjG2i7w5R7X3RAER/I8GNOoq4u6eniuRaQ8mjoiVmey4UCf0PcxZRkQRyekWKMt5hNM45XdboEQO5RyuQQ2aSLJs4A08VGhiy8OxNGZtorpbglNrWgbRZqcUaGNFFuck45m6C8Y+hRDnzH/PsGXB9JYUmQBTaN43PMRT2Mx7n//tPx+VvS3mLZWFJlPEjn4wsKxdTRTf2G7fuN0XLGzFti2Mb5WVx/dVUXI2bUQnjV2OKQb4K6NqKuQpr5QlT6RsvFcA81cfWNjzrAPSw7WD7bmG1LsR7C/JbRNNKa4+AeaMuT5sxwTPn8V9N2ABpS5/AA9nX97I8cL4f9B+wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_9.png&apos; title=&apos;&apos; src=&apos;/static/7497709726e6ffd838d7bac55b9c7970/c42ee/img_9.png&apos; srcset=&apos;/static/7497709726e6ffd838d7bac55b9c7970/e7570/img_9.png 170w,
/static/7497709726e6ffd838d7bac55b9c7970/f46e7/img_9.png 340w,
/static/7497709726e6ffd838d7bac55b9c7970/c42ee/img_9.png 486w&apos; sizes=&apos;(max-width: 486px) 100vw, 486px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_9.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위 그림과 같이 client 와 server 는 연결이 되어있는 상태이고, Hello 라는 문자열을 네트워크를 통해 전송한다고 가정해보자. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 490px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8af848b5bb126f9f142974ff9db36627/ce5c5/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 72.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/UlEQVR42j2T6XLaSBRG9ch5gKm8xNRMVWzH44XFgEEIhBYESGhHiEWyBCTg2BPPe5yp7krlR1d1949T5977XaXff0DXuziOJo/rTghCmyh28JYGfmARJw5x7JCkc5JkTprO5TuV/zbbjUex91h6AxRVbWCafWaz8W9YnMzIMpcwnBLHM1aZS7b2SJKZhKXpjCiy5VsAV6nDS+lTVz6KYfRwnCGuZ7BcmqxWC7LMY7cLCQNhIcAOm01AfcjZFzHbrS8NxQkCgyg02W5cjocQZai2aTX/YTTsYFtD1muP/T6iKBLWmc8mD8nXvgRWVca3b1uOp5zNZiltg8AkWOpkqxlVFaCYRh/DeGbmjKWhsCvLlKpacTjklGXGfp9S12tOpy2XS8nbW835XFC9pEShhb/UiSOLsliiTCZd5vMxnmcSRY7s2W4XSZvLueTHay3vx+OG10vJ+/uR/z6+8/HxnZ8/TxRFROBPWCVTDnWAMhq1peFioRMEtgSLSeb5Ulr++37k9fJCXa841Gtpdj7vOJ/3XF5LDvVK2iWRRS1KVtUmmtbGtlW8X4MRQNc1mdoj8tyXpgJUFrEsU1i9lDGH45qyiIhDU0KLwkPpdu5oPt4wHndkbOSkUxdvYeD7FpGITuRwOua8/ai4nPdU1S/oS8Ju58sph8GE/X6B0u3eMVSbiF5ObVX2U5QuepmmCxkN8b/O3N8ln04bqiqh2Idst0uS2GbpDckyC+WpdUO/d486eJRQ2xrIjRFgARWBH2lPLGZikjOOx1yWLkrNswVJIsJv4bkqUaihdFs3tB6+0Hj4gtp/ZKJ3sMw+ljXANgdM9B7a8AnLVOVm7HYBgW/jia3yTRkZz9WYTnvMnS5Ku3nN/e3f3F7/Se/pK2OthWU+YxnPjLWOPP3eA7alskoXRKEjgYEv8mdgG32m1jNq/47e0xVKp31Nv3dLp3lFp3GF+nyPPmqjqQ20YYuJ3mU4aDDSWoRiKzwTb6Ezmw4x9B5Te0Dg6zQe/uLzH5/4H2TFjQzOBD4GAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_10.png&apos; title=&apos;&apos; src=&apos;/static/8af848b5bb126f9f142974ff9db36627/ce5c5/img_10.png&apos; srcset=&apos;/static/8af848b5bb126f9f142974ff9db36627/e7570/img_10.png 170w,
/static/8af848b5bb126f9f142974ff9db36627/f46e7/img_10.png 340w,
/static/8af848b5bb126f9f142974ff9db36627/ce5c5/img_10.png 490w&apos; sizes=&apos;(max-width: 490px) 100vw, 490px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_10.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;NIC ( Network Interface Card ) 장치 는 네트워크 패킷을 주고 받는 역할을 맡고 있다. &lt;br/&gt;
Client 가 전달한 Hello 패킷을 Nic 장치를 통해 전달받고, 커널에서 네트워크 프로토콜을 진행하게 되는데 &lt;br/&gt;
서버 application 입장에선, Kerner 에서 패킷을 전달받기 전까지 &lt;code class=&quot;language-text&quot;&gt;대기&lt;/code&gt; 를 하게 된다. &lt;br/&gt;
Nic 장치 로 부터 패킷을 받고 커널 까지의 과정 또한 CPU 사용이 필요한 영역이긴 한데, &lt;br/&gt;
application 관점에서는 패킷을 수신 완료까지 를 대기하기 때문에, CPU 를 중점적으로 사용하지 않는 상태라고 볼 수 있다. &lt;br/&gt;
만약 패킷이 오지 않았다 라고 가정한다면, 해당 서버의 프로세스는 계속해서 대기를 하게 되는것이다. &lt;br/&gt;&lt;/p&gt;
&lt;h2&gt;Web Application 서버 관점에서 어떠한 I/O 들이 있을까&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d0904df234446f503d521c51cd16e459/58299/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 23.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVR42h3P3VKCQABAYd5/uqmbZuzCn3IsSdPVBFEWWJCFBSHEbLLe5TTxAt+cYw1HPZ5fhkztR8TKRikPFe9Qasch9dFZgCljyjLheDxw+ar4/m5Ikj1FqYiTLa47Y7kYIxZPWKPHB+zXJ5ZiihB2h4XBlvVqTqoDsjxE64Cq1pg8pmkMPz9nYrWnrlN06uM6c14mfcaje6y72xsGgx6L5RSxmuH7G/a7Dd52jZQucbwnSXzyPKJtC67Xht/fM5dLSXvOaU4aY0I276+I5RhrOOwxmQx4WzzjOG/dSiCdDo1CjyyLOuwfro4pdZV1paF0KIzC2wqkv0ap/wgbq9+/78D5fML6fUYYupgiJjeKjw/N5+XIqTUdemqLrrKuNOlB0jSaLJNE0QYpBZ5n8wf/XEGY5ElECwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_11.png&apos; title=&apos;&apos; src=&apos;/static/d0904df234446f503d521c51cd16e459/ca1dc/img_11.png&apos; srcset=&apos;/static/d0904df234446f503d521c51cd16e459/e7570/img_11.png 170w,
/static/d0904df234446f503d521c51cd16e459/f46e7/img_11.png 340w,
/static/d0904df234446f503d521c51cd16e459/ca1dc/img_11.png 680w,
/static/d0904df234446f503d521c51cd16e459/02d09/img_11.png 1020w,
/static/d0904df234446f503d521c51cd16e459/9d567/img_11.png 1360w,
/static/d0904df234446f503d521c51cd16e459/58299/img_11.png 2902w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_11.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그림으로 보면 클라이언트로 부터 전달 받는 http 프로토콜을 처리하는것도 web Application 에서는 network I/O 이고, &lt;br/&gt;
Web Application 에서 비즈니스 로직 이후 DB 에 쿼리하는 영역도 I/O 이다. &lt;br/&gt;
또한 DB 시스템에서 데이터를 조회하고, 삭제하고, 저장하는것도 I/O 라고 볼 수 있고, &lt;br/&gt;
Web Application 에서 외부 API 서버 요청 에 대한 것도 네트워크 I/O 가 발생하게 된다 &lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;하나의 웹 서비스 에서도 I/O 작업이 여기저기 산재되어 있는데, 반드시 인지하고 있어야 할 개념이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;만약 클라이언트로 부터 많은 요청이 들어오게 된다면, 어떻게 해야할까&lt;/h2&gt;
&lt;p&gt;전통적인 해결 방법은 webApplication Thread 갯수를 늘리는 것이다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 1rem;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 469px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5c85b754c54944360bd1d70a07725bdf/44038/img_13.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACpElEQVR42i2S2XLiRhRA9a15ma/IS/KSpJJ4mNhmMQIECK1oF1rQgiQE2MbxjJOqVL7mpOjKU1ffe/v0uX1bWqtTNvoMz9dIM5csDyiqiP5c0p8rLs8Np0sl9qdzRdvteb12/PPvO3/9/cLXjxPvHyf6c0HTJUiaPkMz5gSRSRBabDYKfmCxLyLaLufYl/Sniv5U0vclhybl0GZc344C+O3jzPu3E39+7QVUMm0Fy1aIYosk9VguZZ6eHlHVOVkecmgy8jwk34fC/ngqhG3dpAJSHWJ++PF7Pn36juHwDkmePXL/cMdCmRDFWwxjjWmuiWKHoox5fetIUh/H1UX+ZtefCurDjstzzfO1oawjNH1OFNs34JDhcICynJDtfdFa02YUZSSszpcDXV+IWLYPKOsd3bGgrGK6457TpeTl2nB9a2nbFGk6fWA0+sJUfiROHOKdK0zinSOA9SFF0xQ26gJNW1BWEd0xZ18ElGVE1+e0XUbTJFSHCGkmD7m1rShjoVwfEvHwVZ2QZT7nS83La0t7zCnrmGzv0TSZyKWpS1XFFGVIUQVkexfp4f6O33/7idFogL1VCQObMNzieoYwvME9z2Q+HyPLQ/zA4NAkpKknBNLMI9qZJKnNbmchrVYTdH2BZS2x7RVZ5lHXCVW9E8VhZIvpu56O46qEkSFgQWASJzZBaOB6Kp6v4gUa0mz2yHo9RdfnGKYiDu0Sh7wISFIX3zfFn7zZON4Ga7vCdtYEoYkf6GiajKIMWa3HmOYCaTS64wZVVZnNZoZhLv43sQQ4zT2x3g67rirqRuMBm43M58+/MB4PuP/jV8ajAev1BOnL4GcRXC4nrFZPAmqaCq6zIQwNkvQ2eQvHUTEtRTzNajkRF2+3K0xrga7LLJcj5vN7/gOI9OBvE9D83QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_13.png&apos; title=&apos;&apos; src=&apos;/static/5c85b754c54944360bd1d70a07725bdf/44038/img_13.png&apos; srcset=&apos;/static/5c85b754c54944360bd1d70a07725bdf/e7570/img_13.png 170w,
/static/5c85b754c54944360bd1d70a07725bdf/f46e7/img_13.png 340w,
/static/5c85b754c54944360bd1d70a07725bdf/44038/img_13.png 469w&apos; sizes=&apos;(max-width: 469px) 100vw, 469px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_13.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Thread Per Request 혹은 Thread for Connection 이러고도 하는데, 이는 &lt;br/&gt;
하나의 요청에 하나의 Thread 가 필요하다는 의미이다. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;예를들어 굉장히 많은 Thread 가 실행된다고 가정한다면, &lt;br/&gt;
성능 관점에서 CPU 컨텍스트 스위칭을 고려해야 하는데, 이런 컨텍스트 스위칭 오버헤드를 감수하더라도 I/O 요청을 최대한 처리할 수 있도록 하는 전략이라고 볼 수 있다. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;만약에 하나에 Thread 가 하나의 연결을 처리하고 있는 순간 다른 추가 요청이 있게 되면, &lt;br/&gt;
대기를 하는게 아니라 또다른 Thread 를 처리하게 된다. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;만약 대량의 요청을 처리하기 위해 요청 수 만큼 Thread 갯수를 늘리게 되면 결국 OOM 이 나버리게 된다.&lt;br/&gt;
만약 10만의 요청을 동시처리하고 싶다고 가정한다면, &lt;code class=&quot;language-text&quot;&gt;(10 만 * 스레드 크기 )&lt;/code&gt; == &lt;code class=&quot;language-text&quot;&gt;메모리 용량&lt;/code&gt; 이 되버린다.&lt;br/&gt;
거기에 하드웨어 최대 메모리까지 사용하게 되면 시스템이 아예 동작하지 못할수도 있다.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;커널에는 OOM 이라는 안전장치가 존재한다. ( 주요 프로세스를 Kill 해서 시스템 다운을 예방하는 역할 )&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;반면 사용이 완료된 Thread 를 삭제하는것도 문제다. &lt;br/&gt;
새로 들어오는 요청에 의해 다시 만들어야 되니까 ..&lt;br/&gt;
결국 쓰레드를 관리해야 하는것이 성능 관점에서 손해이다. &lt;br/&gt;&lt;/p&gt;
&lt;p&gt;이떄문에 Thread Pool 이 해결 방안으로 볼 수 있겠다. &lt;br/&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;가용 가능한 다수의 쓰레드를 미리 만들어 놓고, &lt;br/&gt;
요청이 들어오면 미리 만들어 놓은 쓰레드를 활용하고 사용이 다 했으면 해당 쓰레드를 다시 쓰레드 풀 에 반납하는 전략을 말한다. &lt;br/&gt;&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[배포전략]]></title><description><![CDATA[배포 전략]]></description><link>https://hyungkishin.github.io/deploy-strategy/</link><guid isPermaLink="false">https://hyungkishin.github.io/deploy-strategy/</guid><pubDate>Fri, 18 Nov 2022 00:00:00 GMT</pubDate><content:encoded>&lt;h1&gt;배포 전략&lt;/h1&gt;</content:encoded></item></channel></rss>